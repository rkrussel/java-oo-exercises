if (self.CavalryLogger) { CavalryLogger.start_js(["9+vTz"]); }

__d("CanvasCreationEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADD_ELEMENT:"editor.add_element",ADD_ELEMENT_TOP_TOOLBAR_BUTTON:"editor.add_element_top_toolbar",ADD_ELEMENT_BOTTOM_TOOLBAR_BUTTON:"editor.add_element_bottom_toolbar",CREATE:"create",DUPLICATE:"duplicate",EDITOR_COMPONENT_ATTRIBUTES:"editor.editor_component_attributes",EDITOR_EXIT:"editor.editor_exit",EDITOR_LINE_HEIGHT_TOUCH:"editor.editor_line_height_touch",EDITOR_LINE_HEIGHT_SAVE:"editor.editor_line_height_save",EDITOR_PADDING_TOUCH:"editor.editor_padding_touch",EDITOR_PADDING_SAVE:"editor.editor_padding_save",EDITOR_PHOTO_ASPECT_RATIO_WARNING:"editor.editor_photo_aspect_ratio_warning",EDITOR_PHOTO_UPLOAD_TIMEOUT:"editor.editor_photo_upload_timeout",LOAD:"load",PREVIEW_FAILURE:"editor.preview_failure",PREVIEW_SUCCESS:"editor.preview_success",PUBLISH:"publish",PUBLISH_FAILURE:"editor.publish_failure",VIDEO_ENCODE_SUCCESS:"editor.video_encode_success",VIDEO_ENCODE_ERROR:"editor.video_encode_error",VIDEO_POST_SUCCESS:"editor.video_post_success",VIDEO_POST_ERROR:"editor.video_post_error",VIDEO_UPLOAD_SUCCESS:"editor.video_upload_success",VIDEO_UPLOAD_ERROR:"editor.video_upload_error",SAVE:"save",SAVE_FAILURE:"editor.save_failure",SHARE_PREVIEW:"editor.share_preview",VALIDATION_ERROR:"editor.validation_error",WELCOMESCREEN_BLANKCANVAS:"welcome_screen.blankcanvas",WELCOMESCREEN_EXAMPLES:"welcome_screen.examples",WELCOMESCREEN_TIPS:"welcome_screen.tips",WELCOMESCREEN_TOUR:"welcome_screen.tour"};}),null);
__d("CanvasLoadSource",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LOAD_EXISTING_DOC:"load_existing",LOAD_DUPLICATE_DOC:"load_duplicate",LOAD_NEW_DEFAULT_DOC:"load_new",LOAD_NEW_USER:"load_new_user"};}),null);
__d("ComposedBlockType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={UNSTYLED:0,PARAGRAPH:1,UNORDERED_LIST_ITEM:2,ORDERED_LIST_ITEM:3,BLOCKQUOTE:4,HEADER_ONE:5,HEADER_TWO:6,CODE:7,MEDIA:8,PULLQUOTE:9,HEADER_THREE:10,HEADER_FOUR:11,HEADER_FIVE:12,HEADER_SIX:13};}),null);
__d("ComposedEntityType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MENTION:0,LINK:1,IMAGE:2,VIDEO:3,EMOTICON:4,TOKEN:5,HASHTAG:6,IMPLICIT_LINK:7,EMBED:8,EMOJI:9};}),null);
__d("ComposedInlineStyle",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,BOLD:1,ITALIC:2,UNDERLINE:4,CODE:8,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64};}),null);
__d("InstantShoppingDocumentElementType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={RICH_TEXT:1,PHOTO:2,BUTTON:3,SLIDESHOW:4,DIVIDER:5,EXPANDABLE_SECTION:6,STATEFUL:7,VIDEO:8,COLOR_SELECTOR:9,TOGGLE_BUTTON:10,HEADER:11,COMPOSITE_BLOCK:12,FOOTER:13,ELEMENT_GROUP:14,TITLE_AND_DATE:15,STORE_LOCATOR:16,SCRUBBABLE_GIF:17,LOCAL_IMAGE:18,CULTURAL_MOMENT_POPULAR_MEDIA:900};}),null);
__d("PagesComposerPostActionsLoggerEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PUBLISH:"publish",SCRAPED:"scraped",UPLOAD:"upload",IMAGE_SELECT:"image_select",IMAGE_UNSELECT_ON_UPLOAD_BAR:"image_unselect_on_upload_bar",IMAGE_UNSELECT_ON_CAROUSEL_CARD:"image_unselect_on_carousel_card",IMAGE_UNSELECT_ON_LPP_CARD:"image_unselect_on_carousel_card",IMAGE_CHANGE_LEFT_RIGHT:"image_change_left_right",IMAGE_DRAG:"image_drag",LPP_DESCRIPTION_EDIT:"lpp_description_edit",CAROUSEL_DESCRIPTION_EDIT:"carousel_description_edit",LPP_TITLE_EDIT:"lpp_title_edit",CAROUSEL_TITLE_EDIT:"carousel_title_edit",CHILD_IMAGES_NUM_INCONSISTENT:"child_images_num_inconsistent",CHILD_IMAGES_LINK_INCONSISTENT:"child_images_link_inconsistent",ATTACHMENT_STYLE_INVALID:"attachment_style_invalid",EDIT_URL:"edit_url",CLICK_UPLOAD_PHOTO_IN_PHOTO_TAB:"click_upload_photo_in_photo_tab",CLICK_UPLOAD_BUTTON_IN_TOOLBAR:"click_upload_button_in_toolbar",DRAG_PHOTO_TO_COMPOSER:"drag_photo_to_composer",CLICK_PHOTO_CAROUSEL_CREATE_TAB:"click_photo_carousel_create_tab",CLICK_CAROUSEL_CAMERA_ICON:"click_carousel_camera_icon",CLICK_SLIDESHOW_CREATE_TAB:"click_slideshow_create_tab",CLICK_CANVAS_CREATE_TAB:"click_canvas_create_tab",SHOW_PHOTO_CAROUSEL_CREATE_TAB:"show_photo_carousel_create_tab",REMOVE_PHOTO_CAROUSEL_URL_INPUT:"remove_photo_carousel_url_input",CLICK_UPLOAD_PHOTO_OPTION:"click_upload_photo_option",CLICK_PHOTO_ALBUM_OPTION:"click_photo_album_option",PREFILL_SCRAPE_URL:"prefill_scrape_url",EDIT_URL_APPLY_ALL:"edit_url_apply_all",UNKNOWN:"unknown"};}),null);
__d("RichMediaStoreLocatorElementTheme",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LIGHT:"Light",DARK:"Dark",CUSTOM:"Custom"};}),null);
__d('AdsCanvasEditorEnums',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={SAVED:0,SAVING:1,UNSAVED:2},i={NONE:'NONE',WARNING:'WARNING',ERROR:'ERROR'},j={WEBSITE:'WEBSITE',NATIVE:'NATIVE',CANVAS:'CANVAS'};f.exports={ErrorTypeEnum:i,SaveStateEnum:h,LinkDestinationEnum:j};}),null);
__d('RichMediaEditorConstants',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={EDITOR_HEIGHT:666,EDITOR_ELEMENT_ID_PREFIX:'editor_element',EDITOR_ELEMENT_CONTAINER_ID:'editor_element_container',EDITOR_FONT_FAMILIIES:['sans-serif','serif','HelveticaNeue-Regular','HelveticaNeue-Light','HelveticaNeue-Medium','HelveticaNeue-UltraLight','HelveticaNeue-CondensedBold','Georgia'],EDITOR_LINE_HEIGHT:['0.8','1.0','1.1','1.2','1.3','1.4','1.5','1.6','1.7','1.8','1.9','2.0'],EDITOR_DEFAULT_LINE_HEIGHT:'1.0',EDITOR_PADDING:['0','4','8','12','16','20','24','28','32','48','96','192'],EDITOR_DEFAULT_PADDING:'0',EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL:'48',EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL:'20',EDITOR_PADDING_PREVIEW_SCALE:1.2,MAX_LENGTH_SCRUBBABLE_GIF_SEC:30,MIN_LENGTH_SCRUBBABLE_GIF_SEC:1};}),null);
__d('RichMediaEditorUtil',['ads-lib-urllib'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={isValidURL:function i(j){return c('ads-lib-urllib').isUrl(j);},normalizeURL:function i(j){return c('ads-lib-urllib').normalize(j);},isValidDeeplink:function i(j){return true;}};f.exports=h;}),null);
__d('RichMediaElementValidationUtil',['AdsCanvasEditorEnums'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('AdsCanvasEditorEnums').LinkDestinationEnum,i={validateForAppstoreDestination:function j(k,l){if(l)for(var m=0;m<l.length;m++){var n=l[m];if(n===k)break;if(n.destination===h.NATIVE&&n.link&&k.destination===h.NATIVE&&k.link&&n.link!==k.link)return {isValid:false,errorMsg:'App store URLs should be same'};}return {isValid:true,errorMsg:''};}};f.exports=i;}),null);
__d('createCharacterList',['CharacterMetadata','immutable'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('immutable').List;function i(j,k){var l=j.map(function(m,n){var o=k[n];return c('CharacterMetadata').create({style:m,entity:o});});return h(l);}f.exports=i;}),null);
__d('decodeEntityRanges',['UnicodeUtils'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('UnicodeUtils').substr;function i(j,k){var l=Array(j.length).fill(null);if(k)k.forEach(function(m){var n=h(j,0,m.offset).length,o=n+h(j,m.offset,m.length).length;for(var p=n;p<o;p++)l[p]=m.key;});return l;}f.exports=i;}),null);
__d('decodeInlineStyleRanges',['UnicodeUtils','immutable'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('immutable').OrderedSet,i=c('UnicodeUtils').substr,j=h();function k(l,m){var n=Array(l.length).fill(j);if(m)m.forEach(function(o){var p=i(l,0,o.offset).length,q=p+i(l,o.offset,o.length).length;while(p<q){n[p]=n[p].add(o.style);p++;}});return n;}f.exports=k;}),null);
__d('convertFromRawToDraftState',['ContentBlock','ContentState','DraftEntity','immutable','createCharacterList','decodeEntityRanges','decodeInlineStyleRanges','generateRandomKey'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('immutable').Map;function i(j){var k=j.blocks,l=j.entityMap,m={};Object.keys(l).forEach(function(o){var p=l[o],q=p.type,r=p.mutability,s=p.data,t=c('DraftEntity').create(q,r,s||{});m[o]=t;});var n=k.map(function(o){var p=o.key,q=o.type,r=o.text,s=o.depth,t=o.inlineStyleRanges,u=o.entityRanges,v=o.data;p=p||c('generateRandomKey')();s=s||0;t=t||[];u=u||[];v=h(v);var w=c('decodeInlineStyleRanges')(r,t),x=u.filter(function(aa){return m.hasOwnProperty(aa.key);}).map(function(aa){return babelHelpers['extends']({},aa,{key:m[aa.key]});}),y=c('decodeEntityRanges')(r,x),z=c('createCharacterList')(w,y);return new (c('ContentBlock'))({key:p,type:q,text:r,depth:s,characterList:z,data:v});});return c('ContentState').createFromBlockArray(n);}f.exports=i;}),null);
__d('decodeBlocks',['ComposedBlockType','ComposedInlineStyle','convertFromRawToDraftState','mapObject'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k,l){var m=k.map(function(o){var p=o.type,q=o.inlineStyleRanges,r=babelHelpers.objectWithoutProperties(o,['type','inlineStyleRanges']);return babelHelpers['extends']({type:i[p],inlineStyleRanges:(q||[]).map(function(s){return babelHelpers['extends']({},s,{style:j[s.style]});})},r);}),n=c('mapObject')(l,function(o){return {type:o.getType(),mutability:o.getMutability(),data:o.getData()};});return c('convertFromRawToDraftState')({blocks:m,entityMap:n});}var i={};i[c('ComposedBlockType').UNSTYLED]='unstyled';i[c('ComposedBlockType').PARAGRAPH]='paragraph';i[c('ComposedBlockType').BLOCKQUOTE]='blockquote';i[c('ComposedBlockType').ORDERED_LIST_ITEM]='ordered-list-item';i[c('ComposedBlockType').UNORDERED_LIST_ITEM]='unordered-list-item';i[c('ComposedBlockType').CODE]='code-block';i[c('ComposedBlockType').HEADER_ONE]='header-one';i[c('ComposedBlockType').HEADER_TWO]='header-two';i[c('ComposedBlockType').MEDIA]='atomic';i[c('ComposedBlockType').PULLQUOTE]='pullquote';var j={};j[c('ComposedInlineStyle').BOLD]='BOLD';j[c('ComposedInlineStyle').CODE]='CODE';j[c('ComposedInlineStyle').ITALIC]='ITALIC';j[c('ComposedInlineStyle').STRIKETHROUGH]='STRIKETHROUGH';j[c('ComposedInlineStyle').UNDERLINE]='UNDERLINE';f.exports=h;}),null);
__d('DraftStringKey',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={stringify:function i(j){return '_'+String(j);},unstringify:function i(j){return j.slice(1);}};f.exports=h;}),null);
__d('encodeEntityRanges',['DraftStringKey','UnicodeUtils'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('UnicodeUtils').strlen;function i(j,k){var l=[];j.findEntityRanges(function(m){return !!m.getEntity();},function(m,n){var o=j.getText(),p=j.getEntityAt(m);l.push({offset:h(o.slice(0,m)),length:h(o.slice(m,n)),key:Number(k[c('DraftStringKey').stringify(p)])});});return l;}f.exports=i;}),null);
__d('encodeInlineStyleRanges',['UnicodeUtils','findRangesImmutable'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=function m(n,o){return n===o;},i=function m(n){return !!n;},j=[];function k(m,n,o){var p=[],q=n.map(function(r){return r.has(o);}).toList();c('findRangesImmutable')(q,h,i,function(r,s){var t=m.getText();p.push({offset:c('UnicodeUtils').strlen(t.slice(0,r)),length:c('UnicodeUtils').strlen(t.slice(r,s)),style:o});});return p;}function l(m){var n=m.getCharacterList().map(function(p){return p.getStyle();}).toList(),o=n.flatten().toSet().map(function(p){return k(m,n,p);});return Array.prototype.concat.apply(j,o.toJS());}f.exports=l;}),null);
__d('convertFromDraftStateToRaw',['DraftEntity','DraftStringKey','encodeEntityRanges','encodeInlineStyleRanges'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){var j=0,k={},l=[];i.getBlockMap().forEach(function(o,p){o.findEntityRanges(function(q){return q.getEntity()!==null;},function(q){var r=c('DraftStringKey').stringify(o.getEntityAt(q));if(!k.hasOwnProperty(r))k[r]=''+j++;});l.push({key:p,text:o.getText(),type:o.getType(),depth:o.getDepth(),inlineStyleRanges:c('encodeInlineStyleRanges')(o),entityRanges:c('encodeEntityRanges')(o,k),data:o.getData().toObject()});});var m=Object.keys(k),n={};m.forEach(function(o,p){var q=c('DraftEntity').get(c('DraftStringKey').unstringify(o));n[p]={type:q.getType(),mutability:q.getMutability(),data:q.getData()};});return {entityMap:n,blocks:l};}f.exports=h;}),null);
__d('encodeBlocks',['ComposedBlockType','ComposedEntityType','ComposedInlineStyle','convertFromDraftStateToRaw','mapObject','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k){var l=c('convertFromDraftStateToRaw')(k),m=l.blocks,n=l.entityMap,o=m.map(function(q){var r=q.key,s=q.type,t=q.text,u=q.depth,v=q.inlineStyleRanges,w=q.entityRanges;return {key:c('nullthrows')(r),type:i[s],text:t,depth:c('nullthrows')(u),inlineStyleRanges:c('nullthrows')(v).map(function(x){return babelHelpers['extends']({},x,{style:j[x.style]});}),entityRanges:c('nullthrows')(w)};}),p=c('mapObject')(n,function(q){var r=q.data,s=null,t=undefined;if(typeof r==='object'){s=r.id;t=babelHelpers.objectWithoutProperties(r,['id']);if(Object.keys(t).length===0){t=undefined;}else t=c('mapObject')(t,function(u){return u==null?'':String(u);});}return {id:s||null,type:c('ComposedEntityType')[q.type],data:t};});return {blocks:o,entityMap:p};}var i={unstyled:c('ComposedBlockType').UNSTYLED,paragraph:c('ComposedBlockType').PARAGRAPH,blockquote:c('ComposedBlockType').BLOCKQUOTE,'ordered-list-item':c('ComposedBlockType').ORDERED_LIST_ITEM,'unordered-list-item':c('ComposedBlockType').UNORDERED_LIST_ITEM,'code-block':c('ComposedBlockType').CODE,'header-one':c('ComposedBlockType').HEADER_ONE,'header-two':c('ComposedBlockType').HEADER_TWO,atomic:c('ComposedBlockType').MEDIA,pullquote:c('ComposedBlockType').PULLQUOTE,'header-three':c('ComposedBlockType').HEADER_TWO,'header-four':c('ComposedBlockType').HEADER_TWO,'header-five':c('ComposedBlockType').HEADER_TWO,'header-six':c('ComposedBlockType').HEADER_TWO},j={BOLD:c('ComposedInlineStyle').BOLD,CODE:c('ComposedInlineStyle').CODE,ITALIC:c('ComposedInlineStyle').ITALIC,STRIKETHROUGH:c('ComposedInlineStyle').STRIKETHROUGH,UNDERLINE:c('ComposedInlineStyle').UNDERLINE};f.exports=h;}),null);
__d('RichMediaRichFormatText',['ContentState','immutable','decodeBlocks','encodeBlocks','RichMediaEditorConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Record,k=c('RichMediaEditorConstants').EDITOR_FONT_FAMILIIES,l=c('RichMediaEditorConstants').EDITOR_LINE_HEIGHT,m=c('RichMediaEditorConstants').EDITOR_DEFAULT_LINE_HEIGHT,n={id:'',composedText:{entityMap:{},blocks:[]},textAlignment:'center',textColor:'#000',fontSize:15,fontFamily:k[0],lineHeight:m},o=j(n);h=babelHelpers.inherits(p,o);i=h&&h.prototype;p.create=function(q,r,s,t,u,v){return new p({composedText:c('encodeBlocks')(q),textAlignment:r,textColor:s,fontSize:t,fontFamily:u,lineHeight:v});};p.createDefault=function(){return p.create(c('ContentState').createFromText(''),'center','#777',15,k[0],m);};p.createFromObject=function(q){var r=q.fontFamily;if(k.indexOf(r)===-1)r=k[0];var s=q.lineHeight;if(l.indexOf(s)===-1)s=m;return new p({composedText:q.composedText,textAlignment:q.textAlignment,textColor:q.textColor,fontSize:q.fontSize,fontFamily:r,lineHeight:s});};p.getPlainTextFromComposedText=function(q){var r=c('decodeBlocks')(q.blocks,q.entityMap);return r.getPlainText();};function p(){h.apply(this,arguments);}f.exports=p;}),null);
__d('validateDeepLink',['AdsCreationConfig','URIRFC3986','arrayContains','trim'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('AdsCreationConfig').deepLinkBlacklist.map(function(j){return new RegExp(c('trim')(j,'/'));});function i(j){j=j.toLowerCase();var k=j.indexOf('://');if(k===-1)return false;var l=j.slice(0,k);if(l&&l.includes('.')){if(!/^[a-z0-9][a-z0-9+-.]*$/.test(l))return false;}else{var m=c('URIRFC3986').parse(j);if(m==null||!m.scheme||!/^([a-z][a-z0-9+-.]*):/i.test(j))return false;}if(c('arrayContains')(['http','https'],l))return true;var n=h.some(function(o){return o.test(j);});return !n;}f.exports=i;}),null);
__d('RichMediaButtonElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorUtil','RichMediaElementValidationUtil','RichMediaRichFormatText','RichMediaEditorConstants','AdsCanvasEditorEnums','validateDeepLink'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,k=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL,l=c('AdsCanvasEditorEnums').LinkDestinationEnum,m=c('immutable').Record,n=40,o={id:'',name:'',type:c('InstantShoppingDocumentElementType').BUTTON,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j,paddingLeft:k,paddingRight:k},buttonColor:'#000',isFilled:false,isFixedToBottom:false,link:'',deeplink:null,linkedCanvasName:null,destination:l.WEBSITE,richFormatText:c('RichMediaRichFormatText').createDefault()},p=m(o);h=babelHelpers.inherits(q,p);i=h&&h.prototype;q.create=function(r,s,t,u,v,w,x,y,z,aa,ba,ca,da){return new q({index:r,name:s,type:c('InstantShoppingDocumentElementType').BUTTON,expanded:t,advancedExpanded:u,padding:v,buttonColor:w,isFilled:x,isFixedToBottom:y,link:z,deeplink:aa,linkedCanvasName:ba,destination:ca,richFormatText:da});};q.createDefault=function(r){return q.create(r,'Button',true,false,{paddingTop:j,paddingBottom:j,paddingLeft:k,paddingRight:k},'#000',false,false,'',null,null,l.WEBSITE,c('RichMediaRichFormatText').createDefault());};q.createFromObject=function(r){return q.create(r.index,r.name,r.expanded,r.advancedExpanded,{paddingTop:r.padding&&r.padding.paddingTop?r.padding.paddingTop:j,paddingBottom:r.padding&&r.padding.paddingBottom?r.padding.paddingBottom:j,paddingLeft:r.padding&&r.padding.paddingLeft?r.padding.paddingLeft:k,paddingRight:r.padding&&r.padding.paddingRight?r.padding.paddingRight:k},r.buttonColor,r.isFilled,r.isFixedToBottom,r.link,r.deeplink,r.linkedCanvasName,r.destination,c('RichMediaRichFormatText').createFromObject(r.richFormatText));};q.validate=function(r,s){if(!r.link)return {isValid:false,errorMsg:'Empty Link URL'};if(!c('RichMediaEditorUtil').isValidURL(r.link))if(r.destination===l.NATIVE){return {isValid:false,errorMsg:'Invalid Store URL'};}else return {isValid:false,errorMsg:'Invalid Website URL'};var t=c('RichMediaElementValidationUtil').validateForAppstoreDestination(r,s);if(!t.isValid)return t;if(r.deeplink)if(!c('validateDeepLink')(r.deeplink))return {isValid:false,errorMsg:'Invalid Deeplink'};var u=c('RichMediaRichFormatText').getPlainTextFromComposedText(r.richFormatText.composedText);if(u.length>n)return {isValid:false,errorMsg:'Button text too long'};return {isValid:true,errorMsg:''};};function q(){h.apply(this,arguments);}f.exports=q;}),null);
__d('RichMediaCarouselItem',['immutable','RichMediaEditorUtil','RichMediaElementValidationUtil','AsyncUploadRequest','AdsCanvasEditorEnums','getByPath','validateDeepLink'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('AdsCanvasEditorEnums').LinkDestinationEnum,k=c('immutable').Record,l={id:'',index:0,photo:null,name:'',description:null,link:null,deeplink:null,linkedCanvasName:null,destination:j.WEBSITE,uploadStatus:null,uploadRequest:null},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v,w,x,y){return new n({id:o,index:p,photo:q,name:r,description:s,link:t,deeplink:u,linkedCanvasName:v,destination:w,uploadStatus:x,uploadRequest:y});};n.createDefault=function(o,p,q){return n.create(o,p,null,'',null,null,null,null,j.WEBSITE,null,q);};n.createFromObject=function(o){return n.create(o.id||o.name+'_'+Date.now(),o.index,o.photo,o.name,o.description,o.link,o.deeplink,o.linkedCanvasName,o.destination,null,o.uploadRequest);};n.createFromPayloadAndElementField=function(o,p){if(p)o.photo.src=c('getByPath')(p,['element','photo','source']);return n.create(o.id||o.name+'_'+Date.now(),o.index,o.photo,o.name,o.description,o.link,o.deeplink,o.linkedCanvasName,o.destination,null,o.uploadRequest);};n.validate=function(o,p){if(!o.photo)return {isValid:false,errorMsg:'Missing photo'};if(o.link&&!c('RichMediaEditorUtil').isValidURL(o.link))if(o.destination===j.NATIVE){return {isValid:false,errorMsg:'Invalid Store URL'};}else return {isValid:false,errorMsg:'Invalid Website URL'};var q=c('RichMediaElementValidationUtil').validateForAppstoreDestination(o,p);if(!q.isValid)return q;if(o.deeplink)if(!c('validateDeepLink')(o.deeplink))return {isValid:false,errorMsg:'Invalid Deeplink'};if(o.uploadStatus&&o.uploadStatus.isUploading!==false)return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''};};function n(){h.apply(this,arguments);}f.exports=n;}),null);
__d('RichMediaElement',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Record;h=babelHelpers.inherits(k,j({id:'',index:-1,name:'',type:-1,expanded:false,advancedExpanded:false}));i=h&&h.prototype;function k(){h.apply(this,arguments);}f.exports=k;}),null);
__d('RichMediaCarouselElement',['AdsCanvasEditorFeature','immutable','InstantShoppingDocumentElementType','RichMediaCarouselItem','AsyncUploadRequest','RichMediaElement','RichMediaEditorConstants','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,k=c('immutable').Record,l={id:'',name:'',type:c('InstantShoppingDocumentElementType').SLIDESHOW,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},layout:'fit_to_width',items:[],selectedItemIndex:0,addFile:function o(){return null;},onFileProgress:function o(){},onFileSuccess:function o(){},onFileError:function o(){}},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v){return new n({index:o,name:p,type:c('InstantShoppingDocumentElementType').SLIDESHOW,expanded:q,advancedExpanded:r,padding:s,layout:t,items:u,selectedItemIndex:v});};n.createDefault=function(o){return n.create(o,'Carousel',true,false,{paddingTop:j,paddingBottom:j},'fit_to_width',[0,1].map(function(p){return (c('RichMediaCarouselItem').createDefault(p+'_'+Math.round(Math.random()*10000)+'_'+Date.now(),p,null));}),0);};n.createFromObject=function(o){var p=[],q=0;o.items.forEach(function(s){if(s){var t=c('RichMediaCarouselItem').createFromObject(s);p.push(t.set('index',q));q++;}});var r=o.selectedItemIndex||o.selectedItemIndex===0?o.selectedItemIndex:0;r=Math.min(Math.max(0,r),p.length-1);return n.create(o.index,o.name,o.expanded,o.advancedExpanded,o.padding,o.layout,p,r);};n.createFromPayloadAndElementField=function(o,p){var q=[],r=c('getByPath')(p,['element','child_elements','length'],0);for(var s=0;s<o.items.length;s++){var t=o.items[s],u=s<r?p.element.child_elements[s]:null;if(t){var v=c('RichMediaCarouselItem').createFromPayloadAndElementField(t,u);q.push(v.set('index',s));}}var w=o.selectedItemIndex||o.selectedItemIndex===0?o.selectedItemIndex:0;w=Math.min(Math.max(0,w),q.length-1);return n.create(o.index,o.name,o.expanded,o.advancedExpanded,o.padding,o.layout,q,w);};n.validate=function(o,p){if(o.items.length<=1)return {isValid:false,errorMsg:'Upload at least 2 images to create a carousel'};for(var q=0;q<o.items.length;++q){var r=o.items[q],s=c('RichMediaCarouselItem').validate(r,p);if(!s.isValid)return {isValid:false,errorMsg:'Item '+(q+1)+' '+s.errorMsg};}return {isValid:true,errorMsg:''};};n.prototype.addFile=function(o,p){this.items.push(c('RichMediaCarouselItem').createDefault(o,this.items.length,p));return this;};n.prototype.reorderItem=function(o,p){var q=this.items[o];this.items.splice(o,1);this.items.splice(p,0,q);return this;};n.prototype.replaceFile=function(o,p){var q=this.items.findIndex(function(r){return r.id===o;});if(q<0)return this;this.items[q]=this.items[q].set('uploadStatus',{isUploading:true,percentage:0});return this;};n.prototype.onFileProgress=function(o,p){var q=this.items.findIndex(function(r){return r.id===o;});this.items[q]=this.items[q].set('uploadStatus',{isUploading:true,percentage:p});return this;};n.prototype.onFileSuccess=function(o,p){var q=this.items.findIndex(function(r){return r.id===o;});this.items[q]=this.items[q].set('uploadStatus',{isUploading:false}).set('photo',p.payload.photo);return this;};n.prototype.onFileError=function(o){var p=this.items.findIndex(function(q){return q.id===o;});this.items[p]=this.items[p].set('uploadStatus',{isUploading:false});return this;};function n(){h.apply(this,arguments);}f.exports=n;}),null);
/**
 * @providesModule colr-convert
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */__d("colr-convert",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();'use strict';f.exports={grayscale:{rgb:q},hex:{rgb:i},rgb:{hsl:k,hsv:l,hex:j,grayscale:r},hsl:{rgb:m,hsv:n},hsv:{rgb:o,hsl:p}};function h(s){return (s<58?s-48:s<71?s-55:s-87);}function i(s){var t=s[0]==='#'?1:0,u=s.length;if(u-t<3)throw new Error('hex input must be at least three chars long');var v,w,x,y=h(s.charCodeAt(0+t)),z=h(s.charCodeAt(1+t)),aa=h(s.charCodeAt(2+t));if(u-t>=6){v=(y<<4)+z;w=(aa<<4)+h(s.charCodeAt(3+t));x=(h(s.charCodeAt(4+t))<<4)+h(s.charCodeAt(5+t));}else{v=(y<<4)+y;w=(z<<4)+z;x=(aa<<4)+aa;}if(v<0||v>255||w<0||w>255||x<0||x>255)throw new Error('hex input is invalid');return [v,w,x];}function j(s){return '#'+('000000'+((s[0]<<16)+(s[1]<<8)+s[2]).toString(16)).slice(-6);}function k(s){var t=s[0]/255,u=s[1]/255,v=s[2]/255,w=Math.min(t,u,v),x=Math.max(t,u,v),y=x-w,z,aa,ba;if(x===w){z=0;}else if(t===x){z=(u-v)/y;}else if(u===x){z=2+(v-t)/y;}else if(v===x)z=4+(t-u)/y;z=Math.min(z*60,360);if(z<0)z+=360;ba=(w+x)/2;if(x===w){aa=0;}else if(ba<=.5){aa=y/(x+w);}else aa=y/(2-x-w);return [z,aa*100,ba*100];}function l(s){var t=s[0],u=s[1],v=s[2],w=Math.min(t,u,v),x=Math.max(t,u,v),y=x-w,z,aa,ba;if(x===0){aa=0;}else aa=(y/x*1000)/10;if(x===w){z=0;}else if(t===x){z=(u-v)/y;}else if(u===x){z=2+(v-t)/y;}else if(v===x)z=4+(t-u)/y;z=Math.min(z*60,360);if(z<0)z+=360;ba=((x/255)*1000)/10;return [z,aa,ba];}function m(s){var t=s[0]/360,u=s[1]/100,v=s[2]/100,w,x,y;if(u===0){w=x=y=v;}else{var z=v<.5?v*(u+1):v+u-v*u,aa=2*v-z,ba;ba=t+1/3;if(ba<0){ba+=1;}else if(ba>1)ba-=1;if(ba<1/6){w=aa+(z-aa)*ba*6;}else if(ba<1/2){w=z;}else if(ba<2/3){w=aa+(z-aa)*(2/3-ba)*6;}else w=aa;ba=t;if(ba<0){ba+=1;}else if(ba>1)ba-=1;if(ba<1/6){x=aa+(z-aa)*ba*6;}else if(ba<1/2){x=z;}else if(ba<2/3){x=aa+(z-aa)*(2/3-ba)*6;}else x=aa;ba=t-1/3;if(ba<0){ba+=1;}else if(ba>1)ba-=1;if(ba<1/6){y=aa+(z-aa)*ba*6;}else if(ba<1/2){y=z;}else if(ba<2/3){y=aa+(z-aa)*(2/3-ba)*6;}else y=aa;}return [w*255,x*255,y*255];}function n(s){var t=s[0],u=s[1]/100,v=s[2]/100,w,x;if(u===0)return [t,0,v*100];if(v===0)return [t,0,0];v*=2;u*=(v<=1)?v:2-v;x=(v+u)/2;w=(2*u)/(v+u);return [t,w*100,x*100];}function o(s){var t=s[0]/60,u=s[1]/100,v=s[2]/100,w=Math.floor(t)%6,x=t-Math.floor(t),y=255*v*(1-u),z=255*v*(1-(u*x)),aa=255*v*(1-(u*(1-x)));v=255*v;switch(w){case 0:return [v,aa,y];case 1:return [z,v,y];case 2:return [y,v,aa];case 3:return [y,z,v];case 4:return [aa,y,v];case 5:return [v,y,z];}}function p(s){var t=s[0],u=s[1]/100,v=s[2]/100,w,x;if(u===0)return [t,0,v*100];if(v===0)return [t,0,0];x=(2-u)*v;w=u*v;w/=(x<=1)?x:2-x;x/=2;return [t,w*100,x*100];}function q(s){return [s,s,s];}function r(s){return (s[0]*299+s[1]*587+s[2]*114)/1000;}}),null);
/**
 * @providesModule colr
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */__d("colr",["colr-convert"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();'use strict';var h=c('colr-convert');function i(){if((this instanceof i)===false)return new i();this._={};}i.fromHex=function(n){return (new i()).fromHex(n);};i.fromGrayscale=function(n){return (new i()).fromGrayscale(n);};i.fromRgb=function(n,o,p){return (new i()).fromRgb(n,o,p);};i.fromRgbArray=function(n){return (new i()).fromRgb(n[0],n[1],n[2]);};i.fromRgbObject=function(n){return (new i()).fromRgb(n.r,n.g,n.b);};i.fromHsl=function(n,o,p){return (new i()).fromHsl(n,o,p);};i.fromHslArray=function(n){return (new i()).fromHsl(n[0],n[1],n[2]);};i.fromHslObject=function(n){return (new i()).fromHsl(n.h,n.s,n.l);};i.fromHsv=function(n,o,p){return (new i()).fromHsv(n,o,p);};i.fromHsvArray=function(n){return (new i()).fromHsv(n[0],n[1],n[2]);};i.fromHsvObject=function(n){return (new i()).fromHsv(n.h,n.s,n.v);};i.prototype.fromHex=function(n){var o=h.hex.rgb(n);this._={rgb:o};return this;};i.prototype.fromGrayscale=function(n){n=k(n);var o=h.grayscale.rgb(n);this._={rgb:o};return this;};i.prototype.fromRgb=function(n,o,p){if(typeof(n)!=='number'||typeof(o)!=='number'||typeof(p)!=='number')throw new Error('Arguments must be numbers');var q=l(n,o,p);this._={rgb:q};return this;};i.prototype.fromRgbArray=function(n){return this.fromRgb(n[0],n[1],n[2]);};i.prototype.fromRgbObject=function(n){return this.fromRgb(n.r,n.g,n.b);};i.prototype.fromHsl=function(n,o,p){if(typeof(n)!=='number'||typeof(o)!=='number'||typeof(p)!=='number')throw new Error('Arguments must be numbers');this._={hsl:m(n,o,p)};return this;};i.prototype.fromHslArray=function(n){return this.fromHsl(n[0],n[1],n[2]);};i.prototype.fromHslObject=function(n){return this.fromHsl(n.h,n.s,n.l);};i.prototype.fromHsv=function(n,o,p){if(typeof(n)!=='number'||typeof(o)!=='number'||typeof(p)!=='number')throw new Error('Arguments must be numbers');this._={hsv:m(n,o,p)};return this;};i.prototype.fromHsvArray=function(n){return this.fromHsv(n[0],n[1],n[2]);};i.prototype.fromHsvObject=function(n){return this.fromHsv(n.h,n.s,n.v);};i.prototype.toHex=function(){var n=this._.hex;if(n!==undefined)return n;var o,p=this._.rgb;if(p!==undefined){o=p;}else o=this.toRawRgbArray();o[0]=Math.round(o[0]);o[1]=Math.round(o[1]);o[2]=Math.round(o[2]);var q=h.rgb.hex(o);this._.hex=q;return q;};i.prototype.toGrayscale=function(){var n=this._.grayscale;if(n!==undefined)return n;var o,p=this._.rgb;if(p!==undefined){o=p;}else o=this.toRawRgbArray();var q=h.rgb.grayscale(o);this._.grayscale=q;return q;};i.prototype.toRawRgbArray=function(){var n=this._.rgb;if(n!==undefined)return n;var o;if((o=this._.hsv)!==undefined){o=h.hsv.rgb(o);}else if((o=this._.hsl)!==undefined){o=h.hsl.rgb(o);}else throw new Error('No data to convert');this._.rgb=o;return o;};i.prototype.toRawRgbObject=function(){var n=this.toRawRgbArray();return {r:n[0],g:n[1],b:n[2]};};i.prototype.toRgbArray=function(){var n=this.toRawRgbArray();return [Math.round(n[0]),Math.round(n[1]),Math.round(n[2])];};i.prototype.toRgbObject=function(){var n=this.toRgbArray();return {r:n[0],g:n[1],b:n[2]};};i.prototype.toRawHslArray=function(){var n=this._.hsl;if(n!==undefined)return n;var o;if((o=this._.hsv)!==undefined){o=h.hsv.hsl(o);}else if((o=this._.rgb)!==undefined){o=h.rgb.hsl(o);}else throw new Error('No data to convert');this._.hsl=o;return o;};i.prototype.toRawHslObject=function(){var n=this.toRawHslArray();return {h:n[0],s:n[1],l:n[2]};};i.prototype.toHslArray=function(){var n=this.toRawHslArray();return [Math.round(n[0]),Math.round(n[1]),Math.round(n[2])];};i.prototype.toHslObject=function(){var n=this.toHslArray();return {h:n[0],s:n[1],l:n[2]};};i.prototype.toRawHsvArray=function(){var n=this._.hsv;if(n!==undefined)return n;var o;if((o=this._.hsl)!==undefined){o=h.hsl.hsv(o);}else if((o=this._.rgb)!==undefined){o=h.rgb.hsv(o);}else throw new Error('No data to convert');this._.hsv=o;return o;};i.prototype.toRawHsvObject=function(){var n=this.toRawHsvArray();return {h:n[0],s:n[1],v:n[2]};};i.prototype.toHsvArray=function(){var n=this.toRawHsvArray();return [Math.round(n[0]),Math.round(n[1]),Math.round(n[2])];};i.prototype.toHsvObject=function(){var n=this.toHsvArray();return {h:n[0],s:n[1],v:n[2]};};i.prototype.lighten=function(n){var o=this.toRawHslArray();o[2]=j(o[2]+n);this._={hsl:o};return this;};i.prototype.darken=function(n){var o=this.toRawHslArray();o[2]=j(o[2]-n);this._={hsl:o};return this;};i.prototype.clone=function(){var n=new i();n._.hex=this._.hex;n._.grayscale=this._.grayscale;if(this._.rgb!==undefined)n._.rgb=this._.rgb.slice(0);if(this._.hsv!==undefined)n._.hsv=this._.hsv.slice(0);if(this._.hsl!==undefined)n._.hsl=this._.hsl.slice(0);return n;};function j(n){return Math.max(Math.min(n,100),0);}function k(n){return Math.max(Math.min(n,255),0);}function l(n,o,p){return [Math.max(Math.min(n,255),0),Math.max(Math.min(o,255),0),Math.max(Math.min(p,255),0),];}function m(n,o,p){return [Math.max(Math.min(n,360),0),Math.max(Math.min(o,100),0),Math.max(Math.min(p,100),0),];}f.exports=i;}),null);
__d('CanvasColorUtils',['Assert','colr'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(k){var l=Math.floor(k*255/100).toString(16);if(l.length===1)l='0'+l;return l;}function i(k){c('Assert').isTrue(k.length<=2,'invalid hex string: '+k);return Math.ceil(parseInt(k,16)/255*100);}function j(k){return c('colr').fromHex(k).toGrayscale()/255;}f.exports={convertColorWithOpacityToARGB:function k(l){var m=l.color;c('Assert').isTrue(6===m.length,'unexpected length string: '+m);var n=h(l.opacity)+m;c('Assert').isTrue(n.length===8,'generated invalid argb: '+n);return n;},convertARGBToColorWithOpacity:function k(l){c('Assert').isTrue(l.length===8,'Got argb: '+l);return {color:l.slice(2),opacity:i(l.slice(0,2))};},convertRGBtoCSSColorWithOpacity:function k(l,m){c('Assert').isTrue(6===l.length,'unexpected length string: '+l);return 'rgba('+parseInt(l.slice(0,2),16)+','+parseInt(l.slice(2,4),16)+','+parseInt(l.slice(4,6),16)+','+m+')';},luminosityOfColor:j,colorContrastingWith:function k(l){return j(l)>.5?'#000':'#FFF';}};}),null);
__d('RichMediaHeaderElement',['CanvasColorUtils','immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,k=c('immutable').Record,l={id:'',name:'',type:c('InstantShoppingDocumentElementType').HEADER,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},fixToTop:true,photo:null,backgroundColor:null,isCulturalMomentHeader:null,uploadStatus:null},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v,w){return new n({name:o,type:c('InstantShoppingDocumentElementType').HEADER,expanded:q,advancedExpanded:r,padding:s,index:p,fixToTop:true,photo:t,backgroundColor:u,isCulturalMomentHeader:v,uploadStatus:w});};n.createDefault=function(o){return n.create('Header',o,true,false,{paddingTop:j,paddingBottom:j},null,'FFFFFFFF',null,null);};n.createFromObject=function(o){return n.create(o.name,o.index,o.expanded,o.advancedExpanded,o.padding,o.photo,o.backgroundColor,o.isCulturalMomentHeader);};n.createFromPayloadAndElementField=function(o,p){o.photo.src=c('getByPath')(p,['element','child_elements','0','element','photo','source']);return n.create(o.name,o.index,o.expanded,o.advancedExpanded,o.padding,o.photo,o.backgroundColor,o.isCulturalMomentHeader);};n.validate=function(o){if(!o.photo)return {isValid:false,errorMsg:'Missing photo'};if(!o.backgroundColor)return {isValid:false,errorMsg:'Missing background color'};if(o.uploadStatus&&o.uploadStatus.isUploading!==false)return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''};};n.prototype.isOpaque=function(){if(!this.backgroundColor)return true;var o=c('CanvasColorUtils').convertARGBToColorWithOpacity(this.backgroundColor);if(o.opacity===100)return true;return false;};function n(){h.apply(this,arguments);}f.exports=n;}),null);
__d('RichMediaCulturalMomentHeaderElement',['InstantShoppingDocumentElementType','RichMediaEditorConstants','RichMediaHeaderElement'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING;h=babelHelpers.inherits(k,c('RichMediaHeaderElement'));i=h&&h.prototype;k.create=function(l,m,n,o,p,q,r,s,t){return new k({name:l,type:c('InstantShoppingDocumentElementType').HEADER,expanded:n,advancedExpanded:o,padding:p,index:m,fixToTop:true,photo:q,backgroundColor:r,isCulturalMomentHeader:s,uploadStatus:t});};k.createDefault=function(l){return k.create('Header',l,true,false,{paddingTop:j,paddingBottom:j},null,'FF000000',true,null);};k.createFromObject=function(l){return k.create(l.name,l.index,l.expanded,l.advancedExpanded,l.padding,l.photo,l.backgroundColor,l.isCulturalMomentHeader);};k.createFromPayloadAndElementField=function(l,m){return k.create(l.name,l.index,l.expanded,l.advancedExpanded,l.padding,l.photo,l.backgroundColor,l.isCulturalMomentHeader);};k.validate=function(l){if(!l.backgroundColor)return {isValid:false,errorMsg:'Missing background color'};return {isValid:true,errorMsg:''};};function k(){h.apply(this,arguments);}f.exports=k;}),null);
__d('RichMediaEditorActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_DOCUMENT_NAME:true,SET_DOCUMENT_THEME:true,SET_DOCUMENT_EDIT_STATE:true,ADD_DOCUMENT_ELEMENT:true,ADD_FILES_TO_DOCUMENT_ELEMENT:true,REPLACE_FILE_IN_DOCUMENT:true,EDIT_DOCUMENT_ELEMENT:true,MOVE_ELEMENT_UP:true,MOVE_ELEMENT_DOWN:true,DELETE_ELEMENT:true,CREATE_DEFAULT_DOCUMENT:true,SET_PREVIEW_FAILED:true,SET_SAVE_FAILED:true,SET_SENDING_PREVIEW:true,SET_DIALOG_SHOWN:true,SET_DIALOG_CANVAS:true,SET_DOCUMENT_URL_DIALOG_SHOWN:true,SET_FORCE_EDIT_PUBLISHED:true,TOGGLE_DOCUMENT_DEBUG_PANE_SHOWN:true,LOAD_DOCUMENT:true,SELECT_ELEMENT_TO_ADD:true,DESELECT_ELEMENT_TO_ADD:true,ADD_ELEMENTS_SELECTED:true,SET_ADD_COMPONENT_DIALOG_SHOWN:true,SET_USE_CUSTOMIZE_THEME_COLOR:true,SET_CUSTOMIZE_THEME_COLOR:true,SET_SELECTED_CANVAS:true,SET_UNPUBLISHED_CANVAS:true,RESET_UNPUBLISHED_CANVAS:true,TOGGLE_WELCOME_PANE_SHOWN:false,TRIGGER_NUX_TOUR:false,COLLAPSE_EXPANDED_ELEMENTS:false},'RichMediaEditor');}),null);
__d('RichMediaEditorDispatcher',['ReactDispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactDispatcher_DEPRECATED'));i=h&&h.prototype;function j(){i.constructor.call(this);this.dispatch=this.dispatch.bind(this);}f.exports=new j();}),null);
__d('RichMediaEditorActions',['RichMediaEditorActionTypes','RichMediaEditorDispatcher'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={collapseExpandedElements:function h(){c('RichMediaEditorDispatcher').dispatch({data:{},type:c('RichMediaEditorActionTypes').COLLAPSE_EXPANDED_ELEMENTS});},setDocumentName:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{name:i},type:c('RichMediaEditorActionTypes').SET_DOCUMENT_NAME});},setDocumentTheme:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{theme:i},type:c('RichMediaEditorActionTypes').SET_DOCUMENT_THEME});},setDocumentEditState:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{editState:i},type:c('RichMediaEditorActionTypes').SET_DOCUMENT_EDIT_STATE});},addDocumentElement:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{element:i},type:c('RichMediaEditorActionTypes').ADD_DOCUMENT_ELEMENT});},addFilesToDocumentElement:function h(i,j,k){c('RichMediaEditorDispatcher').dispatch({data:{element:i,pageID:j,files:k},type:c('RichMediaEditorActionTypes').ADD_FILES_TO_DOCUMENT_ELEMENT});},replaceFileInDocumentElement:function h(i,j,k,l){c('RichMediaEditorDispatcher').dispatch({data:{element:i,pageID:j,itemID:k,files:l},type:c('RichMediaEditorActionTypes').REPLACE_FILE_IN_DOCUMENT});},editDocumentElement:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{element:i},type:c('RichMediaEditorActionTypes').EDIT_DOCUMENT_ELEMENT});},moveElementUp:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{element:i},type:c('RichMediaEditorActionTypes').MOVE_ELEMENT_UP});},moveElementDown:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{element:i},type:c('RichMediaEditorActionTypes').MOVE_ELEMENT_DOWN});},deleteElement:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{element:i},type:c('RichMediaEditorActionTypes').DELETE_ELEMENT});},createDefaultDocument:function h(){c('RichMediaEditorDispatcher').dispatch({data:{},type:c('RichMediaEditorActionTypes').CREATE_DEFAULT_DOCUMENT});},setPreviewFailed:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{previewFailed:i},type:c('RichMediaEditorActionTypes').SET_PREVIEW_FAILED});},setSendingPreview:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{sendingPreview:i},type:c('RichMediaEditorActionTypes').SET_SENDING_PREVIEW});},setSaveFailed:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{saveFailed:i},type:c('RichMediaEditorActionTypes').SET_SAVE_FAILED});},setDialogShown:function h(i,j){c('RichMediaEditorDispatcher').dispatch({data:{dialogID:i,dialogShown:j},type:c('RichMediaEditorActionTypes').SET_DIALOG_SHOWN});},setDialogCanvas:function h(i,j){c('RichMediaEditorDispatcher').dispatch({data:{dialogID:i,canvas:j},type:c('RichMediaEditorActionTypes').SET_DIALOG_CANVAS});},setDocumentURLDialogShown:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{dialogShown:i},type:c('RichMediaEditorActionTypes').SET_DOCUMENT_URL_DIALOG_SHOWN});},setForceEditPublished:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{forceEditPublished:i},type:c('RichMediaEditorActionTypes').SET_FORCE_EDIT_PUBLISHED});},toggleDocumentDebugPaneShown:function h(){c('RichMediaEditorDispatcher').dispatch({data:{},type:c('RichMediaEditorActionTypes').TOGGLE_DOCUMENT_DEBUG_PANE_SHOWN});},toggleWelcomePaneShown:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{shown:i},type:c('RichMediaEditorActionTypes').TOGGLE_WELCOME_PANE_SHOWN});},triggerNuxTour:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{shown:i},type:c('RichMediaEditorActionTypes').TRIGGER_NUX_TOUR});},loadDocument:function h(i,j,k,l,m){c('RichMediaEditorDispatcher').dispatch({data:{documentName:i,documentTheme:j,documentID:k,elementsPayload:l,elements:m},type:c('RichMediaEditorActionTypes').LOAD_DOCUMENT});},selectElementToAdd:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{elementTypeName:i},type:c('RichMediaEditorActionTypes').SELECT_ELEMENT_TO_ADD});},deselectElementToAdd:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{elementTypeName:i},type:c('RichMediaEditorActionTypes').DESELECT_ELEMENT_TO_ADD});},addElementsSelected:function h(){c('RichMediaEditorDispatcher').dispatch({data:{},type:c('RichMediaEditorActionTypes').ADD_ELEMENTS_SELECTED});},setAddComponentDialogShown:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{dialogShown:i},type:c('RichMediaEditorActionTypes').SET_ADD_COMPONENT_DIALOG_SHOWN});},setUseCustomizeThemeColor:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{useCustomizeThemeColor:i},type:c('RichMediaEditorActionTypes').SET_USE_CUSTOMIZE_THEME_COLOR});},setCustomizeThemeColor:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{customizeThemeColor:i},type:c('RichMediaEditorActionTypes').SET_CUSTOMIZE_THEME_COLOR});},setUnpublishedCanvas:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{unpublishedCanvas:i},type:c('RichMediaEditorActionTypes').SET_UNPUBLISHED_CANVAS});},resetUnpublishedCanvas:function h(){c('RichMediaEditorDispatcher').dispatch({type:c('RichMediaEditorActionTypes').RESET_UNPUBLISHED_CANVAS});},setSelectedCanvas:function h(i){c('RichMediaEditorDispatcher').dispatch({data:{selectedCanvas:i},type:c('RichMediaEditorActionTypes').SET_SELECTED_CANVAS});}};}),null);
__d('AdsCanvasEditorFunnelLoggingConstants',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={FUNNEL_LOGGING_NAME:'WWW_CANVAS_EDITOR_FUNNEL',FUNNEL_LOGGING_EVENT:{ADD_ELEMENT:'add_element',CREATE_POST:'create_post',CHANGE_CANVAS_TITLE:'change_canvas_title',CHANGE_ELEMENT_TITLE:'change_element_title',DUPLICATE:'duplicate',GET_URL:'get_url',PREVIEW_FAIL:'preview_fail',PREVIEW_SELF:'preview_self',PREVIEW_SHARE:'preview_share',PUBLISH:'publish_canvas',PUBLISH_FAILURE:'publish_failure',REMOVE_ELEMENT:'remove_element',SAVE:'save_canvas',SAVE_FAILURE:'save_failure',SWITCH_ELEMENT:'switch_element',UPLOAD_VIDEO:'upload_video',UPLOAD_PHOTO:'upload_photo',VALIDATION_ERROR:'validation_error',WELCOMESCREEN_BLANKCANVAS:'welcome_screen_blankcanvas',WELCOMESCREEN_EXAMPLES:'welcome_screen_examples',WELCOMESCREEN_TIPS:'welcome_screen_tips',WELCOMESCREEN_TOUR:'welcome_screen_tour'},FUNNEL_LOGGING_TIMEOUT:999999,FUNNEL_LOGGING_TAGS:{EDITOR_EXIT:'editor_exit',FIRST_TIME_USER:'first_time_user',WELCOMESCREEN_SHOWN:'welcome_screen_shown'}};}),null);
__d('CanvasCreationWaterfallTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:CanvasCreationWaterfallLoggerConfig',this.$CanvasCreationWaterfallTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:CanvasCreationWaterfallLoggerConfig',this.$CanvasCreationWaterfallTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$CanvasCreationWaterfallTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$CanvasCreationWaterfallTypedLogger1=babelHelpers['extends']({},this.$CanvasCreationWaterfallTypedLogger1,j);return this;};h.prototype.setCanvasID=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_id=j;return this;};h.prototype.setCanvasLoadType=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_load_type=j;return this;};h.prototype.setCanvasName=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_name=j;return this;};h.prototype.setDuplicateParentCanvasID=function(j){this.$CanvasCreationWaterfallTypedLogger1.duplicate_parent_canvas_id=j;return this;};h.prototype.setEditorComponentAttributes=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_component_attributes=j;return this;};h.prototype.setEditorLineHeight=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_line_height=j;return this;};h.prototype.setEditorPaddingBottom=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_padding_bottom=j;return this;};h.prototype.setEditorPaddingTop=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_padding_top=j;return this;};h.prototype.setEditorPhotoHeight=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_photo_height=j;return this;};h.prototype.setEditorPhotoWidth=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_photo_width=j;return this;};h.prototype.setEditorURL=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_url=j;return this;};h.prototype.setElementPayload=function(j){this.$CanvasCreationWaterfallTypedLogger1.element_payload=j;return this;};h.prototype.setElementType=function(j){this.$CanvasCreationWaterfallTypedLogger1.element_type=j;return this;};h.prototype.setErrorCode=function(j){this.$CanvasCreationWaterfallTypedLogger1.error_code=j;return this;};h.prototype.setEventName=function(j){this.$CanvasCreationWaterfallTypedLogger1.event_name=j;return this;};h.prototype.setHelpPageEventName=function(j){this.$CanvasCreationWaterfallTypedLogger1.help_page_event_name=j;return this;};h.prototype.setPageID=function(j){this.$CanvasCreationWaterfallTypedLogger1.page_id=j;return this;};h.prototype.setPageName=function(j){this.$CanvasCreationWaterfallTypedLogger1.page_name=j;return this;};h.prototype.setPublishedURL=function(j){this.$CanvasCreationWaterfallTypedLogger1.published_url=j;return this;};h.prototype.setSource=function(j){this.$CanvasCreationWaterfallTypedLogger1.source=j;return this;};h.prototype.setVC=function(j){this.$CanvasCreationWaterfallTypedLogger1.vc=j;return this;};h.prototype.setVideoID=function(j){this.$CanvasCreationWaterfallTypedLogger1.video_id=j;return this;};h.prototype.setViewerID=function(j){this.$CanvasCreationWaterfallTypedLogger1.viewer_id=j;return this;};var i={canvas_id:true,canvas_load_type:true,canvas_name:true,duplicate_parent_canvas_id:true,editor_component_attributes:true,editor_line_height:true,editor_padding_bottom:true,editor_padding_top:true,editor_photo_height:true,editor_photo_width:true,editor_url:true,element_payload:true,element_type:true,error_code:true,event_name:true,help_page_event_name:true,page_id:true,page_name:true,published_url:true,source:true,vc:true,video_id:true,viewer_id:true};f.exports=h;}),null);
__d('RichMediaDocumentThemeConstants',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={WHITE:'FFFFFFFF',BLACK:'FF000000'};}),null);
__d("XCanvasPhotoUploadController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/canvas\/upload\/photo\/",{});}),null);
__d('RichMediaEditorUploader',['ActorURI','AsyncUploadRequest','XCanvasPhotoUploadController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={upload:function i(j,k,l){var m=c('ActorURI').create(c('XCanvasPhotoUploadController').getURIBuilder().getURI(),j),n=new (c('AsyncUploadRequest'))(m).setAllowCrossOrigin(false).setFiles({file:k}),o=[];o.push(n.subscribe('progress',function(p,q){var event=q.getProgressEvent();if(event.lengthComputable)l.onProgress(q.getFile(),event.loaded/event.total*100);}));o.push(n.subscribe('success',function(p,q){l.onSuccess(q.getFile(),q.getResponse());}));o.push(n.subscribe('error',function(p,q){l.onError(q.getFile());}));o.push(n.subscribe('complete',function(p,q){while(o.length)o.pop().unsubscribe();}));n.send();return n;}};f.exports=h;}),null);
__d('RichMediaElementTypeConstant',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={TYPE_NAMES:{BUTTON:'button',CAROUSEL:'carousel',CULTURAL_MOMENT_HEADER:'cultural_moment_header',HEADER:'header',LOCAL_IMAGE:'local_image',PHOTO:'photo',TEXT:'text',VIDEO:'video',PRODUCT_SET:'product_set',TITLE_AND_DATE:'title_and_date',SCRUBBABLE_GIF:'scrubbable_gif',STORE_LOCATOR:'store_locator'}};}),null);
__d('RichMediaPhotoElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorUtil','RichMediaElementValidationUtil','RichMediaEditorConstants','AdsCanvasEditorEnums','getByPath','validateDeepLink'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,k=c('AdsCanvasEditorEnums').LinkDestinationEnum,l=c('immutable').Record,m={id:'',name:'',type:c('InstantShoppingDocumentElementType').PHOTO,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},layout:'fit_to_width',description:null,link:null,deeplink:null,linkedCanvasName:null,destination:k.WEBSITE,photo:null,culturalMomentAnnotationImage:null,uploadStatus:null},n=l(m);h=babelHelpers.inherits(o,n);i=h&&h.prototype;o.create=function(p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){return new o({name:p,type:c('InstantShoppingDocumentElementType').PHOTO,index:q,expanded:r,advancedExpanded:s,padding:t,layout:u,description:v,link:w,deeplink:x,linkedCanvasName:y,destination:z,photo:aa,culturalMomentAnnotationImage:ba,uploadStatus:ca});};o.createDefault=function(p){return o.create('Photo',p,true,false,{paddingTop:j,paddingBottom:j},'fit_to_width',null,null,null,null,k.WEBSITE,null,null,null);};o.createFromObject=function(p){return o.create(p.name,p.index,p.expanded,p.advancedExpanded,p.padding,p.layout,p.description,p.link,p.deeplink,p.linkedCanvasName,p.destination,p.photo,p.culturalMomentAnnotationImage);};o.createFromPayloadAndElementField=function(p,q){p.photo.src=c('getByPath')(q,['element','photo','images','0','source']);return o.create(p.name,p.index,p.expanded,p.advancedExpanded,p.padding,p.layout,p.description,p.link,p.deeplink,p.linkedCanvasName,p.destination,p.photo,p.culturalMomentAnnotationImage);};o.validate=function(p,q){if(!p.photo)return {isValid:false,errorMsg:'Missing photo'};if(p.link&&!c('RichMediaEditorUtil').isValidURL(p.link))if(p.destination===k.NATIVE){return {isValid:false,errorMsg:'Invalid Store URL'};}else return {isValid:false,errorMsg:'Invalid Website URL'};var r=c('RichMediaElementValidationUtil').validateForAppstoreDestination(p,q);if(!r.isValid)return r;if(p.deeplink)if(!c('validateDeepLink')(p.deeplink))return {isValid:false,errorMsg:'Invalid Deeplink'};if(p.uploadStatus&&p.uploadStatus.isUploading!==false)return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''};};function o(){h.apply(this,arguments);}f.exports=o;}),null);
__d('RichMediaProductSetElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,k=c('immutable').Record,l={id:'',name:'',type:c('InstantShoppingDocumentElementType').ELEMENT_GROUP,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},catalogID:null,setID:null,limit:0},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v){return new n({name:o,index:p,type:c('InstantShoppingDocumentElementType').ELEMENT_GROUP,expanded:q,advancedExpanded:r,padding:s,catalogID:t,setID:u,limit:v});};n.createDefault=function(o){return n.create('Product',o,true,false,{paddingTop:j,paddingBottom:j},null,null,40);};n.createFromObject=function(o){return n.create(o.name,o.index,o.expanded,o.advancedExpanded,o.padding,o.catalogID,o.setID,o.limit);};n.validate=function(o){if(o.catalogID==null)return {isValid:false,errorMsg:'Missing catalog ID'};if(o.setID==null)return {isValid:false,errorMsg:'Please choose or create a Product Set from your Product Catalog'};if(o.limit<=0)return {isValid:false,errorMsg:'Invalid maximum products count'};return {isValid:true,errorMsg:''};};function n(){h.apply(this,arguments);}f.exports=n;}),null);
__d('RichMediaTextElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorUtil','RichMediaRichFormatText','RichMediaEditorConstants','AdsCanvasEditorEnums','validateDeepLink'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_LINE_HEIGHT,k=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,l=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL,m=c('AdsCanvasEditorEnums').LinkDestinationEnum,n=c('immutable').Record,o={id:'',name:'',type:c('InstantShoppingDocumentElementType').RICH_TEXT,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k,paddingLeft:l,paddingRight:l},richFormatText:{composedText:{entityMap:{},blocks:[]},textAlignment:'center',textColor:'#000',fontSize:12,fontFamily:'sans-serif',lineHeight:j},backgroundColor:'#FFFFFF',link:null,deeplink:null,destination:m.WEBSITE},p=n(o);h=babelHelpers.inherits(q,p);i=h&&h.prototype;q.create=function(r,s,t,u,v,w,x,y,z,aa){return new q({index:r,name:s,type:c('InstantShoppingDocumentElementType').RICH_TEXT,expanded:t,advancedExpanded:u,padding:v,richFormatText:w,backgroundColor:x,link:y,deeplink:z,destination:aa});};q.createDefault=function(r){return q.create(r,'Text',true,false,{paddingTop:k,paddingBottom:k,paddingLeft:l,paddingRight:l},c('RichMediaRichFormatText').createDefault(),'#FFFFFF',null,null,m.WEBSITE);};q.createFromObject=function(r){return q.create(r.index,r.name,r.expanded,r.advancedExpanded,{paddingTop:r.padding&&r.padding.paddingTop?r.padding.paddingTop:k,paddingBottom:r.padding&&r.padding.paddingBottom?r.padding.paddingBottom:k,paddingLeft:r.padding&&r.padding.paddingLeft?r.padding.paddingLeft:l,paddingRight:r.padding&&r.padding.paddingRight?r.padding.paddingRight:l},c('RichMediaRichFormatText').createFromObject(r.richFormatText),r.backgroundColor,r.link,r.deeplink,r.destination?r.destination:m.WEBSITE);};q.validate=function(r){var s=c('RichMediaRichFormatText').getPlainTextFromComposedText(r.richFormatText.composedText);if(s.length==0)return {isValid:false,errorMsg:'Empty text block is not allowed'};if(r.link&&!c('RichMediaEditorUtil').isValidURL(r.link))if(r.destination===m.NATIVE){return {isValid:false,errorMsg:'Invalid Store URL'};}else return {isValid:false,errorMsg:'Invalid Website URL'};if(r.deeplink)if(!c('validateDeepLink')(r.deeplink))return {isValid:false,errorMsg:'Invalid Deeplink'};return {isValid:true,errorMsg:''};};function q(){h.apply(this,arguments);}f.exports=q;}),null);
__d('RichMediaVideoElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,k=c('immutable').Record,l={id:'',name:'',type:c('InstantShoppingDocumentElementType').VIDEO,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},layout:'fit_to_width',video:null,culturalMomentAnnotationImage:null,uploadStatus:null},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v,w){return new n({name:o,type:c('InstantShoppingDocumentElementType').VIDEO,index:p,expanded:q,advancedExpanded:r,padding:s,layout:t?t:'fit_to_width',video:u,culturalMomentAnnotationImage:v,uploadStatus:w});};n.createDefault=function(o){return n.create('Video',o,true,false,{paddingTop:j,paddingBottom:j},'fit_to_width',null,null,null);};n.createFromObject=function(o){return n.create(o.name,o.index,o.expanded,o.advancedExpanded,o.padding,o.layout,o.video,o.culturalMomentAnnotationImage);};n.validate=function(o){if(!o.video)return {isValid:false,errorMsg:'Missing video'};if(o.uploadStatus&&(o.uploadStatus.isUploading!==false||o.uploadStatus.isEncoding!==false))return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''};};function n(){h.apply(this,arguments);}f.exports=n;}),null);
__d('RichMediaElementUtil',['InstantShoppingDocumentElementType','RichMediaButtonElement','RichMediaCarouselElement','RichMediaCulturalMomentHeaderElement','RichMediaHeaderElement','RichMediaPhotoElement','RichMediaProductSetElement','RichMediaTextElement','RichMediaVideoElement'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={areElementsValid:function i(j){for(var k=0;k<j.length;++k){var l=this.validateElement(j[k],j);if(!l.isValid)return false;}return true;},validateElement:function i(j,k){switch(j.type){case c('InstantShoppingDocumentElementType').RICH_TEXT:return c('RichMediaTextElement').validate(j);case c('InstantShoppingDocumentElementType').PHOTO:return c('RichMediaPhotoElement').validate(j,k);case c('InstantShoppingDocumentElementType').VIDEO:return c('RichMediaVideoElement').validate(j);case c('InstantShoppingDocumentElementType').BUTTON:return c('RichMediaButtonElement').validate(j,k);case c('InstantShoppingDocumentElementType').SLIDESHOW:return c('RichMediaCarouselElement').validate(j,k);case c('InstantShoppingDocumentElementType').HEADER:if(j.isCulturalMomentHeader){return c('RichMediaCulturalMomentHeaderElement').validate(j);}else return c('RichMediaHeaderElement').validate(j);case c('InstantShoppingDocumentElementType').ELEMENT_GROUP:return c('RichMediaProductSetElement').validate(j);}return {isValid:true,errorMsg:''};},getFixToBottomButtonElement:function i(j){for(var k=0;k<j.length;++k)if(j[k].type===c('InstantShoppingDocumentElementType').BUTTON&&j[k].isFixedToBottom)return j[k];return null;},getHeaderElement:function i(j){if(j.length===0)return null;if(j[0].type===c('InstantShoppingDocumentElementType').HEADER)return c('RichMediaHeaderElement').createFromObject(j[0]);return null;},hasFixToTopHeaderElement:function i(j){if(j.length===0)return false;if(j[0].type===c('InstantShoppingDocumentElementType').HEADER)return j[0].isOpaque();return false;},isContentUploadingInElement:function i(j){if(j.uploadStatus){var k=j.uploadStatus;switch(j.type){case c('InstantShoppingDocumentElementType').PHOTO:if(k.isUploading)return true;break;case c('InstantShoppingDocumentElementType').VIDEO:if(k.isUploading||k.isEncoding)return true;break;default:break;}}else if(j.type===c('InstantShoppingDocumentElementType').SLIDESHOW){var l=j.items;for(var m=0;m<l.length;m++)if(l[m].uploadStatus&&l[m].uploadStatus.isUploading)return true;}return false;}};f.exports=h;}),null);
__d('RichMediaLocalImageElement',['immutable','InstantShoppingDocumentElementType'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Record,k={id:'',name:'',type:c('InstantShoppingDocumentElementType').LOCAL_IMAGE,index:0,expanded:false,advancedExpanded:false},l=j(k);h=babelHelpers.inherits(m,l);i=h&&h.prototype;m.create=function(n,o,p,q){return new m({index:n,name:o,type:c('InstantShoppingDocumentElementType').LOCAL_IMAGE,expanded:p,advancedExpanded:q});};m.createDefault=function(n){return m.create(n,'Local Footer Image',true,false);};m.createFromObject=function(n){return m.create(n.index,n.name,n.expanded,n.advancedExpanded);};m.validate=function(n){return {isValid:true,errorMsg:''};};function m(){h.apply(this,arguments);}f.exports=m;}),null);
__d('RichMediaScrubbableGIFElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,k=c('immutable').Record,l={id:'',name:'',type:c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},layout:'fit_to_width',video:null,uploadStatus:null},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v){return new n({name:o,type:c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF,index:p,expanded:q,advancedExpanded:r,padding:s,layout:t?t:'fit_to_width',video:u,uploadStatus:v});};n.createDefault=function(o){return n.create('Scrubbable GIF',o,true,false,{paddingTop:j,paddingBottom:j},'fit_to_width',null,null);};n.createFromObject=function(o){return n.create(o.name,o.index,o.expanded,o.advancedExpanded,o.padding,o.layout,o.video);};n.validate=function(o){if(!o.video)return {isValid:false,errorMsg:'Missing video'};if(o.uploadStatus&&(o.uploadStatus.isUploading!==false||o.uploadStatus.isEncoding!==false))return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''};};function n(){h.apply(this,arguments);}f.exports=n;}),null);
__d('RichMediaStoreLocatorThemes',['fbt','RichMediaStoreLocatorElementTheme'],(function a(b,c,d,e,f,g,h){'use strict';var i;if(c.__markCompiled)c.__markCompiled();f.exports={STORE_LOCATOR_THEMES:c('RichMediaStoreLocatorElementTheme'),STORE_LOCATOR_THEMES_LABELS:(i={},i[c('RichMediaStoreLocatorElementTheme').LIGHT]=h._("Light"),i[c('RichMediaStoreLocatorElementTheme').DARK]=h._("Dark"),i[c('RichMediaStoreLocatorElementTheme').CUSTOM]=h._("Custom"),i),STORE_LOCATOR_LIGHT_HEADER_BACKGROUND_COLOR:'#FFFFFF',STORE_LOCATOR_DARK_HEADER_BACKGROUND_COLOR:'#000000',STORE_LOCATOR_DEFAULT_CUSTOM_HEADER_BACKGROUND_COLOR:'#4267b2',STORE_LOCATOR_DEFAULT_TYPEFACE:'HelveticaNeue-Light'};}),null);
__d('RichMediaStoreLocatorElement',['InstantShoppingDocumentElementType','RichMediaStoreLocatorThemes','RichMediaEditorConstants','immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_DARK_HEADER_BACKGROUND_COLOR,k=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_DEFAULT_CUSTOM_HEADER_BACKGROUND_COLOR,l=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_DEFAULT_TYPEFACE,m=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_LIGHT_HEADER_BACKGROUND_COLOR,n=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_THEMES,o=c('RichMediaEditorConstants').EDITOR_FONT_FAMILIIES,p=c('immutable').Record,q={id:'',name:'',type:c('InstantShoppingDocumentElementType').STORE_LOCATOR,index:0,expanded:false,advancedExpanded:false,adAccountID:'',pageID:'',typeface:l,theme:n.LIGHT,customHeaderBackgroundColor:k},r=p(q);h=babelHelpers.inherits(s,r);i=h&&h.prototype;s.create=function(t,u,v,w,x,y,z,aa,ba){return new s({index:t,name:u,type:c('InstantShoppingDocumentElementType').STORE_LOCATOR,expanded:v,advancedExpanded:w,adAccountID:x,pageID:y,typeface:z,theme:aa,customHeaderBackgroundColor:ba});};s.createDefault=function(t){return s.create(t,'Store Locator',true,false,q.adAccountID,q.pageID,q.typeface,q.theme,q.customHeaderBackgroundColor);};s.createFromObject=function(t){return s.create(t.index,t.name,t.expanded,t.advancedExpanded,t.adAccountID,t.pageID,t.typeface,t.theme,t.customHeaderBackgroundColor);};s.isValidColor=function(t){return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);};s.isValidTheme=function(t){return t in n;};s.isValidTypeface=function(t){return o.indexOf(t)!=-1;};s.validate=function(t){var u='',v=true;if(!s.isValidTheme(t.theme)){v=false;u+='The theme "'+t.theme+'" is not valid.\n';}if(!s.isValidTypeface(t.typeface)){v=false;u+='The typeface "'+t.typeface+'" is not valid.\n';}if(!s.isValidColor(t.customHeaderBackgroundColor)){v=false;u+='The custom header background color "'+t.customHeaderBackgroundColor+'" is not a valid hex color.\n';}return {isValid:v,errorMsg:u};};s.prototype.headerBackgroundColor=function(){switch(this.theme){case n.LIGHT:return m;case n.DARK:return j;case n.CUSTOM:return this.customHeaderBackgroundColor;default:throw new Error('Theme not supported.');}};function s(){h.apply(this,arguments);}f.exports=s;}),null);
__d('RichMediaTitleAndDateElement',['immutable','InstantShoppingDocumentElementType'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Record,k={id:'',name:'',type:c('InstantShoppingDocumentElementType').TITLE_AND_DATE,index:0,expanded:false,advancedExpanded:false,title:'',startTime:Date.now()/1000,endTime:Date.now()/1000,isLocalTime:true},l=j(k);h=babelHelpers.inherits(m,l);i=h&&h.prototype;m.create=function(n,o,p,q,r,s,t,u){return new m({index:n,name:o,type:c('InstantShoppingDocumentElementType').TITLE_AND_DATE,expanded:p,advancedExpanded:q,title:r,startTime:s,endTime:t,isLocalTime:u});};m.createDefault=function(n){return m.create(n,'Title And Date',true,false,'Title',Date.now()/1000,Date.now()/1000,true);};m.createFromObject=function(n){return m.create(n.index,n.name,n.expanded,n.advancedExpanded,n.title,n.startTime,n.endTime,n.isLocalTime);};m.validate=function(n){if(n.title.length==0)return {isValid:false,errorMsg:'Empty title is not allowed'};if(n.startTime>n.endTime)return {isValid:false,errorMsg:'Start date must be less than the end date'};return {isValid:true,errorMsg:''};};function m(){h.apply(this,arguments);}f.exports=m;}),null);
__d('RichMediaEditorStore',['fbt','invariant','AdsCanvasEditorFeature','CanvasCreationEvent','CanvasCreationWaterfallTypedLogger','CanvasLoadSource','FluxStore','FunnelLogger','InstantShoppingDocumentElementType','RichMediaEditorActionTypes','RichMediaEditorDispatcher','RichMediaEditorActions','RichMediaEditorUploader','RichMediaElementUtil','RichMediaButtonElement','RichMediaCarouselElement','RichMediaCulturalMomentHeaderElement','RichMediaHeaderElement','RichMediaLocalImageElement','RichMediaPhotoElement','RichMediaProductSetElement','RichMediaScrubbableGIFElement','RichMediaStoreLocatorElement','RichMediaTextElement','RichMediaTitleAndDateElement','RichMediaVideoElement','AdsCanvasEditorEnums','AdsCanvasEditorFunnelLoggingConstants','RichMediaDocumentThemeConstants','RichMediaElementTypeConstant','Map'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('AdsCanvasEditorEnums').ErrorTypeEnum,m=c('AdsCanvasEditorEnums').SaveStateEnum,n=c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,o=c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_EVENT,p=c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_TAGS,q=c('RichMediaDocumentThemeConstants').WHITE,r=c('RichMediaDocumentThemeConstants').BLACK,s=c('RichMediaElementTypeConstant').TYPE_NAMES;j=babelHelpers.inherits(t,c('FluxStore'));k=j&&j.prototype;function t(u){k.constructor.call(this,u);this.$RichMediaEditorStore1='';this.$RichMediaEditorStore2=q;this.$RichMediaEditorStore3=[];this.$RichMediaEditorStore4=m.SAVED;this.$RichMediaEditorStore5='';this.$RichMediaEditorStore6=l.NONE;this.$RichMediaEditorStore15=false;this.$RichMediaEditorStore7=false;this.$RichMediaEditorStore8=false;this.$RichMediaEditorStore9=false;this.$RichMediaEditorStore10=false;this.$RichMediaEditorStore11=false;this.$RichMediaEditorStore12=false;this.$RichMediaEditorStore13=-1;this.$RichMediaEditorStore14={};this.$RichMediaEditorStore16=false;this.$RichMediaEditorStore17=false;this.$RichMediaEditorStore18=r;this.$RichMediaEditorStore19=0;this.$RichMediaEditorStore20=false;this.$RichMediaEditorStore21=false;this.$RichMediaEditorStore22=false;}t.prototype.__onDispatch=function(u){var v=u.data,w=void 0;switch(u.type){case c('RichMediaEditorActionTypes').SET_DOCUMENT_NAME:this.$RichMediaEditorStore1=v.name;this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore13=-1;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_DOCUMENT_THEME:this.$RichMediaEditorStore2=v.theme;this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore13=-1;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_DOCUMENT_EDIT_STATE:this.$RichMediaEditorStore4=v.editState;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_FORCE_EDIT_PUBLISHED:this.$RichMediaEditorStore15=v.forceEditPublished;this.__emitChange();break;case c('RichMediaEditorActionTypes').ADD_DOCUMENT_ELEMENT:var x=this.$RichMediaEditorStore3;this.$RichMediaEditorStore6=l.NONE;if(v.element.type===c('InstantShoppingDocumentElementType').HEADER){this.$RichMediaEditorStore23(v.element,0);}else if(this.getHasStoreLocatorElement()){this.$RichMediaEditorStore23(v.element,this.$RichMediaEditorStore3.length-1);}else this.$RichMediaEditorStore3.push(v.element);this.$RichMediaEditorStore13=v.element.index;this.$RichMediaEditorStore4=m.UNSAVED;this.__emitChange();break;case c('RichMediaEditorActionTypes').ADD_FILES_TO_DOCUMENT_ELEMENT:w=this.$RichMediaEditorStore24(v.files,v.pageID,this.getDocumentElement(v.element.id));this.$RichMediaEditorStore3[w.index]=w;this.$RichMediaEditorStore13=w.index;this.__emitChange();break;case c('RichMediaEditorActionTypes').REPLACE_FILE_IN_DOCUMENT:w=this.getDocumentElement(v.element.id);!(w.type===c('InstantShoppingDocumentElementType').SLIDESHOW)?i(0):void 0;var y=new (c('Map'))();y[v.files[0].name]=v.itemID;var z=c('RichMediaEditorUploader').upload(v.pageID,[v.files[0]],this.$RichMediaEditorStore25(w.id,y));w=w.replaceFile(v.itemID,z);this.$RichMediaEditorStore3[w.index]=w;this.$RichMediaEditorStore13=w.index;this.$RichMediaEditorStore4=m.UNSAVED;this.__emitChange();break;case c('RichMediaEditorActionTypes').EDIT_DOCUMENT_ELEMENT:var aa=this.$RichMediaEditorStore3[v.element.index];if(aa&&aa!=v.element&&aa.expanded===v.element.expanded)this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore3[v.element.index]=v.element;var ba=v.element.uploadStatus&&(v.element.uploadStatus.isEncoding||v.element.uploadStatus.isUploading);if(!ba)this.$RichMediaEditorStore13=v.element.index;if(c('RichMediaElementUtil').areElementsValid(this.$RichMediaEditorStore3))this.$RichMediaEditorStore6=l.WARNING;this.__emitChange();break;case c('RichMediaEditorActionTypes').MOVE_ELEMENT_UP:c('FunnelLogger').appendAction(n,o.SWITCH_ELEMENT);if(v.element.index>0){x=this.$RichMediaEditorStore3;var ca=v.element.index,da=x[ca].set('index',ca-1),ea=x[ca-1].set('index',ca);if(ea.type!==c('InstantShoppingDocumentElementType').HEADER){x[ca]=ea;x[ca-1]=da;}this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore13=ca-1;this.__emitChange();}break;case c('RichMediaEditorActionTypes').MOVE_ELEMENT_DOWN:c('FunnelLogger').appendAction(n,o.SWITCH_ELEMENT);if(v.element.index<this.$RichMediaEditorStore3.length-1&&v.element.type!==c('InstantShoppingDocumentElementType').HEADER){x=this.$RichMediaEditorStore3;ca=v.element.index;da=x[ca];var fa=x[ca+1];x[ca]=fa.set('index',ca);x[ca+1]=da.set('index',ca+1);this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore13=ca+1;this.__emitChange();}break;case c('RichMediaEditorActionTypes').DELETE_ELEMENT:c('FunnelLogger').appendAction(n,o.REMOVE_ELEMENT);x=this.$RichMediaEditorStore3;ca=v.element.index;x.splice(ca,1);for(var ga=ca;ga<x.length;++ga)x[ga]=x[ga].set('index',ga);this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore13=ca>0?ca-1:0;if(x.length==0||c('RichMediaElementUtil').areElementsValid(x))this.$RichMediaEditorStore6=l.WARNING;this.__emitChange();break;case c('RichMediaEditorActionTypes').CREATE_DEFAULT_DOCUMENT:this.$RichMediaEditorStore7=true;new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').LOAD).setCanvasLoadType(c('CanvasLoadSource').LOAD_NEW_DEFAULT_DOC).setPageID(v.pageID).setCanvasID(v.documentID).log();c('FunnelLogger').addFunnelTag(n,c('CanvasLoadSource').LOAD_NEW_DEFAULT_DOC);this.$RichMediaEditorStore1=h._("Untitled Canvas");if(!c('AdsCanvasEditorFeature').remove_default_components){this.$RichMediaEditorStore3=[this.$RichMediaEditorStore26(c('RichMediaHeaderElement').createDefault(0)),this.$RichMediaEditorStore26(c('RichMediaPhotoElement').createDefault(1)),this.$RichMediaEditorStore26(c('RichMediaButtonElement').createDefault(2))];}else this.$RichMediaEditorStore3=[];this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore11=false;if(c('AdsCanvasEditorFeature').ads_canvas_editor_welcome_screen){this.$RichMediaEditorStore21=true;c('FunnelLogger').addFunnelTag(n,p.WELCOMESCREEN_SHOWN);}this.$RichMediaEditorStore20=false;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_PREVIEW_FAILED:this.$RichMediaEditorStore8=v.previewFailed;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_SENDING_PREVIEW:this.$RichMediaEditorStore10=v.sendingPreview;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_SAVE_FAILED:if(c('RichMediaElementUtil').areElementsValid(this.$RichMediaEditorStore3))this.$RichMediaEditorStore9=v.saveFailed;if(v.saveFailed===true){c('FunnelLogger').appendAction(n,o.VALIDATION_ERROR);new (c('CanvasCreationWaterfallTypedLogger'))().setCanvasName(v.documentName).setCanvasID(this.$RichMediaEditorStore5||null).setEventName(c('CanvasCreationEvent').VALIDATION_ERROR).setPageID(v.pageID).log();}this.$RichMediaEditorStore6=l.ERROR;this.__emitChange();break;case c('RichMediaEditorActionTypes').LOAD_DOCUMENT:this.$RichMediaEditorStore7=false;this.$RichMediaEditorStore22=false;new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').LOAD).setCanvasLoadType(c('CanvasLoadSource').LOAD_EXISTING_DOC).setCanvasName(v.documentName).setCanvasID(v.documentID).setPageID(v.pageID).log();c('FunnelLogger').addFunnelTag(n,c('CanvasLoadSource').LOAD_EXISTING_DOC);this.$RichMediaEditorStore4=m.SAVED;var ha=JSON.parse(v.elementsPayload);ha.forEach(function(la,ma){if(la.index!==ma)this.$RichMediaEditorStore4=m.UNSAVED;la.index=ma;}.bind(this));v.elementsPayload=JSON.stringify(ha);if(v.documentName)this.$RichMediaEditorStore1=v.documentName;if(v.documentID){this.$RichMediaEditorStore5=v.documentID;c('FunnelLogger').addFunnelTag(n,this.$RichMediaEditorStore5);}if(v.documentTheme){this.$RichMediaEditorStore2=v.documentTheme;this.$RichMediaEditorStore17=v.documentTheme!==q&&v.documentTheme!==r;this.$RichMediaEditorStore18=this.$RichMediaEditorStore17?v.documentTheme:r;}if(v.elementsPayload&&v.elements){this.$RichMediaEditorStore27(v.elementsPayload,v.elements);}else if(v.elementsPayload)this.$RichMediaEditorStore28(v.elementsPayload);this.$RichMediaEditorStore11=false;this.$RichMediaEditorStore21=false;this.$RichMediaEditorStore20=false;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_DOCUMENT_URL_DIALOG_SHOWN:this.$RichMediaEditorStore12=v.dialogShown;this.__emitChange();break;case c('RichMediaEditorActionTypes').TOGGLE_DOCUMENT_DEBUG_PANE_SHOWN:this.$RichMediaEditorStore11=!this.$RichMediaEditorStore11;this.__emitChange();break;case c('RichMediaEditorActionTypes').TOGGLE_WELCOME_PANE_SHOWN:this.$RichMediaEditorStore21=v.shown;this.__emitChange();break;case c('RichMediaEditorActionTypes').TRIGGER_NUX_TOUR:this.$RichMediaEditorStore20=v.shown;this.__emitChange();break;case c('RichMediaEditorActionTypes').COLLAPSE_EXPANDED_ELEMENTS:if(!c('AdsCanvasEditorFeature').ads_canvas_editor_publish_redesign)break;x=this.$RichMediaEditorStore3;for(var ia=0;ia<x.length;++ia)x[ia]=x[ia].set('expanded',false);this.$RichMediaEditorStore22=true;this.__emitChange();break;case c('RichMediaEditorActionTypes').SELECT_ELEMENT_TO_ADD:var ja=v.elementTypeName;if(ja in this.$RichMediaEditorStore14){this.$RichMediaEditorStore14[ja]++;}else this.$RichMediaEditorStore14[ja]=1;this.__emitChange();break;case c('RichMediaEditorActionTypes').DESELECT_ELEMENT_TO_ADD:ja=v.elementTypeName;if(ja in this.$RichMediaEditorStore14){this.$RichMediaEditorStore14[ja]--;if(this.$RichMediaEditorStore14[ja]<=0)delete this.$RichMediaEditorStore14[ja];}this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_ADD_COMPONENT_DIALOG_SHOWN:this.$RichMediaEditorStore16=v.dialogShown;this.__emitChange();break;case c('RichMediaEditorActionTypes').ADD_ELEMENTS_SELECTED:c('FunnelLogger').appendAction(n,o.ADD_ELEMENT);this.$RichMediaEditorStore6=l.NONE;for(var ka in s){ja=s[ka];if(ja in this.$RichMediaEditorStore14&&this.$RichMediaEditorStore14[ja]>0){this.$RichMediaEditorStore29(ja);this.$RichMediaEditorStore4=m.UNSAVED;this.$RichMediaEditorStore7=false;new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').ADD_ELEMENT).setPageID(v.pageID).setElementType(ja).setCanvasID(this.$RichMediaEditorStore5).log();}}if(this.$RichMediaEditorStore14[s.HEADER]>0){this.$RichMediaEditorStore13=0;}else if(!this.$RichMediaEditorStore14[s.STORE_LOCATOR]&&this.getHasStoreLocatorElement()){this.$RichMediaEditorStore13=this.$RichMediaEditorStore3.length-2;}else this.$RichMediaEditorStore13=this.$RichMediaEditorStore3.length-1;this.$RichMediaEditorStore14={};this.$RichMediaEditorStore16=false;this.$RichMediaEditorStore21=false;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_USE_CUSTOMIZE_THEME_COLOR:this.$RichMediaEditorStore17=v.useCustomizeThemeColor;if(v.useCustomizeThemeColor&&this.$RichMediaEditorStore1!==this.$RichMediaEditorStore18){this.$RichMediaEditorStore2=this.$RichMediaEditorStore18;this.$RichMediaEditorStore4=m.UNSAVED;}this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_CUSTOMIZE_THEME_COLOR:if(this.$RichMediaEditorStore17===false||this.$RichMediaEditorStore18!==v.customizeThemeColor){this.$RichMediaEditorStore18=v.customizeThemeColor;this.$RichMediaEditorStore2=v.customizeThemeColor;this.$RichMediaEditorStore17=true;this.$RichMediaEditorStore4=m.UNSAVED;}this.__emitChange();break;}};t.prototype.getDocumentName=function(){return this.$RichMediaEditorStore1;};t.prototype.getDocumentTheme=function(){return this.$RichMediaEditorStore2;};t.prototype.getDocumentEditState=function(){return this.$RichMediaEditorStore4;};t.prototype.getDocumentElement=function(u){return this.$RichMediaEditorStore3.find(function(v){return v.id===u;});};t.prototype.getDocumentID=function(){return this.$RichMediaEditorStore5;};t.prototype.getDocumentElements=function(){return this.$RichMediaEditorStore3.slice();};t.prototype.getPreviewFailed=function(){return this.$RichMediaEditorStore8;};t.prototype.getSendingPreview=function(){return this.$RichMediaEditorStore10;};t.prototype.getSaveFailed=function(){return this.$RichMediaEditorStore9;};t.prototype.getDocumentURLDialogShown=function(){return this.$RichMediaEditorStore12;};t.prototype.getDocumentDebugPaneShown=function(){return this.$RichMediaEditorStore11;};t.prototype.getForceEditPublished=function(){return this.$RichMediaEditorStore15;};t.prototype.getCurrentEditingElementIndex=function(){return this.$RichMediaEditorStore13;};t.prototype.getSelectedElementsToAdd=function(){return babelHelpers['extends']({},this.$RichMediaEditorStore14);};t.prototype.getShowAddComponentDialog=function(){return this.$RichMediaEditorStore16;};t.prototype.getHasHeaderElement=function(){var u=this.$RichMediaEditorStore3.filter(function(v){return v.type===c('InstantShoppingDocumentElementType').HEADER;});return u.length!==0;};t.prototype.getHasStoreLocatorElement=function(){var u=this.$RichMediaEditorStore3.filter(function(v){return (v.type===c('InstantShoppingDocumentElementType').STORE_LOCATOR);});return u.length!==0;};t.prototype.getNumberOfScrubbableGIFs=function(){var u=this.$RichMediaEditorStore3.filter(function(v){return v.type===c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF;});return u.length;};t.prototype.getUseCustomizeThemeColor=function(){return this.$RichMediaEditorStore17;};t.prototype.getCustomizeThemeColor=function(){return this.$RichMediaEditorStore18;};t.prototype.getErrorType=function(){return this.$RichMediaEditorStore6;};t.prototype.isDefaultDocument=function(){return this.$RichMediaEditorStore7;};t.prototype.isWelcomePaneShown=function(){return this.$RichMediaEditorStore21;};t.prototype.isElementsCollapsed=function(){return this.$RichMediaEditorStore22;};t.prototype.showNuxTour=function(){return this.$RichMediaEditorStore20;};t.prototype.$RichMediaEditorStore23=function(u,v){var w=this.$RichMediaEditorStore3;for(var x=v;x<w.length;++x)w[x]=w[x].set('index',x+1);w.splice(v,0,u.set('index',v));};t.prototype.$RichMediaEditorStore29=function(u){var v=this.$RichMediaEditorStore3,w=-1;if(u===s.HEADER){w=0;}else if(this.getHasStoreLocatorElement()){w=this.$RichMediaEditorStore3.length-1;}else w=this.$RichMediaEditorStore3.length;var x=null;switch(u){case s.BUTTON:x=c('RichMediaButtonElement').createDefault(w);break;case s.CAROUSEL:x=c('RichMediaCarouselElement').createDefault(w);break;case s.CULTURAL_MOMENT_HEADER:x=c('RichMediaCulturalMomentHeaderElement').createDefault(w);break;case s.HEADER:x=c('RichMediaHeaderElement').createDefault(w);break;case s.PHOTO:x=c('RichMediaPhotoElement').createDefault(w);break;case s.TEXT:x=c('RichMediaTextElement').createDefault(w);break;case s.VIDEO:x=c('RichMediaVideoElement').createDefault(w);break;case s.SCRUBBABLE_GIF:x=c('RichMediaScrubbableGIFElement').createDefault(w);break;case s.PRODUCT_SET:x=c('RichMediaProductSetElement').createDefault(w);break;case s.TITLE_AND_DATE:x=c('RichMediaTitleAndDateElement').createDefault(w);break;case s.STORE_LOCATOR:x=c('RichMediaStoreLocatorElement').createDefault(w);break;case s.LOCAL_IMAGE:x=c('RichMediaLocalImageElement').createDefault(w);break;}if(!x)return;x=this.$RichMediaEditorStore26(x);this.$RichMediaEditorStore23(x,w);};t.prototype.$RichMediaEditorStore28=function(u){this.$RichMediaEditorStore3=[];var v=JSON.parse(u);this.$RichMediaEditorStore19=v.length;for(var w=0;w<v.length;++w){var x=v[w];if(!x.expanded)x.expanded=false;if(!x.advancedExpanded)x.advancedExpanded=false;switch(x.type){case c('InstantShoppingDocumentElementType').RICH_TEXT:x=c('RichMediaTextElement').createFromObject(x);break;case c('InstantShoppingDocumentElementType').PHOTO:x=c('RichMediaPhotoElement').createFromObject(x);break;case c('InstantShoppingDocumentElementType').VIDEO:x=c('RichMediaVideoElement').createFromObject(x);break;case c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF:x=c('RichMediaScrubbableGIFElement').createFromObject(x);break;case c('InstantShoppingDocumentElementType').BUTTON:x=c('RichMediaButtonElement').createFromObject(x);break;case c('InstantShoppingDocumentElementType').SLIDESHOW:x=c('RichMediaCarouselElement').createFromObject(x);break;case c('InstantShoppingDocumentElementType').HEADER:if(x.isCulturalMomentHeader){x=c('RichMediaCulturalMomentHeaderElement').createFromObject(x);}else x=c('RichMediaHeaderElement').createFromObject(x);break;case c('InstantShoppingDocumentElementType').ELEMENT_GROUP:x=c('RichMediaProductSetElement').createFromObject(x);break;case c('InstantShoppingDocumentElementType').STORE_LOCATOR:x=c('RichMediaStoreLocatorElement').createFromObject(x);break;}this.$RichMediaEditorStore3.push(this.$RichMediaEditorStore26(x));}};t.prototype.$RichMediaEditorStore27=function(u,v){this.$RichMediaEditorStore3=[];var w=JSON.parse(u);this.$RichMediaEditorStore19=w.length;var x=w.length;if(x>0&&v[x-1].element_type==='FOOTER'){var y=-1;for(var z=0;z<x;z++)if(w[z].type===c('InstantShoppingDocumentElementType').BUTTON&&w[z].isFixedToBottom===true){y=z;break;}if(y!==-1){var aa=w[y];for(var ba=y;ba<x-1;ba++){w[ba]=w[ba+1];w[ba].index=ba;}w[x-1]=aa;w[x-1].index=x-1;}}for(var ca=0;ca<x;ca++){var da=w[ca],ea=v[ca],fa=da;if(!da.expanded)fa.expanded=false;if(!da.advancedExpanded)fa.advancedExpanded=false;switch(fa.type){case c('InstantShoppingDocumentElementType').RICH_TEXT:fa=c('RichMediaTextElement').createFromObject(fa);break;case c('InstantShoppingDocumentElementType').PHOTO:fa=c('RichMediaPhotoElement').createFromPayloadAndElementField(da,ea);break;case c('InstantShoppingDocumentElementType').VIDEO:fa=c('RichMediaVideoElement').createFromObject(fa);break;case c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF:fa=c('RichMediaScrubbableGIFElement').createFromObject(fa);break;case c('InstantShoppingDocumentElementType').BUTTON:fa=c('RichMediaButtonElement').createFromObject(fa);break;case c('InstantShoppingDocumentElementType').SLIDESHOW:fa=c('RichMediaCarouselElement').createFromPayloadAndElementField(da,ea);break;case c('InstantShoppingDocumentElementType').HEADER:if(da.isCulturalMomentHeader){fa=c('RichMediaCulturalMomentHeaderElement').createFromPayloadAndElementField(da,ea);}else fa=c('RichMediaHeaderElement').createFromPayloadAndElementField(da,ea);break;case c('InstantShoppingDocumentElementType').ELEMENT_GROUP:fa=c('RichMediaProductSetElement').createFromObject(fa);break;case c('InstantShoppingDocumentElementType').TITLE_AND_DATE:fa=c('RichMediaTitleAndDateElement').createFromObject(fa);break;case c('InstantShoppingDocumentElementType').STORE_LOCATOR:fa=c('RichMediaStoreLocatorElement').createFromObject(fa);break;case c('InstantShoppingDocumentElementType').LOCAL_IMAGE:fa=c('RichMediaLocalImageElement').createFromObject(fa);break;}this.$RichMediaEditorStore3.push(this.$RichMediaEditorStore26(fa));}};t.prototype.$RichMediaEditorStore26=function(u){return u.set('id',(++this.$RichMediaEditorStore19).toString());};t.prototype.$RichMediaEditorStore24=function(u,v,w){!(w.type===c('InstantShoppingDocumentElementType').SLIDESHOW)?i(0):void 0;var x=void 0,y=new (c('Map'))();for(var z=0,aa=u.length;z<aa;++z){x=u[z];y[x.name]=x.name+'_'+Date.now();}var ba=this.$RichMediaEditorStore25(w.id,y);for(z=0;z<aa;++z){x=u[z];var ca=c('RichMediaEditorUploader').upload(v,[x],ba);w=w.addFile(y[x.name],ca);}return w;};t.prototype.$RichMediaEditorStore25=function(u,v){return {onProgress:function(w,x){var y=this.getDocumentElement(u);if(y&&y.onFileProgress){y=y.onFileProgress(v[w.name],x);if(y)c('RichMediaEditorActions').editDocumentElement(y);}}.bind(this),onSuccess:function(w,x){var y=this.getDocumentElement(u);if(y&&y.onFileSuccess){y=y.onFileSuccess(v[w.name],x);if(y)c('RichMediaEditorActions').editDocumentElement(y);}}.bind(this),onError:function(w){var x=this.getDocumentElement(u);if(x&&x.onFileError){x=x.onFileError(v[w.name]);if(x)c('RichMediaEditorActions').editDocumentElement(x);}}.bind(this)};};f.exports=new t(c('RichMediaEditorDispatcher'));}),null);
__d('AdsCanvasBuilderDispatcher',['ReactDispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new (c('ReactDispatcher_DEPRECATED'))();}),null);
__d('AdsCanvasButtons.react',['ix','cx','xuiglyph','FunnelLogger','Image.react','React','XUIButton.react','XUIButtonGroup.react','fbglyph','AdsCanvasEditorFunnelLoggingConstants'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,n=c('React').PropTypes;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$AdsCanvasButtons1=function(event){event.stopPropagation();this.props.onClickCreate&&this.props.onClickCreate();this.props.onClick('newCanvasDialog');c('FunnelLogger').addFunnelTag(m,this.props.source);}.bind(this),this.$AdsCanvasButtons2=function(event){event.stopPropagation();this.props.onClickPreview&&this.props.onClickPreview();if(this.props.canvas){this.props.onClick(this.props.canvas.id);c('FunnelLogger').addFunnelTag(m,this.props.source);}}.bind(this),q;}o.prototype.render=function(){var p=c('React').createElement(c('XUIButton.react'),{className:"_44jg",disabled:this.props.disabled,image:c('React').createElement(c('Image.react'),{src:j({name:'plus',shade:'dark',size:'small'})}),onClick:this.$AdsCanvasButtons1}),q=null;if(this.props.canvas)q=c('React').createElement(c('XUIButton.react'),{className:"_44jg",disabled:this.props.disabled,image:c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/eye_16_fig-light-50.png")}),onClick:this.$AdsCanvasButtons2});return c('React').createElement(c('XUIButtonGroup.react'),{className:"_44jh"},q,p);};o.propTypes={canvas:n.object,disabled:n.bool,onClick:n.func.isRequired,onClickCreate:n.func,onClickPreview:n.func,source:n.string.isRequired};f.exports=o;}),null);
__d('AdsCanvasCloseConfirmDialog.react',['cx','fbt','LayerFadeOnHide','LayerHideOnEscape','React','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsCanvasCloseConfirmDialog1=function(){this.props.onConfirm(this.props.dialogID);}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape'),LayerFadeOnHide:c('LayerFadeOnHide')},shown:true,width:450},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:true},i._("Unsaved Changes")),c('React').createElement(c('XUIDialogBody.react'),null,i._("Do you want to discard unsaved changes?")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Cancel"),onClick:this.props.onCancel}),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',className:"_4jy1",label:i._("Confirm"),onClick:this.$AdsCanvasCloseConfirmDialog1})));};m.propTypes={dialogID:l.string,onCancel:l.func.isRequired,onConfirm:l.func.isRequired};f.exports=m;}),null);
__d('AdsCanvasComposerDialogStore',['FluxStore','RichMediaEditorActionTypes','RichMediaEditorDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('RichMediaEditorDispatcher'));this.$AdsCanvasComposerDialogStore1={};this.$AdsCanvasComposerDialogStore2={};}j.prototype.__onDispatch=function(k){var l=k.data;switch(k.type){case c('RichMediaEditorActionTypes').SET_UNPUBLISHED_CANVAS:this.$AdsCanvasComposerDialogStore4=l.unpublishedCanvas;this.__emitChange();break;case c('RichMediaEditorActionTypes').RESET_UNPUBLISHED_CANVAS:this.$AdsCanvasComposerDialogStore4=null;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_DIALOG_SHOWN:this.$AdsCanvasComposerDialogStore1[l.dialogID]=l.dialogShown;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_DIALOG_CANVAS:this.$AdsCanvasComposerDialogStore2[l.dialogID]=l.canvas;this.__emitChange();break;case c('RichMediaEditorActionTypes').SET_SELECTED_CANVAS:this.$AdsCanvasComposerDialogStore3=l.selectedCanvas;this.__emitChange();break;}};j.prototype.getDialogShown=function(k){if(k in this.$AdsCanvasComposerDialogStore1){return this.$AdsCanvasComposerDialogStore1[k];}else return false;};j.prototype.getDialogCanvas=function(k){if(k in this.$AdsCanvasComposerDialogStore2){return this.$AdsCanvasComposerDialogStore2[k];}else return null;};j.prototype.getSelectedCanvas=function(){return this.$AdsCanvasComposerDialogStore3;};j.prototype.getUnpublishedCanvas=function(){return this.$AdsCanvasComposerDialogStore4;};f.exports=new j(c('RichMediaEditorDispatcher'));}),null);
__d('AdsCanvasEditorFunnelLogging',['AdsCanvasEditorFeature','AdsCanvasEditorFunnelLoggingConstants','AdsCanvasSV','FunnelLogger'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=false,i={startFunnel:function j(){if(h)return;h=true;c('FunnelLogger').startFunnel(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME);c('FunnelLogger').setFunnelTimeout(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_TIMEOUT);for(var k in c('AdsCanvasEditorFeature'))if(c('AdsCanvasEditorFeature').hasOwnProperty(k)){var l=c('AdsCanvasEditorFeature')[k];if(l&&c('AdsCanvasSV').ads_canvas_gks_to_log.indexOf(k)!=-1)c('FunnelLogger').addFunnelTag(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,k);}},endFunnel:function j(){if(!h)return;h=false;c('FunnelLogger').addFunnelTag(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_TAGS.EDITOR_EXIT);c('FunnelLogger').endFunnel(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME);}};f.exports=i;}),null);
__d('AdsUnpublishedCanvasCloseConfirmDialog.react',['cx','fbt','LayerFadeOnHide','LayerHideOnEscape','React','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsUnpublishedCanvasCloseConfirmDialog1=function(){this.props.onCloseReset();this.props.onConfirm(this.props.dialogID);}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape'),LayerFadeOnHide:c('LayerFadeOnHide')},shown:true,width:450},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:true},i._("Unpublished Canvas")),c('React').createElement(c('XUIDialogBody.react'),null,i._("You won't be able to use this Canvas in an ad until you publish it. You can still access a saved draft in Pages -> Publishing Tools -> Canvas. Do you want to close this draft without publishing it?")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Cancel"),onClick:this.props.onCancel}),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',className:"_4jy1",label:i._("Confirm"),onClick:this.$AdsUnpublishedCanvasCloseConfirmDialog1})));};m.propTypes={dialogID:l.string.isRequired,onCancel:l.func.isRequired,onCloseReset:l.func.isRequired,onConfirm:l.func.isRequired};f.exports=m;}),null);
__d('RichMediaLoggingStoreUtils',['CanvasCreationWaterfallTypedLogger','RichMediaEditorStore'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={logRichMediaCreationEventWithLogger:function i(j){j.setCanvasID(c('RichMediaEditorStore').getDocumentID()||null).log();}};f.exports=h;}),null);
__d('AdsCanvasButtonsContainer.react',['AdsCanvasButtons.react','AdsCanvasCloseConfirmDialog.react','AdsCanvasComposerDialogStore','AdsCanvasEditorFunnelLogging','AdsFluxContainer','AdsUnpublishedCanvasCloseConfirmDialog.react','CanvasCreationEvent','CanvasCreationWaterfallTypedLogger','BootloadOnRender.react','DOM','FluxStore','JSResource','LazyComponent.react','React','ReactDOM','RichMediaEditorActions','RichMediaEditorStore','RichMediaLoggingStoreUtils','emptyFunction','AdsCanvasEditorEnums'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('AdsCanvasEditorEnums').SaveStateEnum;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$AdsCanvasButtonsContainer2=function(q,r,s,t,u){if(r&&r.is_published||s===j.SAVED&&!this.props.mustPublish){return true;}else if(s===j.SAVED){c('ReactDOM').render(c('React').createElement(c('AdsUnpublishedCanvasCloseConfirmDialog.react'),{dialogID:q,onCancel:c('emptyFunction'),onCloseReset:t,onConfirm:u}),c('DOM').create('div'));return false;}else{c('ReactDOM').render(c('React').createElement(c('AdsCanvasCloseConfirmDialog.react'),{dialogID:q,onCancel:c('emptyFunction'),onConfirm:u}),c('DOM').create('div'));return false;}}.bind(this),m;}k.getStores=function(){return [c('AdsCanvasComposerDialogStore'),c('RichMediaEditorStore')];};k.calculateState=function(l,m){var n=c('AdsCanvasComposerDialogStore').getDialogShown('newCanvasDialog'),o=null,p=false;if(m.canvasID)p=c('AdsCanvasComposerDialogStore').getDialogShown(m.canvasID);if(m.canvasID)o=c('AdsCanvasComposerDialogStore').getDialogCanvas(m.canvasID);return {canvas:o,createDialogShown:n,editDialogShown:p,editState:c('RichMediaEditorStore').getDocumentEditState()};};k.prototype.render=function(){var l=this.state.canvas,m=l?c('React').createElement(c('AdsCanvasButtons.react'),{canvas:l,disabled:!!this.props.disabled,source:this.props.source,onClick:this.$AdsCanvasButtonsContainer1,onClickCreate:this.props.onClickCreate||c('emptyFunction'),onClickPreview:this.props.onClickPreview||c('emptyFunction')}):c('React').createElement(c('AdsCanvasButtons.react'),{disabled:!!this.props.disabled,source:this.props.source,onClick:this.$AdsCanvasButtonsContainer1,onClickCreate:this.props.onClickCreate||c('emptyFunction')}),n={accessToken:this.props.accessToken,businessID:this.props.businessID,canAddProductSet:this.props.canAddProductSet,canUseLinkedCanvas:this.props.canUseLinkedCanvas,createPostEnabled:false,editState:this.state.editState,mustPublish:this.props.mustPublish,pageID:this.props.pageID,source:this.props.source,onBeforeHideDialog:this.$AdsCanvasButtonsContainer2,onCloseReset:this.props.onCloseReset,onConfirmClose:this.$AdsCanvasButtonsContainer3,onDuplicateReload:this.props.onDuplicateReload,onReloadCanvas:this.$AdsCanvasButtonsContainer4,onSaveCanvasSuccess:this.props.onSaveCanvasSuccess,onToggle:this.$AdsCanvasButtonsContainer5},o=c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),babelHelpers['extends']({dialogID:'newCanvasDialog',dialogShown:this.state.createDialogShown},n)),loader:c('JSResource')('AdsCanvasComposerDialog.react').__setRef('AdsCanvasButtonsContainer.react'),placeholder:c('React').createElement('span',null)}),p=null;if(l)p=c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),babelHelpers['extends']({canvas:l,dialogID:l.id,dialogShown:this.state.editDialogShown},n)),loader:c('JSResource')('AdsCanvasComposerDialog.react').__setRef('AdsCanvasButtonsContainer.react'),placeholder:c('React').createElement('span',null)});return c('React').createElement('div',null,m,o,p);};k.prototype.$AdsCanvasButtonsContainer1=function(l){c('AdsCanvasEditorFunnelLogging').startFunnel();c('RichMediaEditorActions').setDialogShown(l,true);};k.prototype.$AdsCanvasButtonsContainer3=function(l){c('AdsCanvasEditorFunnelLogging').endFunnel();c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').EDITOR_EXIT));c('RichMediaEditorActions').setDialogShown(l,false);};k.prototype.$AdsCanvasButtonsContainer5=function(l,m){c('RichMediaEditorActions').setDialogShown(l,m);if(m){c('AdsCanvasEditorFunnelLogging').startFunnel();}else{c('AdsCanvasEditorFunnelLogging').endFunnel();c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').EDITOR_EXIT));}};k.prototype.$AdsCanvasButtonsContainer4=function(l,m){c('RichMediaEditorActions').setDialogCanvas(m.id,m);if(l!==m.id){c('RichMediaEditorActions').setDialogShown(l,false);c('RichMediaEditorActions').setDialogShown(m.id,true);}};f.exports=c('AdsFluxContainer').create(k,{withProps:true});}),null);
__d('AdsCanvasLabel.react',['cx','fbt','AdsCanvasConstants','AdsLabeledField.react','Link.react','React','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);}l.prototype.render=function(){var m=i._("Canvas is a full-screen experience that opens in mobile when people click your ad. {=Learn more}. {supplement}",[i.param('=Learn more',c('React').createElement(c('Link.react'),{href:c('AdsCanvasConstants').CANVAS_LEARN_MORE_LINK,target:'_blank',onClick:this.props.onClickLearnMore||c('emptyFunction')},i._("Learn more"))),i.param('supplement',this.props.supplement?this.props.supplement:'')]);return (c('React').createElement(c('AdsLabeledField.react'),{className:this.props.disabled?"_4i0b":'',helpText:m,label:i._("Canvas")}));};f.exports=l;}),null);
__d('AdsCanvasTypeaheadActionTypes',['ImmutableObject','keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=new (c('ImmutableObject'))(c('keyMirrorRecursive')({DOC_NAME:{LOADED:'',LOAD_ERROR:''},REFRESH_TYPEAHEAD:true},'AdsCanvasTypeahead'));f.exports=h;}),null);
__d('AdsCanvasTypeaheadActions',['AdsCanvasBuilderDispatcher','AdsCanvasTypeaheadActionTypes'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={docNameResultsLoaded:function i(j,k,l,m){l=l.filter(function(n){return ((!m||n.is_published===true)&&!!n.name);});c('AdsCanvasBuilderDispatcher').dispatch({pageID:j,filter:k,results:l,type:c('AdsCanvasTypeaheadActionTypes').DOC_NAME.LOADED});},docNameLoadError:function i(j,k,l){c('AdsCanvasBuilderDispatcher').dispatch({pageID:j,error:l,filter:k,type:c('AdsCanvasTypeaheadActionTypes').DOC_NAME.LOAD_ERROR});},refreshTypeahead:function i(j){c('AdsCanvasBuilderDispatcher').dispatch({pageID:j,type:c('AdsCanvasTypeaheadActionTypes').REFRESH_TYPEAHEAD});}};f.exports=h;}),null);
__d('CanvasDataUtils',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getFieldsForPagesCanvasList:function i(){return ['id','name','background_color','is_published','update_time','element_payload','elements{'+'element{'+'child_elements{element{photo{source}}},'+'photo{images}'+'},'+'name,'+'element_type'+'}','canvas_link','last_editor','business_id','store_url'];}};f.exports=h;}),null);
__d('AdsCanvasTypeaheadDataManager',['AdsCanvasConstants','AdsCanvasTypeaheadActions','AdsGenericFilterSet','AdsGraphAPI','CanvasDataUtils','GraphSort'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();h.prototype.searchCanvasDoc=function(i,j,k,l){c('AdsGraphAPI').get(f.id).object('page',j).edge('rich_media_documents').get({access_token:i,fields:c('CanvasDataUtils').getFieldsForPagesCanvasList(),filtering:k.toAPI(),limit:c('AdsCanvasConstants').TYPE_AHEAD_LIMIT,sort:'name'+c('GraphSort').DESC,summary:true}).done(function(m){c('AdsCanvasTypeaheadActions').docNameResultsLoaded(j,k,m.data,l);},function(m){return c('AdsCanvasTypeaheadActions').docNameLoadError(j,k,m);});};function h(){}f.exports=new h();}),null);
__d('AdsCanvasTypeaheadSearchableEntry',['fbt','AdsCanvasEditorFeature','SearchableEntry'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={createForCanvasDoc:function j(k){var l=c('AdsCanvasEditorFeature').linked_canvas_enabled?k.is_published?h._("Finished"):h._("Draft"):h._("Canvas Doc"),m={background_color:k.background_color,id:k.id,name:k.name,element_payload:k.element_payload,elements:k.elements,is_published:k.is_published,canvas_link:k.canvas_link,store_url:k.store_url};return new (c('SearchableEntry'))({auxiliaryData:m,subtitle:l,title:k.name,uniqueID:k.id});}};f.exports=i;}),null);
__d('LFUCache',['Cache','DateConsts'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=15,k=1;h=babelHelpers.inherits(l,c('Cache'));i=h&&h.prototype;function l(m,n){i.constructor.call(this);this.$LFUCache2=m&&m>0?m:j;this.$LFUCache3=n&&n>0?n:k;this.$LFUCache4();}l.prototype.$LFUCache4=function(){clearTimeout(this.$LFUCache1);this.$LFUCache1=setTimeout(this.purge.bind(this),this.$LFUCache2*c('DateConsts').SEC_PER_MIN*c('DateConsts').MS_PER_SEC);};l.prototype.destroy=function(){clearTimeout(this.$LFUCache1);};l.prototype.get=function(m,n){if(this.has(m))this.$LFUCache5(m);return i.get.call(this,m,n);};l.prototype.set=function(m,n,o,p){var q=this.has(m),r=i.set.call(this,m,n,o,p);if(r)if(q){this.$LFUCache5(m);}else this.$LFUCache6(m,this.$LFUCache3);return r;};l.prototype.purge=function(){var m=Array.from(this.__keys());m.forEach(function(n){if(this.$LFUCache7(n)<this.$LFUCache3){this['delete'](n);}else this.$LFUCache6(n,0);}.bind(this));this.$LFUCache4();};l.prototype.$LFUCache5=function(m){var n=this.$LFUCache7(m)+1;this.$LFUCache6(m,n);return n;};l.prototype.$LFUCache7=function(m){var n=this.__getRaw(m);return n&&n.$LFUCache8?n.$LFUCache8:0;};l.prototype.$LFUCache6=function(m,n){var o=this.__getRaw(m);if(!o)o=this.__getNewRawObject();o.$LFUCache8=n;this.__setRaw(m,o);return true;};f.exports=l;}),null);
__d('AdsCanvasTypeaheadStore',['AdsCanvasBuilderDispatcher','AdsCanvasTypeaheadActionTypes','AdsCanvasTypeaheadDataManager','AdsCanvasTypeaheadSearchableEntry','AdsGenericFilter','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator','AdsGenericFilterSet','FluxStore','LoadObject','LFUCache','ReactDispatcher_DEPRECATED','SearchableEntry'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=new (c('AdsGenericFilterField'))('name',c('AdsGenericFilterFieldType').STRING);h=babelHelpers.inherits(k,c('FluxStore'));i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$AdsCanvasTypeaheadStore1=new (c('LFUCache'))();}k.prototype.__onDispatch=function(l){switch(l.type){case c('AdsCanvasTypeaheadActionTypes').DOC_NAME.LOADED:return this.__handleResultsLoaded(l.pageID,l.filter,l.results,function(m){return c('AdsCanvasTypeaheadSearchableEntry').createForCanvasDoc(m);});case c('AdsCanvasTypeaheadActionTypes').DOC_NAME.LOAD_ERROR:return this.__handleError(l.pageID,l.filter,l.error);case c('AdsCanvasTypeaheadActionTypes').REFRESH_TYPEAHEAD:return this.$AdsCanvasTypeaheadStore2(l.pageID);}};k.prototype.searchDocByName=function(l,m,n,o){var p=new (c('AdsGenericFilterSet'))([new (c('AdsGenericFilter'))(j,c('AdsGenericFilterOperator').CONTAIN,l||'')]),q=this.$AdsCanvasTypeaheadStore3(m,p),r=this.$AdsCanvasTypeaheadStore1.get(q);if(!r){r=c('LoadObject').loading();this.$AdsCanvasTypeaheadStore1.set(q,r);c('AdsCanvasTypeaheadDataManager').searchCanvasDoc(n,m,p,o);}return r;};k.prototype.__handleError=function(l,m,n){var o=this.$AdsCanvasTypeaheadStore3(l,m);this.$AdsCanvasTypeaheadStore1.set(o,c('LoadObject').empty().setError(n));};k.prototype.__handleResultsLoaded=function(l,m,n,o){var p=this.$AdsCanvasTypeaheadStore3(l,m),q=n.map(o,this);this.$AdsCanvasTypeaheadStore1.set(p,c('LoadObject').empty().setValue(q));this.__emitChange();};k.prototype.$AdsCanvasTypeaheadStore2=function(l){var m=new (c('AdsGenericFilterSet'))([new (c('AdsGenericFilter'))(j,c('AdsGenericFilterOperator').CONTAIN,'')]),n=this.$AdsCanvasTypeaheadStore3(l,m),o=this.$AdsCanvasTypeaheadStore1.get(n);if(o)this.$AdsCanvasTypeaheadStore1.set(n,null);};k.prototype.$AdsCanvasTypeaheadStore3=function(l,m){return l+'-'+m.toString();};f.exports=new k(c('AdsCanvasBuilderDispatcher'));}),null);
__d('AdsFluxStoreSearchSource',['AbstractAsyncSearchSource','promiseStoreGet'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();function j(m,n,o,p){c('promiseStoreGet')(n.store,function(){return n.getData(m.value);}).done(function(q){return o(q||[]);},function(q){return p(q);});}function k(m){return m;}h=babelHelpers.inherits(l,c('AbstractAsyncSearchSource'));i=h&&h.prototype;function l(m){if(!m.bootstrapRequests)m.bootstrapRequests=m.queryRequests;i.constructor.call(this,m,j,k);}f.exports=l;}),null);
__d('AdsCanvasSearchSource',['AdsCanvasTypeaheadStore','AdsFluxStoreSearchSource'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AdsFluxStoreSearchSource'));i=h&&h.prototype;function j(k){var l=babelHelpers['extends']({getAllForEmptyQuery:true},k,{queryRequests:[{store:c('AdsCanvasTypeaheadStore'),getData:function m(n){return c('AdsCanvasTypeaheadStore').searchDocByName(n,k.pageID,k.accessToken,k.onlyPublished);}}]});i.constructor.call(this,l);}f.exports=j;}),null);
__d('AdsCanvasTypeahead.react',['cx','AdsCanvasButtonsContainer.react','AdsCanvasLabel.react','ContextualLayerHideOnScrollOut','ContextualLayerUpdateOnScroll','Grid.react','React','XUITypeahead.react','XUITypeaheadView.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('Grid.react').GridItem;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$AdsCanvasTypeahead6=function(){return !!this.state.queryString;}.bind(this);this.$AdsCanvasTypeahead8=function(event){this.props.onQueryChange&&this.props.onQueryChange();this.setState({queryString:event.target.value});}.bind(this);this.$AdsCanvasTypeahead1=function(n){return n?n.getTitle():'';};this.$AdsCanvasTypeahead2=function(n){this.setState({queryString:this.$AdsCanvasTypeahead1(n)});}.bind(this);this.$AdsCanvasTypeahead7=function(){this.$AdsCanvasTypeahead2(this.props.selectedEntry);}.bind(this);this.$AdsCanvasTypeahead9=function(){var n=this.props.selectedEntry;this.setState({queryString:n?n.getTitle():''});}.bind(this);this.$AdsCanvasTypeahead10=function(n){if(this.props.onEntrySelect)this.props.onEntrySelect(n,this.props.blockerArgs);this.setState({queryString:n.getTitle()});}.bind(this);this.state={queryString:this.$AdsCanvasTypeahead1(m.selectedEntry)};}l.prototype.componentWillReceiveProps=function(m){if(m.selectedEntry!==this.props.selectedEntry)this.$AdsCanvasTypeahead2(m.selectedEntry);};l.prototype.render=function(){var m=this.$AdsCanvasTypeahead3(),n=this.props.shouldHideCanvasCreateButton?c('React').createElement('div',{className:"_39gc"},m):c('React').createElement(c('Grid.react'),{className:"_39gb",cols:2},c('React').createElement(k,{className:"_39gc"},m),c('React').createElement(k,null,this.$AdsCanvasTypeahead4()));return c('React').createElement('div',null,this.$AdsCanvasTypeahead5(),n);};l.prototype.$AdsCanvasTypeahead3=function(){return c('React').createElement(c('XUITypeahead.react'),{autoHighlight:this.$AdsCanvasTypeahead6(),disabled:this.props.disabled,focusedOnInit:this.props.focusedOnInit,placeholder:this.props.placeholder,presenter:{ViewRenderer:c('XUITypeaheadView.react'),useLayer:true,layerBehaviors:{ContextualLayerHideOnScrollOut:c('ContextualLayerHideOnScrollOut'),ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll')}},queryString:this.state.queryString,ref:'typeahead',searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,showEntriesOnFocus:true,tallInput:true,xuiError:this.props.error,xuiErrorPosition:'above',onBlur:this.$AdsCanvasTypeahead7,onChange:this.$AdsCanvasTypeahead8,onFocus:this.$AdsCanvasTypeahead9,onSelectAttempt:this.$AdsCanvasTypeahead10});};l.prototype.$AdsCanvasTypeahead4=function(){if(this.props.shouldHideCanvasCreateButton)return null;return c('React').createElement(c('AdsCanvasButtonsContainer.react'),{accessToken:this.props.accessToken,businessID:this.props.businessID,canAddProductSet:this.props.canAddProductSet,canUseLinkedCanvas:this.props.canUseLinkedCanvas,canvasID:this.props.canvasID,disabled:this.props.disabled,mustPublish:this.props.mustPublish,pageID:this.props.pageID,source:this.props.source,onClickCreate:this.props.onClickCreate,onClickPreview:this.props.onClickPreview,onCloseReset:this.props.onCloseReset,onDuplicateReload:this.props.onDuplicateReload,onSaveCanvasSuccess:this.props.onSaveCanvasSuccess});};l.prototype.$AdsCanvasTypeahead5=function(){if(this.props.hideHelpText)return null;return c('React').createElement(c('AdsCanvasLabel.react'),{disabled:this.props.disabled,supplement:this.props.labelSupplement,onClickLearnMore:this.props.onClickLearnMore});};f.exports=l;}),null);
__d('XUIRadioButtonGroup.react',['React','XUIButtonGroup.react'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'XUIRadioButtonGroup',propTypes:{onValueChange:h.func,selectedValue:h.any,selectedUse:h.oneOf(['default','special','confirm']),selectedDepressed:h.bool},render:function j(){var k=c('React').Children.map(this.props.children,function(l){var m=this.props.selectedValue===l.props.value;return c('React').cloneElement(l,{onClick:this._getClickHandler(l.props.value,l.props.onClick),use:m&&'selectedUse' in this.props?this.props.selectedUse:l.props.use,depressed:m&&'selectedDepressed' in this.props?this.props.selectedDepressed:l.props.depressed});},this);return c('React').createElement(c('XUIButtonGroup.react'),this.props,k);},_getClickHandler:function j(k,l){var m=this.props;return function(){if(m.onValueChange)m.onValueChange(k);if(l)l.apply(this,arguments);};}});f.exports=i;}),null);
__d('PagesComposerActionsLogger',['Banzai'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='pages_composer_actions',i='actions';function j(l){return {log:function m(n,o){o=o?o:i;c('Banzai').post(h+':'+o,n,l);},create:null};}var k=j();k.create=j;f.exports=k;}),null);
__d('ReactComposerAutosSellActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({REGISTER_AUTOS_COMPOSER:null,SAVE_YEAR:null,SAVE_ODOMETER:null,SAVE_MAKE:null,SAVE_MODEL:null,SAVE_VIN:null,SELECT_TYPEAHEAD:null,SAVE_ODOMETER_UNIT:null,SET_SELL_CONFIG:null},'ReactComposerAutosSellActionType');}),null);
__d('ReactComposerAutosSellStore.react',['Assert','ReactComposerAutosSellActionType','ReactComposerStoreBase','ReactComposerSellStore'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=['807311116002614','1558493264400524'],k=4,l=8,m=255,n=255,o=17;h=babelHelpers.inherits(p,c('ReactComposerStoreBase'));i=h&&h.prototype;function p(){'use strict';var q;i.constructor.call(this,function(){return {showAutosForSellOptions:false,year:'',odometer:'',odometerUnits:'kilometers',make:'',model:'',vin:''};},function(r){switch(r.type){case c('ReactComposerAutosSellActionType').SAVE_YEAR:q&&q.$ReactComposerAutosSellStore1(r);break;case c('ReactComposerAutosSellActionType').SAVE_ODOMETER:q&&q.$ReactComposerAutosSellStore2(r);break;case c('ReactComposerAutosSellActionType').SAVE_ODOMETER_UNIT:q&&q.$ReactComposerAutosSellStore3(r);break;case c('ReactComposerAutosSellActionType').SAVE_MAKE:q&&q.$ReactComposerAutosSellStore4(r);break;case c('ReactComposerAutosSellActionType').SAVE_MODEL:q&&q.$ReactComposerAutosSellStore5(r);break;case c('ReactComposerAutosSellActionType').SAVE_VIN:q&&q.$ReactComposerAutosSellStore6(r);break;case c('ReactComposerAutosSellActionType').SET_SELL_CONFIG:q&&q.$ReactComposerAutosSellStore7(r);break;}});q=this;}p.prototype.getMaxCharactersForYear=function(q){'use strict';return k;};p.prototype.getMaxCharactersForOdometer=function(q){'use strict';return l;};p.prototype.getMaxCharactersForMake=function(q){'use strict';return m;};p.prototype.getMaxCharactersForModel=function(q){'use strict';return n;};p.prototype.getNumCharactersForVIN=function(q){'use strict';return o;};p.prototype.getYear=function(q){'use strict';return this.getComposerData(q).year;};p.prototype.getOdometerValue=function(q){'use strict';return this.getComposerData(q).odometer;};p.prototype.getMake=function(q){'use strict';return this.getComposerData(q).make;};p.prototype.getModel=function(q){'use strict';return this.getComposerData(q).model;};p.prototype.getVIN=function(q){'use strict';return this.getComposerData(q).vin;};p.prototype.getCategoryInfo=function(q){'use strict';c('Assert').isTruthy(j.length>0,'Constant has an unexpected value');var r=j[0],s=c('ReactComposerSellStore').getCategoryTextForID(q,r);if(s&&s.length>0)return [r,s];return null;};p.prototype.getOdometerUnits=function(q){'use strict';return this.getComposerData(q).odometerUnits;};p.prototype.isUnitSelected=function(q){'use strict';return !!this.getComposerData(q).saveOdometerUnit;};p.prototype.isYearSelected=function(q){'use strict';return !!this.getComposerData(q).saveYear;};p.prototype.showAutosSpecificFields=function(q){'use strict';var r=c('ReactComposerSellStore').getCategoryID(q);return r!==null&&j.indexOf(r)!==-1&&c('ReactComposerSellStore').showAutosForSellOptions(q);};p.prototype.$ReactComposerAutosSellStore2=function(q){'use strict';var r=this.validateAction(q,['composerID','odometer']),s=r[0],t=r[1];if(/^\d*$/.test(t)&&t.length<=l){var u=this.getComposerData(s),v=parseInt(t.substring(0,l),10);u.odometer=v>0?v+'':'';this.emitChange(s);}};p.prototype.$ReactComposerAutosSellStore1=function(q){'use strict';var r=this.validateAction(q,['composerID','year']),s=r[0],t=r[1];if(t===''||/^[1-2][0-9]{0,3}$/.test(t)){var u=this.getComposerData(s);u.year=t;this.emitChange(s);}};p.prototype.$ReactComposerAutosSellStore4=function(q){'use strict';var r=this.validateAction(q,['composerID','make']),s=r[0],t=r[1],u=this.getComposerData(s);u.make=t.substring(0,m);this.emitChange(s);};p.prototype.$ReactComposerAutosSellStore5=function(q){'use strict';var r=this.validateAction(q,['composerID','model']),s=r[0],t=r[1],u=this.getComposerData(s);u.model=t.substring(0,n);this.emitChange(s);};p.prototype.$ReactComposerAutosSellStore6=function(q){'use strict';var r=this.validateAction(q,['composerID','vin']),s=r[0],t=r[1];if(/^[0-9a-zA-Z]*$/.test(t)&&t.length<=o){var u=this.getComposerData(s);u.vin=t.toUpperCase();this.emitChange(s);}};p.prototype.$ReactComposerAutosSellStore3=function(q){'use strict';var r=this.validateAction(q,['composerID','odometerUnit']),s=r[0],t=r[1],u=this.getComposerData(s);u.odometerUnit=t;this.emitChange(s);};p.prototype.$ReactComposerAutosSellStore7=function(q){'use strict';var r=this.validateAction(q,['composerID','config']),s=r[0],t=r[1],u=this.getComposerData(s),v=t.autosCategory;u.showAutosForSellOptions=v.showAutosForSellOptions;u.odometerUnits=v.autosOdometerUnits;this.emitChange(s);};f.exports=new p();}),null);
__d('ReactComposerMultilingualStatusActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({MOUNTED_MULTILINGUAL_STATUS:null,MULTILINGUAL_PROMPT_CLICK:null,MULTILINGUAL_PROMPT_CLOSE:null,LANGUAGE_CREATED:null,LANGUAGE_CHANGED:null,LANGUAGE_REMOVED:null,SET_LANGUAGE_EDITOR_STATE:null,SET_SPECIFIED_POST_LANGUAGE:null,PREFILL_MULTILINGUAL_DATA:null},'ReactComposerMultilingualStatusActionType');}),null);
__d('MentionsInputUtility',['DraftEntity','createEditorStateWithEntities'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=new RegExp(/@\[(\d+):((\\\]|[^\]])+)\]/g),i=new RegExp(/@\[(\d+):(\d+):((\\\]|[^\]])+)\]/g),j=function l(m){var n=m.replace(i,'@[$1:$3]'),o=[],p;while(p=h.exec(n)){var q=p[2].replace(/\\:/g,':').replace(/\\]/g,']').replace(/\n/g,''),r={uid:p[1],text:q,offset:p.index,length:q.length,weakreference:false,entity:{uid:p[1],weakreference:false}};o.push(r);n=n.substr(0,r.offset)+r.text+n.substr(r.offset+p[0].length);h.lastIndex=r.offset+r.length;}return {text:n,ranges:o};},k=function l(m,n){var o=this.parseTextWithMentions(m),p=o.text,q=o.ranges;return c('createEditorStateWithEntities')({text:p,ranges:q,decorator:n,entityCreationFn:function r(s){return c('DraftEntity').create('MENTION','IMMUTABLE',{id:s.uid,isWeak:s.weakreference});},splitIntoBlocks:true,allowUndo:true});};f.exports={createFromTextWithMentions:k,parseTextWithMentions:j};}),null);
__d('ReactComposerMultilingualStatusStore',['ReactComposerMultilingualStatusActionType','ReactComposerStoreBase','MentionsInputUtility','getMentionsInputDecorator','getMentionsTextForContentState','immutable'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('immutable').Record({languageDialect:null,editorState:null});h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {statuses:c('immutable').List(),specifiedPostLanguage:''};},function(m){switch(m.type){case c('ReactComposerMultilingualStatusActionType').MOUNTED_MULTILINGUAL_STATUS:l&&l.$ReactComposerMultilingualStatusStore1(m);break;case c('ReactComposerMultilingualStatusActionType').LANGUAGE_CREATED:l&&l.$ReactComposerMultilingualStatusStore2(m);break;case c('ReactComposerMultilingualStatusActionType').LANGUAGE_REMOVED:l&&l.$ReactComposerMultilingualStatusStore3(m);break;case c('ReactComposerMultilingualStatusActionType').LANGUAGE_CHANGED:l&&l.$ReactComposerMultilingualStatusStore4(m);break;case c('ReactComposerMultilingualStatusActionType').SET_LANGUAGE_EDITOR_STATE:l&&l.$ReactComposerMultilingualStatusStore5(m);break;case c('ReactComposerMultilingualStatusActionType').SET_SPECIFIED_POST_LANGUAGE:l&&l.$ReactComposerMultilingualStatusStore6(m);break;case c('ReactComposerMultilingualStatusActionType').PREFILL_MULTILINGUAL_DATA:l&&l.$ReactComposerMultilingualStatusStore7(m);break;}});l=this;}k.prototype.getAllPostDialects=function(l){'use strict';var m=this.getLanguageDialects(l);m.push(this.getSpecifiedPostLanguage(l));return m;};k.prototype.getSpecifiedPostLanguage=function(l){'use strict';return this.getComposerData(l).specifiedPostLanguage;};k.prototype.getLanguageDialects=function(l){'use strict';return this.getStatuses(l).map(function(m){return m.languageDialect;}).toArray();};k.prototype.getEditorStates=function(l){'use strict';return this.getStatuses(l).map(function(m){return m.editorState;}).toArray();};k.prototype.getMessages=function(l){'use strict';return this.getStatuses(l).map(function(m){return this.$ReactComposerMultilingualStatusStore8(m);}.bind(this)).toArray();};k.prototype.getMessage=function(l,m){'use strict';var n=this.getStatus(l,m);return this.$ReactComposerMultilingualStatusStore8(n);};k.prototype.getStatuses=function(l){'use strict';return this.getComposerData(l).statuses;};k.prototype.getStatus=function(l,m){'use strict';var n=this.getComposerData(l),o=this.$ReactComposerMultilingualStatusStore9(n.statuses,m);return n.statuses.get(o);};k.prototype.getPostData=function(l){'use strict';var m=this.getMessages(l);if(m.length===0)return {};return {multilingual_specified_lang:this.getSpecifiedPostLanguage(l),multilingual_status_langs:this.getLanguageDialects(l),multilingual_statuses:m};};k.prototype.$ReactComposerMultilingualStatusStore9=function(l,m){'use strict';var n=l.findIndex(function(o){return (o.languageDialect===m);});if(n===-1)throw new Error('Undefined status language dialect: '+m);return n;};k.prototype.$ReactComposerMultilingualStatusStore8=function(l){'use strict';var m=l.editorState.getCurrentContent();return c('getMentionsTextForContentState')(m);};k.prototype.$ReactComposerMultilingualStatusStore2=function(l){'use strict';var m=this.validateAction(l,['composerID','languageDialect','languageConfig']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=new j({languageDialect:o,editorState:p.editorState});q.statuses=q.statuses.push(r);this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore3=function(l){'use strict';var m=this.validateAction(l,['composerID','languageDialect']),n=m[0],o=m[1],p=this.getComposerData(n),q=this.$ReactComposerMultilingualStatusStore9(p.statuses,o);p.statuses=p.statuses.splice(q,1);this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore4=function(l){'use strict';var m=this.validateAction(l,['composerID','oldLanguageDialect','newLanguageDialect']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=this.$ReactComposerMultilingualStatusStore9(q.statuses,o);q.statuses=q.statuses.set(r,new j({languageDialect:p,editorState:q.statuses.get(r).editorState}));this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','languageDialect','editorState']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=this.$ReactComposerMultilingualStatusStore9(q.statuses,o);q.statuses=q.statuses.set(r,new j({languageDialect:o,editorState:p}));this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore1=function(l){'use strict';this.$ReactComposerMultilingualStatusStore6(l);};k.prototype.$ReactComposerMultilingualStatusStore6=function(l){'use strict';var m=this.validateAction(l,['composerID','languageDialect']),n=m[0],o=m[1],p=this.getComposerData(n);p.specifiedPostLanguage=o;this.emitChange(n);};k.prototype.$ReactComposerMultilingualStatusStore7=function(l){'use strict';var m=this.validateAction(l,['composerID','multilingualData']),n=m[0],o=m[1],p=this.getComposerData(n);p.specifiedPostLanguage=o.specifiedDialect;o.multilingualStatuses.forEach(function(q){p.statuses=p.statuses.push(new j({languageDialect:q.dialect,editorState:c('MentionsInputUtility').createFromTextWithMentions(q.message,c('getMentionsInputDecorator')())}));});this.emitChange(n);};f.exports=new k();}),null);
__d('ReactComposerPhotoPrefillConfig',['React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes;f.exports=h.shape({uploadID:h.string,photoID:h.string,thumbSrc:h.string,cubestripURI:h.string});}),null);
__d('ReactComposerPrefillConfig',['ReactComposerAttachmentType','ReactComposerMediaPrefillConfig','ReactComposerPhotoPrefillConfig','React','getOwnObjectValues'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes;f.exports=h.shape({mentionsInput:h.shape({textWithEntities:h.shape({text:h.string}),selection:h.object}),selectedAttachment:h.oneOf(c('getOwnObjectValues')(c('ReactComposerAttachmentType'))),shouldActivateSelectedAttachment:h.bool,taggersData:h.object,mediasData:h.arrayOf(c('ReactComposerMediaPrefillConfig')),photosData:h.arrayOf(c('ReactComposerPhotoPrefillConfig')),attachmentPreviewData:h.shape({scrapedURL:h.string,scrapedAttachment:h.shape({markup:h.object,attachmentConfig:h.object}),minutiaeAttachment:h.shape({markup:h.object})}),composerSellAttachment:h.shape({title:h.string,price:h.string,categoryID:h.string,categoryText:h.string,locationID:h.string,locationText:h.string}),donateConfig:h.shape({charityName:h.string,fundraiserCampaignId:h.string}),liveBroadcastData:h.shape({accessToken:h.string,streamURL:h.string}),topicFeedTags:h.arrayOf(h.string),multilingualData:h.shape({specifiedDialect:h.string,multilingualStatuses:h.arrayOf(h.shape({dialect:h.string,message:h.string}))}),expandSproutsOnInit:h.bool});}),null);
__d('ReactComposerPrefillActions',['ReactComposerDispatcher','ReactComposerPrefillActionTypes','ReactComposerPrefillConfig','ReactComposerPrefillStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerPrefillStore');var h={setPrefillData:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPrefillActionTypes').SET_PREFILL_DATA,prefillConfig:k});}};f.exports=h;}),null);
__d('ReactComposerPrefillUtils',['ReactComposerEvents','ReactComposerMediaUploadType','ReactComposerPrefillActions','Arbiter','Bootloader'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={prefill:function i(j,k){c('ReactComposerPrefillActions').setPrefillData(j,k);this._prefillStatusText(j,k);this._prefillMedia(j,k);c('Arbiter').inform(c('ReactComposerEvents').SET_PREFILL_DATA+j,null,c('Arbiter').BEHAVIOR_STATE);},_prefillStatusText:function i(j,k){var l=k.mentionsInput;l&&c('Bootloader').loadModules(["ReactComposerPrefillMentionsInput","ReactComposerStatusActions"],function(m,n){var o=m.createEditorState(l.textWithEntities,l.selection);n.setEditorState(j,o);c('Arbiter').inform(c('ReactComposerEvents').RERENDER_MENTION_INPUT+j);},'ReactComposerPrefillUtils');},_prefillMedia:function i(j,k){var l=k.photosData;if(l&&l.length>0)l.forEach(function(n){n.mediaType=c('ReactComposerMediaUploadType').PHOTO;});var m=k.mediasData;m=m||l;if(m)c('Bootloader').loadModules(["ReactComposerMediaUploadActions"],function(n){n.prefillMedias(j,m);},'ReactComposerPrefillUtils');}};f.exports=h;}),null);
/**
 * @providesModule color-picker-clamp
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */__d("color-picker-clamp",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();function h(i,j,k){return i<j?j:(i>k?k:i);}f.exports=h;}),null);
/**
 * @providesModule color-picker-draggable-mixin
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */__d("color-picker-draggable-mixin",["React","color-picker-clamp"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c("React"),i=c("color-picker-clamp");function j(){}var k={propTypes:{onChange:h.PropTypes.func,max:h.PropTypes.number},getDefaultProps:function(){return {onChange:j,max:1};},getInitialState:function(){return {active:false};},componentDidMount:function(){document.addEventListener("mousemove",this.handleUpdate);document.addEventListener("touchmove",this.handleUpdate);document.addEventListener("mouseup",this.stopUpdates);document.addEventListener("touchend",this.stopUpdates);},componentWillUnmount:function(){document.removeEventListener("mousemove",this.handleUpdate);document.removeEventListener("touchmove",this.handleUpdate);document.removeEventListener("mouseup",this.stopUpdates);document.removeEventListener("touchend",this.stopUpdates);},startUpdates:function(l){l.preventDefault();var m=this.getPosition(l);this.setState({active:true});this.updatePosition(m.x,m.y);},handleUpdate:function(l){if(this.state.active){l.preventDefault();var m=this.getPosition(l);this.updatePosition(m.x,m.y);}},stopUpdates:function(){if(this.state.active)this.setState({active:false});},getPosition:function(l){if(l.touches)l=l.touches[0];return {x:l.clientX,y:l.clientY};},getPercentageValue:function(l){return (l/this.props.max)*100+"%";},getScaledValue:function(l){return i(l,0,1)*this.props.max;}};f.exports=k;}),null);
/**
 * @providesModule color-picker-map
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @fullSyntaxTransform
 */__d("color-picker-map",["cx","React","ReactDOM","ReactComponentWithPureRenderMixin","color-picker-draggable-mixin"],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c("React").createClass({displayName:"Map",mixins:[c("color-picker-draggable-mixin"),c("ReactComponentWithPureRenderMixin")],propTypes:{x:c("React").PropTypes.number,y:c("React").PropTypes.number,backgroundColor:c("React").PropTypes.string},getDefaultProps:function j(){return {x:0,y:0,backgroundColor:"transparent"};},updatePosition:function j(k,l){var m=c("ReactDOM").findDOMNode(this).getBoundingClientRect(),n=(k-m.left)/m.width,o=(m.bottom-l)/m.height;n=this.getScaledValue(n);o=this.getScaledValue(o);this.props.onChange(n,o);},render:function j(){var k="map"+(this.state.active?" "+"active":"");return (c("React").createElement("div",{className:"_4uwo"+" "+this.props.className+" "+k,onMouseDown:this.startUpdates,onTouchStart:this.startUpdates},c("React").createElement("div",{className:"background",style:{backgroundColor:this.props.backgroundColor}}),c("React").createElement("div",{className:"pointer",style:{left:this.getPercentageValue(this.props.x),bottom:this.getPercentageValue(this.props.y)}})));}});f.exports=i;}),null);
/**
 * @providesModule color-picker-slider
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @fullSyntaxTransform
 */__d("color-picker-slider",["cx","React","ReactDOM","ReactComponentWithPureRenderMixin","color-picker-draggable-mixin"],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c("React").createClass({displayName:"Slider",mixins:[c("color-picker-draggable-mixin"),c("ReactComponentWithPureRenderMixin")],propTypes:{vertical:c("React").PropTypes.bool.isRequired,value:c("React").PropTypes.number.isRequired},getDefaultProps:function j(){return {value:0};},updatePosition:function j(k,l){var m=c("ReactDOM").findDOMNode(this).getBoundingClientRect(),n;if(this.props.vertical){n=(m.bottom-l)/m.height;}else n=(k-m.left)/m.width;n=this.getScaledValue(n);this.props.onChange(n);},getCss:function j(){var k={},l=this.props.vertical?"bottom":"left";k[l]=this.getPercentageValue(this.props.value);return k;},render:function j(){var k="slider"+(this.props.vertical?" "+"vertical":"")+(!this.props.vertical?" "+"horizontal":"");return (c("React").createElement("div",{className:"_4_2w"+" "+k,onMouseDown:this.startUpdates,onTouchStart:this.startUpdates},c("React").createElement("div",{className:"track"}),c("React").createElement("div",{className:"pointer",style:this.getCss()})));}});f.exports=i;}),null);
/**
 * @providesModule color-picker
 * @preserve-header
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Nick Williams
 * Copyright (c) 2014 George Czabania
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @fullSyntaxTransform
 */__d("color-picker",["cx","React","color-picker-map","color-picker-slider","colr"],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.getStateFrom=function(q){q=c("colr").fromHex(q);return {hsv:q.toHsvObject()};},this.getLuminosity=function(){return c("colr").fromHsvObject(this.state.hsv).toGrayscale()/255;}.bind(this),this.getBackgroundHue=function(){return c("colr").fromHsv(this.state.hsv.h,100,100).toHex();}.bind(this),this.handleHueChange=function(q){this.update({h:q,s:this.state.hsv.s,v:this.state.hsv.v});}.bind(this),this.handleSaturationValueChange=function(q,r){this.update({h:this.state.hsv.h,s:q,v:r});}.bind(this),this.update=function(q){var r=c("colr").fromHsvObject(q);this.props.onChange(r.toHex());this.setState({hsv:q});}.bind(this),this.state=this.getStateFrom(this.props.color),m;}k.prototype.componentWillReceiveProps=function(l){"use strict";var m=l.color,n=c("colr").fromHsvObject(this.state.hsv).toHex();if(m.toLowerCase()!==n.toLowerCase())this.setState(this.getStateFrom(m));};k.prototype.render=function(){"use strict";var l=this.getLuminosity(),m=this.getBackgroundHue(),n=(l<=.5?"dark":"")+(l>.5?" "+"light":"");return c("React").createElement("div",{className:"_f4e"},c("React").createElement("div",{className:"_2ppf"},c("React").createElement(c("color-picker-slider"),{vertical:true,value:this.state.hsv.h,max:360,onChange:this.handleHueChange})),c("React").createElement(c("color-picker-map"),{x:this.state.hsv.s,y:this.state.hsv.v,max:100,className:n,backgroundColor:m,onChange:this.handleSaturationValueChange}));};k.defaultProps={color:"#000000"};f.exports=k;}),null);