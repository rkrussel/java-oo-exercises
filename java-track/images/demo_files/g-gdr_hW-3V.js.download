if (self.CavalryLogger) { CavalryLogger.start_js(["McUeL"]); }

__d("BrandedContentTaggerNuxAction",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LOG_VIEW:"log_view",DISMISS:"dismiss"};}),null);
__d("CarouselPagesComposerSource",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CAROUSEL_CAMERA_ICON:"carousel_camera_icon"};}),null);
__d("CommerceProductTaggerType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:"none",SHOP_PAGE:"shop_page",NON_SHOP_PAGE:"non_shop_page"};}),null);
__d("ComposerPerfEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CLIENT_BOOTSTRAPPED:"client_bootstrapped",CLIENT_BOOTLOADED:"client_bootloaded",CLIENT_POST_SUCCEEDED:"client_post_succeeded",CLIENT_POST_FAILED:"client_post_failed"};}),null);
__d("FacerecWaterfallEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={RECOGNITION_RECEIVED_BY_CLIENT:"recognition_received_by_client",CLIENT_RECOGNITION_POLLER_TIMEOUT:"client_recognition_poller_timeout",CLIENT_RECOGNITION_POLLER_GIVE_UP:"client_recognition_poller_give_up",SERVER_PHOTO_PUBLISHED:"server_photo_published",SERVER_PHOTO_TAG_ADDED:"sever_photo_tag_added",SERVER_RECOGNITION_OF_PHOTO_POLLED:"server_recognition_of_photo_polled",SERVER_RECOGNITION_OF_FACE_BOX_RETURNED:"server_recognition_of_face_box_returned",CLIENT_PHOTO_PUBLISHED:"client_photo_published"};}),null);
__d("PagesComposerCarouselPostChildAttachmentAttributes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PICTURE:"picture",NAME:"name",DESCRIPTION:"description",LINK:"link",SELECTED:"selected",SCRAPED:"scraped",IMAGE_FBID:"image_fbid",IMAGE_SOURCE:"image_source",ORIGINAL_DIMENSION_HEIGHT:"original_dimensions_height",ORIGINAL_DIMENSION_WIDTH:"original_dimensions_width",CROPPING_START_POINT_X:"cropping_startPoint_x",CROPPING_START_POINT_Y:"cropping_startPoint_y",CROPPING_SOURCE_DIMENSION_HEIGHT:"cropping_source_dimension_height",CROPPING_SOURCE_DIMENSION_WIDTH:"cropping_source_dimension_width",VIDEO_ID:"video_id",CTA_TYPE:"cta_type"};}),null);
__d("PagesComposerCarouselPostLogAttributes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={USE_CAROUSEL_COMPOSER:"use_carousel_composer",CAROUSEL_INCOMPATIBLE:"carousel_incompatible",CAROUSEL_INCOMPATIBLE_TYPE:"carousel_incompatible_type",SCRAPED_IMAGE_NUM_OLD:"scraped_image_num_old",SCRAPED_URL:"scraped_url",SCRAPED_TIME:"scraped_time",COMPOSER_LOCATION:"composer_location",HIDE_END_CARD:"hide_end_card",SOURCE_ATTACHMENT:"source_attachment",PREFILL_SCRAPE_URL:"prefill_scrape_url"};}),null);
__d("PagesComposerCarouselPostNuxType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MEDIA_ATTACHEMENT_URL_INPUT_AREA_NUX:"media_attachment_url_input_area_nux"};}),null);
__d("PagesComposerExtraAttachmentIcons",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BOOK_TRAVEL_ICON:"BOOK_TRAVEL_ICON",CAUSE_ICON:"CAUSE_ICON",COUPONS_ICON:"COUPONS_ICON",EVENTS_ICON:"EVENTS_ICON",FINCH_COUPONS_ICON:"FINCH_COUPONS_ICON",FINCH_EVENTS_ICON:"FINCH_EVENTS_ICON",LEARN_MORE_ICON:"LEARN_MORE_ICON",MORE_ICON:"MORE_ICON",OFFERS_ICON:"OFFERS_ICON",PRODUCT_ICON:"PRODUCT_ICON",Q_AND_A_ICON:"Q_AND_A_ICON",SHOP_NOW_ICON:"SHOP_NOW_ICON",SIGN_UP_ICON:"SIGN_UP_ICON"};}),null);
__d("PhotoEditorLoggingConstants",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER_IMAGE_STICKER:"composer_sticker",COMPOSER_IMAGE_TEXT_OVERLAY:"composer_text_overlay",COMPOSER_IMAGE_HAS_CROP:"composer_has_crop",COMPOSER_IMAGE_HAS_FILTER:"composer_has_filter"};}),null);
__d("PlaceAttachmentSetting",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HIDE_ATTACHMENT:1,SHOW_ATTACHMENT:2};}),null);
__d("SlideshowCreationWaterfallEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SLIDESHOW_INTENT:"intent_slideshow",SLIDESHOW_CANCEL:"cancel_slideshow",SLIDESHOW_POST:"post_slideshow",SLIDESHOW_PREVIEW_INTENT:"intent_slideshow_preview",SLIDESHOW_PREVIEW_CANCEL:"cancel_slideshow_preview",SLIDESHOW_IMAGE_UPLOAD_STARTED:"image_upload_started_slideshow",SLIDESHOW_IMAGE_UPLOAD_SUCCESS:"image_upload_success_slideshow",SLIDESHOW_IMAGES_SELECT_CONFIRM:"images_select_confirm_slideshow",SLIDESHOW_IMAGE_REMOVE:"image_remove_slideshow",SLIDESHOW_ADD_VIDEO_CLICK:"add_video_click_slideshow",SLIDESHOW_VIDEO_UPLOAD_START:"video_upload_start_slideshow",SLIDESHOW_VIDEO_UPLOAD_ERROR:"video_upload_error_slideshow",SLIDESHOW_VIDEO_UPLOAD_SUCCESS:"video_upload_success_slideshow",SLIDESHOW_FRAME_IMAGES_START:"frame_images_start_slideshow",SLIDESHOW_FRAME_IMAGES_SUCCESS:"frame_images_success_slideshow",SLIDESHOW_FRAME_IMAGES_ERROR:"frame_images_error_slideshow",SLIDESHOW_STORYLINE_MOOD_SELECT:"storyline_mood_select_slideshow",SLIDESHOW_MUSIC_CATEGORY_SELECT:"music_category_select_slideshow",SLIDESHOW_STORYLINE_MOOD_REMOVE:"storyline_mood_remove_slideshow",SLIDESHOW_STORYLINE_MOOD_DELETE:"storyline_mood_delete_slideshow",SLIDESHOW_AUDIO_UPLOAD_START:"audio_upload_start_slideshow",SLIDESHOW_AUDIO_UPLOAD_ERROR:"audio_upload_error_slideshow",SLIDESHOW_AUDIO_UPLOAD_SUCCESS:"audio_upload_success_slideshow",SLIDESHOW_DURATION_CHANGE:"duration_change_slideshow",SLIDESHOW_TRANSITION_CHANGE:"transition_change_slideshow",SLIDESHOW_FORMAT_CHANGE:"format_change_slideshow",SLIDESHOW_TAB_CHANGE:"tab_change_slideshow"};}),null);
__d("SlideshowFrameImagesRequestType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SCHEDULE_ASYNC_JOB:0,FETCH_FRAME_IMAGES:1};}),null);
__d("SlideshowMusicCategory",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ALL_TRACKS:"All Tracks",USER_UPLOADED:"User Uploaded",RECENTLY_USED:"Recently Used",ENERGETIC:"Energetic",INSPIRATIONAL:"Inspirational",FUN:"Fun",TRUSTWORTHY:"Trustworthy",MODERN:"Modern"};}),null);
__d("StorySurfaces",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HOMEPAGE:1,TIMELINE:2,PERMALINK:3,ENTSTREAM:4,GROUP:5};}),null);
__d('LoadingImageBox.react',['cssVar','CenteredContainer.react','React','XUISpinner.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.className,n=l.height,o=l.width;return (c('React').createElement(c('CenteredContainer.react'),{className:m,style:{backgroundColor:"#000000",height:n,width:o},vertical:true},c('React').createElement(c('XUISpinner.react'),{background:'dark',size:'large'})));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('CountryCodeMap',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={US:'United States',CA:'Canada',GB:'United Kingdom',AR:'Argentina',AU:'Australia',AT:'Austria',BE:'Belgium',BR:'Brazil',CL:'Chile',CN:'China',CO:'Colombia',HR:'Croatia',DK:'Denmark',DO:'Dominican Republic',EG:'Egypt',FI:'Finland',FR:'France',DE:'Germany',GR:'Greece',HK:'Hong Kong',IN:'India',ID:'Indonesia',IE:'Ireland',IL:'Israel',IT:'Italy',JP:'Japan',JO:'Jordan',KW:'Kuwait',LB:'Lebanon',MY:'Malaysia',MX:'Mexico',NL:'Netherlands',NZ:'New Zealand',NG:'Nigeria',NO:'Norway',PK:'Pakistan',PA:'Panama',PE:'Peru',PH:'Philippines',PL:'Poland',RU:'Russia',SA:'Saudi Arabia',RS:'Serbia',SG:'Singapore',ZA:'South Africa',KR:'South Korea',ES:'Spain',SE:'Sweden',CH:'Switzerland',TW:'Taiwan',TH:'Thailand',TR:'Turkey',AE:'United Arab Emirates',VE:'Venezuela',PT:'Portugal',LU:'Luxembourg',BG:'Bulgaria',CZ:'Czech Republic',SI:'Slovenia',IS:'Iceland',SK:'Slovakia',LT:'Lithuania',TT:'Trinidad and Tobago',BD:'Bangladesh',LK:'Sri Lanka',KE:'Kenya',HU:'Hungary',MA:'Morocco',CY:'Cyprus',JM:'Jamaica',EC:'Ecuador',RO:'Romania',BO:'Bolivia',GT:'Guatemala',CR:'Costa Rica',QA:'Qatar',SV:'El Salvador',HN:'Honduras',NI:'Nicaragua',PY:'Paraguay',UY:'Uruguay',PR:'Puerto Rico',BA:'Bosnia and Herzegovina',PS:'Palestine',TN:'Tunisia',BH:'Bahrain',VN:'Vietnam',GH:'Ghana',MU:'Mauritius',UA:'Ukraine',MT:'Malta',BS:'The Bahamas',MV:'Maldives',OM:'Oman',MK:'Macedonia',LV:'Latvia',EE:'Estonia',IQ:'Iraq',DZ:'Algeria',AL:'Albania',NP:'Nepal',MO:'Macau',ME:'Montenegro',SN:'Senegal',GE:'Georgia',BN:'Brunei',UG:'Uganda',GP:'Guadeloupe',BB:'Barbados',AZ:'Azerbaijan',TZ:'Tanzania',LY:'Libya',MQ:'Martinique',CM:'Cameroon',BW:'Botswana',ET:'Ethiopia',KZ:'Kazakhstan',NA:'Namibia',MG:'Madagascar',NC:'New Caledonia',MD:'Moldova',FJ:'Fiji',BY:'Belarus',JE:'Jersey',GU:'Guam',YE:'Yemen',ZM:'Zambia',IM:'Isle Of Man',HT:'Haiti',KH:'Cambodia',AW:'Aruba',PF:'French Polynesia',AF:'Afghanistan',BM:'Bermuda',GY:'Guyana',AM:'Armenia',MW:'Malawi',AG:'Antigua',RW:'Rwanda',GG:'Guernsey',GM:'The Gambia',FO:'Faroe Islands',LC:'St. Lucia',KY:'Cayman Islands',BJ:'Benin',AD:'Andorra',GD:'Grenada',VI:'US Virgin Islands',BZ:'Belize',VC:'Saint Vincent and the Grenadines',MN:'Mongolia',MZ:'Mozambique',ML:'Mali',AO:'Angola',GF:'French Guiana',UZ:'Uzbekistan',DJ:'Djibouti',BF:'Burkina Faso',MC:'Monaco',TG:'Togo',GL:'Greenland',GA:'Gabon',GI:'Gibraltar',CD:'Democratic Republic of the Congo',KG:'Kyrgyzstan',PG:'Papua New Guinea',BT:'Bhutan',KN:'Saint Kitts and Nevis',SZ:'Swaziland',LS:'Lesotho',LA:'Laos',LI:'Liechtenstein',MP:'Northern Mariana Islands',SR:'Suriname',SC:'Seychelles',VG:'British Virgin Islands',TC:'Turks and Caicos Islands',DM:'Dominica',MR:'Mauritania',AX:'Aland Islands',SM:'San Marino',SL:'Sierra Leone',NE:'Niger',CG:'Republic of the Congo',AI:'Anguilla',YT:'Mayotte',CV:'Cape Verde',GN:'Guinea',TM:'Turkmenistan',BI:'Burundi',TJ:'Tajikistan',VU:'Vanuatu',SB:'Solomon Islands',ER:'Eritrea',WS:'Samoa',AS:'American Samoa',FK:'Falkland Islands',GQ:'Equatorial Guinea',TO:'Tonga',KM:'Comoros',PW:'Palau',FM:'Federated States of Micronesia',CF:'Central African Republic',SO:'Somalia',MH:'Marshall Islands',VA:'Vatican City',TD:'Chad',KI:'Kiribati',ST:'Sao Tome and Principe',TV:'Tuvalu',NR:'Nauru',RE:'R\u00e9union',LR:'Liberia',ZW:'Zimbabwe',CI:'C\u00f4te d\'Ivoire',MM:'Myanmar'};f.exports=h;}),null);
__d('TokenizerExampleSearchSource',['AbstractSearchSource','CountryCodeMap','SearchableEntry','filterObject','forEachObject'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;j.prototype.searchImpl=function(k,l,m){'use strict';var n=[];m=m||{};if(k){var o=k.toLowerCase(),p=c('filterObject')(c('CountryCodeMap'),function(r){return r.toLowerCase().startsWith(o);}),q=0;c('forEachObject')(p,function(r,s){return n.push(new (c('SearchableEntry'))({order:q++,photo:'/images/mobile/glyph/book_blue_s.png',subtitle:r,title:r,uniqueID:s}));});}l(n,k);};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d("TopicFeedsConstant",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={DEFAULT_PHOTO_AUTO_TAGGING_DELAY:3000,DEFAULT_PHOTO_POLLING_DURATION:10000,DEFAULT_PHOTO_POLLING_INTERVAL:1000,DEFAULT_TEXT_AUTO_TAGGING_DELAY:3000,DEFAULT_COMPOSER_TOPIC_LIMIT:3,TOPIC_CONFIDENCE_USER_ADD:3,TOPIC_CONFIDENCE_USER_REMOVE:-1,TOPIC_CONFIDENCE_BOOTSTRAP:2};f.exports=h;}),null);
__d('JobsActionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:JobsActionsLoggerConfig',this.$JobsActionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:JobsActionsLoggerConfig',this.$JobsActionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$JobsActionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$JobsActionsTypedLogger1=babelHelpers['extends']({},this.$JobsActionsTypedLogger1,j);return this;};h.prototype.setActionTarget=function(j){this.$JobsActionsTypedLogger1.action_target=j;return this;};h.prototype.setActionTime=function(j){this.$JobsActionsTypedLogger1.action_time=j;return this;};h.prototype.setActionType=function(j){this.$JobsActionsTypedLogger1.action_type=j;return this;};h.prototype.setApplicationID=function(j){this.$JobsActionsTypedLogger1.application_id=j;return this;};h.prototype.setEmployerID=function(j){this.$JobsActionsTypedLogger1.employer_id=j;return this;};h.prototype.setFilteredCategories=function(j){this.$JobsActionsTypedLogger1.filtered_categories=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setFilteredJobTypes=function(j){this.$JobsActionsTypedLogger1.filtered_job_types=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setJobCarouselIndex=function(j){this.$JobsActionsTypedLogger1.job_carousel_index=j;return this;};h.prototype.setJobID=function(j){this.$JobsActionsTypedLogger1.job_id=j;return this;};h.prototype.setJobMetadata=function(j){this.$JobsActionsTypedLogger1.job_metadata=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setJobTitleID=function(j){this.$JobsActionsTypedLogger1.job_title_id=j;return this;};h.prototype.setMechanism=function(j){this.$JobsActionsTypedLogger1.mechanism=j;return this;};h.prototype.setName=function(j){this.$JobsActionsTypedLogger1.name=j;return this;};h.prototype.setPaginationIndex=function(j){this.$JobsActionsTypedLogger1.pagination_index=j;return this;};h.prototype.setPostMetadata=function(j){this.$JobsActionsTypedLogger1.post_metadata=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setRefererMechanism=function(j){this.$JobsActionsTypedLogger1.referer_mechanism=j;return this;};h.prototype.setRefererSurface=function(j){this.$JobsActionsTypedLogger1.referer_surface=j;return this;};h.prototype.setSurface=function(j){this.$JobsActionsTypedLogger1.surface=j;return this;};h.prototype.setTargetID=function(j){this.$JobsActionsTypedLogger1.target_id=j;return this;};h.prototype.setVC=function(j){this.$JobsActionsTypedLogger1.vc=j;return this;};h.prototype.setWaterfallSessionID=function(j){this.$JobsActionsTypedLogger1.waterfall_session_id=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$JobsActionsTypedLogger1=babelHelpers['extends']({},this.$JobsActionsTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={action_target:true,action_time:true,action_type:true,application_id:true,employer_id:true,filtered_categories:true,filtered_job_types:true,job_carousel_index:true,job_id:true,job_metadata:true,job_title_id:true,mechanism:true,name:true,pagination_index:true,post_metadata:true,referer_mechanism:true,referer_surface:true,surface:true,target_id:true,vc:true,waterfall_session_id:true};f.exports=h;}),null);
__d('PhotoUploadFacerecWaterfallTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PhotoUploadFacerecWaterfallLoggerConfig',this.$PhotoUploadFacerecWaterfallTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PhotoUploadFacerecWaterfallLoggerConfig',this.$PhotoUploadFacerecWaterfallTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PhotoUploadFacerecWaterfallTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1=babelHelpers['extends']({},this.$PhotoUploadFacerecWaterfallTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.event=j;return this;};h.prototype.setFaceBoxID=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.face_box_id=j;return this;};h.prototype.setPhotoFbid=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.photo_fbid=j;return this;};h.prototype.setRecognizedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.recognized_user=j;return this;};h.prototype.setTaggedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.tagged_user=j;return this;};h.prototype.setVC=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.vc=j;return this;};var i={event:true,face_box_id:true,photo_fbid:true,recognized_user:true,tagged_user:true,vc:true};f.exports=h;}),null);
__d('TopicFeedsComposerTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:TopicFeedsComposerLoggerConfig',this.$TopicFeedsComposerTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:TopicFeedsComposerLoggerConfig',this.$TopicFeedsComposerTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$TopicFeedsComposerTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$TopicFeedsComposerTypedLogger1=babelHelpers['extends']({},this.$TopicFeedsComposerTypedLogger1,j);return this;};h.prototype.setClassifySessionID=function(j){this.$TopicFeedsComposerTypedLogger1.classify_session_id=j;return this;};h.prototype.setClientEventTimeMs=function(j){this.$TopicFeedsComposerTypedLogger1.client_event_time_ms=j;return this;};h.prototype.setComposerFeedID=function(j){this.$TopicFeedsComposerTypedLogger1.composer_feed_id=j;return this;};h.prototype.setComposerID=function(j){this.$TopicFeedsComposerTypedLogger1.composer_id=j;return this;};h.prototype.setEntryPointRef=function(j){this.$TopicFeedsComposerTypedLogger1.entry_point_ref=j;return this;};h.prototype.setEvent=function(j){this.$TopicFeedsComposerTypedLogger1.event=j;return this;};h.prototype.setIsPredictionApplied=function(j){this.$TopicFeedsComposerTypedLogger1.is_prediction_applied=j;return this;};h.prototype.setLinkAttachmentCount=function(j){this.$TopicFeedsComposerTypedLogger1.link_attachment_count=j;return this;};h.prototype.setPhotoAttachmentCount=function(j){this.$TopicFeedsComposerTypedLogger1.photo_attachment_count=j;return this;};h.prototype.setPhotoUploadToPostDuration=function(j){this.$TopicFeedsComposerTypedLogger1.photo_upload_to_post_duration=j;return this;};h.prototype.setPredictionCount=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_count=j;return this;};h.prototype.setPredictionDuration=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_duration=j;return this;};h.prototype.setPredictionErrorReason=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_error_reason=j;return this;};h.prototype.setPredictionIsSuccessful=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_is_successful=j;return this;};h.prototype.setSequenceNumber=function(j){this.$TopicFeedsComposerTypedLogger1.sequence_number=j;return this;};h.prototype.setTargetType=function(j){this.$TopicFeedsComposerTypedLogger1.target_type=j;return this;};h.prototype.setTopicAdded=function(j){this.$TopicFeedsComposerTypedLogger1.topic_added=j;return this;};h.prototype.setTopicRemoved=function(j){this.$TopicFeedsComposerTypedLogger1.topic_removed=j;return this;};h.prototype.setTopicsAutoTagged=function(j){this.$TopicFeedsComposerTypedLogger1.topics_auto_tagged=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setTopicsTagged=function(j){this.$TopicFeedsComposerTypedLogger1.topics_tagged=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setTopicsUserAdded=function(j){this.$TopicFeedsComposerTypedLogger1.topics_user_added=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setTopicsUserRemoved=function(j){this.$TopicFeedsComposerTypedLogger1.topics_user_removed=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setVC=function(j){this.$TopicFeedsComposerTypedLogger1.vc=j;return this;};var i={classify_session_id:true,client_event_time_ms:true,composer_feed_id:true,composer_id:true,entry_point_ref:true,event:true,is_prediction_applied:true,link_attachment_count:true,photo_attachment_count:true,photo_upload_to_post_duration:true,prediction_count:true,prediction_duration:true,prediction_error_reason:true,prediction_is_successful:true,sequence_number:true,target_type:true,topic_added:true,topic_removed:true,topics_auto_tagged:true,topics_tagged:true,topics_user_added:true,topics_user_removed:true,vc:true};f.exports=h;}),null);
__d('ReactComposerBoostedPostLazyButton.react',['Bootloader','React','ReactDOM'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.componentDidMount=function(){'use strict';c('Bootloader').loadModules(["BoostedPostDialogButton.react"],function(k){c('ReactDOM').render(c('React').createElement(k,this.props),c('ReactDOM').findDOMNode(this.refs.boostButtonContainer));}.bind(this),'ReactComposerBoostedPostLazyButton.react');};j.prototype.render=function(){'use strict';return (c('React').createElement('span',{ref:'boostButtonContainer'}));};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('ReactComposerPagesBootloader',['Bootloader'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={statusAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerStatusAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},mediaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerMediaAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},qandaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerQAndAAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},questionAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerQuestionAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},extraAttachment:function i(j){c('Bootloader').loadModules(["PagesComposerExtraAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');},ctaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react","PagesComposerPostButton.react"],j,'ReactComposerPagesBootloader');}};f.exports=h;}),null);
__d('ReactComposerPlaceListActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({CLEAR_WITHIN_PAGE:null,UPDATE_WITHIN_PAGE:null},'ReactComposerPlaceListActionType');}),null);
__d('ReactComposerPlaceListStore.react',['ReactComposerActionStore','ReactComposerPostUtils','ReactComposerPlaceListActionType'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerActionStore'));i=h&&h.prototype;function j(){'use strict';var k=void 0;i.constructor.call(this,function(){return {pageID:null,photoSrc:null};},function(l){switch(l.type){case c('ReactComposerPlaceListActionType').CLEAR_WITHIN_PAGE:k&&k.$ReactComposerPlaceListStore1(l);break;case c('ReactComposerPlaceListActionType').UPDATE_WITHIN_PAGE:k&&k.$ReactComposerPlaceListStore2(l);break;}});k=this;}j.prototype.getPageID=function(k){'use strict';return this.getComposerData(k).pageID;};j.prototype.getPhotoSrc=function(k){'use strict';return this.getComposerData(k).photoSrc;};j.prototype.$ReactComposerPlaceListStore1=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);m.pageID=null;m.photoSrc=null;this.emitChange(l);};j.prototype.$ReactComposerPlaceListStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','pageID','photoSrc']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.pageID=n;p.photoSrc=o;this.emitChange(m);};j.prototype.__onPostStarted=function(k){'use strict';var l=this.validateAction(k,'composerID');c('ReactComposerPostUtils').post({actorID:k.actorID,composerConfig:k.config,composerID:l,targetID:k.targetID});};f.exports=new j();}),null);
__d('ReactComposerAsyncRequest',['ReactComposerActions','ReactComposerPostUtilsCore','AsyncRequest'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AsyncRequest'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this,l);this.$ReactComposerAsyncRequest1=k;i.setHandler.call(this,this.$ReactComposerAsyncRequest4.bind(this));i.setErrorHandler.call(this,this.$ReactComposerAsyncRequest5.bind(this));i.setFinallyHandler.call(this,this.$ReactComposerAsyncRequest6.bind(this));}j.prototype.setHandler=function(k){'use strict';this.$ReactComposerAsyncRequest2=k;return this;};j.prototype.setErrorHandler=function(k){'use strict';this.$ReactComposerAsyncRequest3=k;return this;};j.prototype.$ReactComposerAsyncRequest4=function(k){'use strict';setTimeout(function(){var l=k.payload&&k.payload.isPostPending;if(!l)c('ReactComposerPostUtilsCore').handlePostSucceeded(this.$ReactComposerAsyncRequest1);this.$ReactComposerAsyncRequest2&&this.$ReactComposerAsyncRequest2(k);}.bind(this),0);};j.prototype.$ReactComposerAsyncRequest5=function(k){'use strict';setTimeout(function(){c('ReactComposerActions').postError(this.$ReactComposerAsyncRequest1,k);this.$ReactComposerAsyncRequest3&&this.$ReactComposerAsyncRequest3(k);}.bind(this),0);};j.prototype.$ReactComposerAsyncRequest6=function(k){'use strict';setTimeout(function(){return c('ReactComposerActions').postFinally(this.$ReactComposerAsyncRequest1,k);}.bind(this),0);};f.exports=j;}),null);
__d('ReactComposerCTAActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({ADD_OPTION:null,SET_CTA_CONFIG:null,HAS_PHOTO:null,NEEDS_PHOTO:null},'ReactComposerCTAActionType');}),null);
__d('ReactComposerCTAStore',['ReactComposerCTAActionType','ReactComposerEvents','ReactComposerStoreBase','DOM'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {ctaType:'',ctaURI:'',hasPhoto:c('ReactComposerCTAActionType').NEEDS_PHOTO};},function(l){switch(l.type){case c('ReactComposerCTAActionType').SET_CTA_CONFIG:k&&k.$ReactComposerCTAStore1(l);break;case c('ReactComposerCTAActionType').HAS_PHOTO:k&&k.$ReactComposerCTAStore2(l);break;case c('ReactComposerCTAActionType').NEEDS_PHOTO:k&&k.$ReactComposerCTAStore3(l);break;default:break;}});k=this;}j.prototype.$ReactComposerCTAStore2=function(k){'use strict';var l=this.getComposerData(k.composerID);l.hasPhoto=c('ReactComposerCTAActionType').HAS_PHOTO;this.emitChange(k.composerID);};j.prototype.$ReactComposerCTAStore3=function(k){'use strict';var l=this.getComposerData(k.composerID);l.hasPhoto=c('ReactComposerCTAActionType').NEEDS_PHOTO;this.emitChange(k.composerID);};j.prototype.removeListeners=function(){'use strict';this.removeAllListeners(c('ReactComposerEvents').CHANGE);};j.prototype.hasCTAPhoto=function(k){'use strict';return this.getComposerData(k).hasPhoto===c('ReactComposerCTAActionType').HAS_PHOTO;};j.prototype.getCTAType=function(k){'use strict';return this.getComposerData(k).ctaType;};j.prototype.getCTAURI=function(k){'use strict';return this.getComposerData(k).ctaURI;};j.prototype.getCTAData=function(k){'use strict';return {type:this.getComposerData(k).ctaType,value:{link:this.getComposerData(k).ctaURI,is_cta_share_post:true}};};j.prototype.getCTAMarkup=function(k){'use strict';return this.getComposerData(k).ctaMarkup;};j.prototype.getAttachmentConfig=function(k){'use strict';var l=this.getComposerData(k);if(!l.ctaMarkup)return null;var m=l.ctaMarkup,n=l.ctaAttachmentConfig,o=c('DOM').scry(m,'input[name="attachment[params][images][0]"]').pop(),p=c('DOM').scry(m,'input[name="attachment[params][title]"]').pop(),q=c('DOM').scry(m,'input[name="attachment[params][summary]"]').pop();if(o){if(!n.params.images)n.params.images=[];n.params.images[0]=o.value;}if(p)n.params.title=p.value;if(q)n.params.summary=q.value;return n;};j.prototype.$ReactComposerCTAStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','config']),m=l[0],n=l[1],o=this.getComposerData(m);o.ctaType=n.ctaType;o.ctaURI=n.ctaURI;o.ctaMarkup=n.markup;o.ctaAttachmentConfig=n.attachmentConfig;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerCTAAttachmentUtils',['ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerCTAStore'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={isCTAAttachmentSelected:function i(j){return (c('ReactComposerAttachmentStore').getIsAttachmentSelected(j,c('ReactComposerAttachmentType').CTA)||c('ReactComposerAttachmentStore').getIsAttachmentSelected(j,c('ReactComposerAttachmentType').CALL)||c('ReactComposerAttachmentStore').getIsAttachmentSelected(j,c('ReactComposerAttachmentType').MESSAGE)||c('ReactComposerAttachmentStore').getIsAttachmentSelected(j,c('ReactComposerAttachmentType').GET_DIRECTIONS));},isPageButtonDisabled:function i(j){return (this.isCTAAttachmentSelected(j)&&!c('ReactComposerCTAStore').hasCTAPhoto(j));}};f.exports=h;}),null);
__d('ReactComposerFileActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({RESET:null,SAVE_DROPBOX_FILE:null,SAVE_FILE:null,SET_FILE_CONFIG:null},'ReactComposerFileActionType');}),null);
__d('ReactComposerFileStore',['fbt','ReactComposerFileActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('ReactComposerStoreBase'));j=i&&i.prototype;function k(){'use strict';var l;j.constructor.call(this,function(){return {dialogAppURL:null,dropboxActionEndpoint:null,dropboxAppID:null,dropboxEnabled:null,dropboxFileID:null,file:null,maxFileUploadString:null,selectedDropboxFileName:l&&l.$ReactComposerFileStore1(),selectedFileName:l&&l.$ReactComposerFileStore1()};},function(m){switch(m.type){case c('ReactComposerFileActionType').RESET:l&&l.$ReactComposerFileStore2(m);break;case c('ReactComposerFileActionType').SAVE_DROPBOX_FILE:l&&l.$ReactComposerFileStore3(m);break;case c('ReactComposerFileActionType').SAVE_FILE:l&&l.$ReactComposerFileStore4(m);break;case c('ReactComposerFileActionType').SET_FILE_CONFIG:l&&l.$ReactComposerFileStore5(m);break;}});l=this;}k.prototype.getDialogAppURL=function(l){'use strict';return this.getComposerData(l).dialogAppURL;};k.prototype.getDropboxActionEndpoint=function(l){'use strict';return this.getComposerData(l).dropboxActionEndpoint;};k.prototype.getDropboxAppID=function(l){'use strict';return this.getComposerData(l).dropboxAppID;};k.prototype.getDropboxEnabled=function(l){'use strict';return this.getComposerData(l).dropboxEnabled;};k.prototype.getDropboxFileID=function(l){'use strict';return this.getComposerData(l).dropboxFileID;};k.prototype.getFile=function(l){'use strict';return this.getComposerData(l).file;};k.prototype.getMaxFileUploadSize=function(l){'use strict';return this.getComposerData(l).maxFileUploadSize;};k.prototype.getMaxFileUploadString=function(l){'use strict';return this.getComposerData(l).maxFileUploadString;};k.prototype.getSelectedDropboxFileName=function(l){'use strict';return this.getComposerData(l).selectedDropboxFileName;};k.prototype.getSelectedFileName=function(l){'use strict';return this.getComposerData(l).selectedFileName;};k.prototype.getURI=function(l){'use strict';return this.hasFile(l)?'/ajax/groups/files/upload':'/ajax/groups/files/dropbox_publish';};k.prototype.hasDropboxFile=function(l){'use strict';return !!this.getComposerData(l).dropboxFileID;};k.prototype.hasFile=function(l){'use strict';return !!this.getComposerData(l).file;};k.prototype.isFileSelected=function(l){'use strict';var m=this.getComposerData(l);return !!m.file||!!m.dropboxFileID;};k.prototype.$ReactComposerFileStore1=function(){'use strict';return h._("No file chosen");};k.prototype.$ReactComposerFileStore2=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.file=n.dropboxFileID=null;n.selectedFileName=n.selectedDropboxFileName=this.$ReactComposerFileStore1();this.emitChange(l.composerID);};k.prototype.$ReactComposerFileStore3=function(l){'use strict';var m=this.validateAction(l,['composerID','id','name']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.dropboxFileID=o;q.selectedDropboxFileName=p;this.emitChange(n);};k.prototype.$ReactComposerFileStore4=function(l){'use strict';var m=this.validateAction(l,['composerID','file','name']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.file=o;q.selectedFileName=p;this.emitChange(l.composerID);};k.prototype.$ReactComposerFileStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','config']),n=m[0],o=m[1],p=this.getComposerData(n);p.dialogAppURL=o.dialogAppURL;p.dropboxActionEndpoint=o.dropboxActionEndpoint;p.dropboxAppID=o.dropboxAppID;p.dropboxEnabled=o.dropboxEnabled;p.maxFileUploadSize=o.maxFileUploadSize;p.maxFileUploadString=o.maxFileUploadString;this.emitChange(l.composerID);};f.exports=new k();}),null);
__d('ReactComposerMarkdownActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({ENABLE_MARKDOWN:null,HIDE_INTERCEPT:null,SHOW_INTERCEPT:null},'ReactComposerMarkdownActionType');}),null);
__d('ReactComposerMarkdownStore',['ReactComposerMarkdownActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){var k;i.constructor.call(this,function(){return {showIntercept:false,markdownEnabled:false};},function(l){switch(l.type){case c('ReactComposerMarkdownActionType').SHOW_INTERCEPT:k&&k.$ReactComposerMarkdownStore1(l);break;case c('ReactComposerMarkdownActionType').HIDE_INTERCEPT:k&&k.$ReactComposerMarkdownStore2(l);break;case c('ReactComposerMarkdownActionType').ENABLE_MARKDOWN:k&&k.$ReactComposerMarkdownStore3(l);break;}});k=this;}j.prototype.showIntercept=function(k){return this.getComposerData(k).showIntercept;};j.prototype.isMarkdownEnabled=function(k){return this.getComposerData(k).markdownEnabled;};j.prototype.$ReactComposerMarkdownStore1=function(k){var l=this.validateAction(k,['composerID']),m=this.getComposerData(l);m.showIntercept=true;this.emitChange(l);};j.prototype.$ReactComposerMarkdownStore2=function(k){var l=this.validateAction(k,['composerID']),m=this.getComposerData(l);m.showIntercept=false;this.emitChange(l);};j.prototype.$ReactComposerMarkdownStore3=function(k){var l=this.validateAction(k,['composerID']),m=this.getComposerData(l);m.markdownEnabled=true;this.emitChange(l);};f.exports=new j();}),null);
__d('ReactComposerAudienceActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_AUDIENCE:null,SET_AUDIENCE_ELEMENT:null,SET_AUDIENCE_INSTANCE:null,SET_PRIVACYX_NULL_DANGEROUS:null},'ReactComposerAudienceActionTypes');}),null);
__d('ReactComposerAudienceStore',['csx','invariant','ReactComposerActionStore','ReactComposerAudienceActionTypes','$','DOM'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('ReactComposerActionStore'));k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {audience:null,audienceElement:null,audienceInstance:null,legacyAudience:null,privacyxNullDangerous:false};},function(n){switch(n.type){case c('ReactComposerAudienceActionTypes').SET_AUDIENCE:m&&m.$ReactComposerAudienceStore1(n);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE_ELEMENT:m&&m.$ReactComposerAudienceStore2(n);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE_INSTANCE:m&&m.$ReactComposerAudienceStore3(n);break;case c('ReactComposerAudienceActionTypes').SET_PRIVACYX_NULL_DANGEROUS:m&&m.$ReactComposerAudienceStore4(n);break;}});m=this;}l.prototype.getAudience=function(m){'use strict';if(this.getPrivacyxNullDangerous(m))return null;try{var o=c('DOM').scry(c('$')(m),"._5dd8");!(o.length<2)?i(0):void 0;var p=o[0];if(p){var q=c('DOM').scry(p,'input[name="privacyx"]');!(q.length<2)?i(0):void 0;if(q.length===1)return q[0].value;}}catch(n){}return this.getComposerData(m).audience;};l.prototype.getLegacyAudience=function(m){'use strict';return this.getComposerData(m).legacyAudience;};l.prototype.getAudienceElement=function(m){'use strict';return this.getComposerData(m).audienceElement;};l.prototype.getAudienceInstance=function(m){'use strict';return this.getComposerData(m).audienceInstance;};l.prototype.getPrivacyxNullDangerous=function(m){'use strict';return this.getComposerData(m).privacyxNullDangerous;};l.prototype.$ReactComposerAudienceStore1=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.audience=m.audience;o.legacyAudience=m.legacyAudience;this.emitChange(n);};l.prototype.$ReactComposerAudienceStore2=function(m){'use strict';var n=this.validateAction(m,['composerID','audienceElement']),o=n[0],p=n[1],q=this.getComposerData(o);q.audienceElement=p;this.emitChange(o);};l.prototype.$ReactComposerAudienceStore3=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.audienceInstance=m.audienceInstance;this.emitChange(n);};l.prototype.$ReactComposerAudienceStore4=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.privacyxNullDangerous=m.privacyxNullDangerous;this.emitChange(n);};f.exports=new l();}),null);
__d('ReactComposerCustomConfigActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_IS_FEED_ONLY_POST:null},'ReactComposerCustomConfigActionType');}),null);
__d('ReactComposerCustomConfigStore',['ReactComposerStoreBase','ReactComposerCustomConfigActionType'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isFeedOnlyPost:false};},function(l){switch(l.type){case c('ReactComposerCustomConfigActionType').SET_IS_FEED_ONLY_POST:k&&k.$ReactComposerCustomConfigStore1(l);break;}});k=this;}j.prototype.isFeedOnlyPost=function(k){'use strict';return this.getComposerData(k).isFeedOnlyPost;};j.prototype.$ReactComposerCustomConfigStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','isFeedOnlyPost']),m=l[0],n=l[1],o=this.getComposerData(m);o.isFeedOnlyPost=n;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerLocationAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_MINUTIAE_ACTION_CONTEXT:null,SET_LOCATION_MARKUP:null},'ReactComposerLocationAttachmentActionType');}),null);
__d("XReactComposerLocationAttachmentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/location\/attachment\/",{composer_id:{type:"String",required:true},location_id:{type:"String",required:true},target_id:{type:"String",required:true}});}),null);
__d('ReactComposerLocationAttachmentStore',['ReactComposerAttachmentActionType','ReactComposerAttachmentType','ReactComposerLocationAttachmentActionType','ReactComposerStoreBase','XReactComposerLocationAttachmentController','AsyncRequest'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isEnabled:false,isFetching:false,markup:null,pendingRequest:null,minutiaeTaggedPlace:null,isTimeline:false};},function(l){switch(l.type){case c('ReactComposerLocationAttachmentActionType').LOCATION_ATTACHMENT_ENABLED:k&&k.$ReactComposerLocationAttachmentStore1(l);break;case c('ReactComposerLocationAttachmentActionType').FETCH_LOCATION_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore2(l);break;case c('ReactComposerLocationAttachmentActionType').SET_MINUTIAE_ACTION_CONTEXT:k&&k.$ReactComposerLocationAttachmentStore3(l);break;case c('ReactComposerLocationAttachmentActionType').SET_LOCATION_MARKUP:k&&k.$ReactComposerLocationAttachmentStore4(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerLocationAttachmentStore5(l);break;}});k=this;}j.prototype.isEnabled=function(k){'use strict';return this.getComposerData(k).isEnabled;};j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup;};j.prototype.getMinutiaeTaggedPlace=function(k){'use strict';return this.getComposerData(k).minutiaeTaggedPlace;};j.prototype.getIsTimeline=function(k){'use strict';return this.getComposerData(k).isTimeline;};j.prototype.isFetching=function(k){'use strict';return this.getComposerData(k).isFetching;};j.prototype.$ReactComposerLocationAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n;};j.prototype.$ReactComposerLocationAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','locationID','targetID']),m=l[0],n=l[1],o=l[2];if(!this.isEnabled(m))return;var p=this.getComposerData(m);p.isFetching=true;var q=c('XReactComposerLocationAttachmentController').getURIBuilder().setString('composer_id',m).setString('location_id',n).setString('target_id',o).getURI();p.pendingRequest=new (c('AsyncRequest'))(q).setFinallyHandler(function(){p.isFetching=false;p.pendingRequest=null;this.emitChange(m);}.bind(this));p.pendingRequest.send();this.emitChange(m);};j.prototype.$ReactComposerLocationAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','objectID','isTimeline']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.minutiaeTaggedPlace=n;p.isTimeline=o;this.emitChange(m);};j.prototype.$ReactComposerLocationAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','markup']),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;this.emitChange(m);};j.prototype.$ReactComposerLocationAttachmentStore5=function(k){'use strict';var l=this.validateAction(k,['composerID','id']),m=l[0],n=l[1];if(n===c('ReactComposerAttachmentType').STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerPerfLogger',['ComposerType','ComposerXSessionIDs','MarauderLogger'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={},i=c('ComposerType').STATUS,j={logEvent:function k(l,m){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],o=h[m],p=c('ComposerXSessionIDs').getSessionID(m);if(!o||!p)return;if(n.logOncePerSession){if(!o.loggedEventTypes[p])o.loggedEventTypes[p]={};if(o.loggedEventTypes[p][l])return;o.loggedEventTypes[p][l]=true;}var q=babelHelpers['extends']({},n.extraData,{composer_type:i,target_type:o.targetType,target_id:o.targetID,ref:o.entryPointRef});c('MarauderLogger').log(l,'composer',q,undefined,undefined,p);},registerComposer:function k(l,m,n,o){h[l.id]={targetID:o,targetType:m,entryPointRef:n,loggedEventTypes:{}};},getInstance:function k(l){return h[l];}};f.exports=j;}),null);
__d("XReactComposerScrapedAttachmentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/scraper\/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},scrape_url:{type:"String",required:true},carousel_params:{type:"String"},entry_point:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""},source_logging_name:{type:"Enum",defaultValue:"others",enumType:1}});}),null);
__d("XReactComposerShareAttachmentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/share_attachment\/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},share_type:{type:"Int",required:true},share_params:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""}});}),null);
__d('ReactComposerScrapedAttachmentStore',['ActorURI','CallToActionLinkFormats','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerScrapedAttachmentActionType','ReactComposerStoreBase','XReactComposerScrapedAttachmentController','XReactComposerShareAttachmentController','AsyncRequest','PagesComposerCarouselPostChildAttachmentAttributes','PagesComposerCarouselPostLogAttributes','DOM'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {markup:null,attachmentConfig:{},enabled:false,isScraping:false,permissiveMatch:null,sourceAttachment:null};},function(l){switch(l.type){case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_ENABLED:k&&k.$ReactComposerScrapedAttachmentStore1(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_PERMISSIVE_MATCH_SETTED:k&&k.$ReactComposerScrapedAttachmentStore2(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_INTENDED:k&&k.$ReactComposerScrapedAttachmentStore3(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SHARE_SELECTED:k&&k.$ReactComposerScrapedAttachmentStore4(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:k&&k.$ReactComposerScrapedAttachmentStore5(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerScrapedAttachmentStore6(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_CAROUSEL_UPLOAD:k&&k.$ReactComposerScrapedAttachmentStore7(l);}});k=this;}j.prototype.isEnabled=function(k){'use strict';return this.getComposerData(k).isEnabled;};j.prototype.hasAttachment=function(k){'use strict';return !!this.getMarkup(k);};j.prototype.isScraping=function(k){'use strict';return this.getComposerData(k).isScraping;};j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup;};j.prototype.isReadOnly=function(k){'use strict';var l=this.getComposerData(k);return l.attachmentConfig&&l.attachmentConfig.readOnly;};j.prototype.getAttachmentConfig=function(k){'use strict';var l=this.getComposerData(k);if(!l.markup)return null;if(!l.attachmentConfig.readOnly){var m=c('DOM').scry(l.markup,'input[name="attachment[params][images][0]"]').pop(),n=c('DOM').scry(l.markup,'input[name="attachment[params][title]"]').pop(),o=c('DOM').scry(l.markup,'input[name="attachment[params][summary]"]').pop();if(m!=null){if(l.attachmentConfig.params.images===undefined)l.attachmentConfig.params.images=[];l.attachmentConfig.params.images[0]=m.value;}if(n!=null)l.attachmentConfig.params.title=n.value;if(o!=null)l.attachmentConfig.params.summary=o.value;var p=c('DOM').scry(l.markup,'input[name="attachment[carousel_log]['+c('PagesComposerCarouselPostLogAttributes').USE_CAROUSEL_COMPOSER+']"]').pop();if(p!=null&&p.value==='1'){this.$ReactComposerScrapedAttachmentStore8(l);this.$ReactComposerScrapedAttachmentStore9(l);}this.$ReactComposerScrapedAttachmentStore10(l);}return l.attachmentConfig;};j.prototype.$ReactComposerScrapedAttachmentStore10=function(k){'use strict';var l={},m=Object.keys(c('PagesComposerCarouselPostLogAttributes'));for(var n=0;n<m.length;n++){var o=c('PagesComposerCarouselPostLogAttributes')[m[n]],p=c('DOM').scry(k.markup,'input[name="attachment[carousel_log]['+o+']"]').pop();if(!p)continue;l[o]=p.value;}if(Object.keys(l).length!==0)k.attachmentConfig.carousel_log=l;};j.prototype.$ReactComposerScrapedAttachmentStore8=function(k){'use strict';k.attachmentConfig.params.child_attachments={};var l=Object.keys(c('PagesComposerCarouselPostChildAttachmentAttributes')),m=0,n={};while(true){var o=false,p=0;n={};for(p=0;p<l.length;p++){var q=c('DOM').scry(k.markup,'input[name="attachment[params][child_attachments]['+m+']['+c('PagesComposerCarouselPostChildAttachmentAttributes')[l[p]]+']"]').pop();if(q==null)continue;n[c('PagesComposerCarouselPostChildAttachmentAttributes')[l[p]]]=q.value;o=true;}if(!o)break;k.attachmentConfig.params.child_attachments[m]=n;m++;}};j.prototype.$ReactComposerScrapedAttachmentStore9=function(k){'use strict';var l=k.attachmentConfig.params.child_attachments;if(!l)return;var m=null,n=0;for(var o in l)if(l.hasOwnProperty(o))if(l[o].selected==='1'){n+=1;if(n>1)return;if(l[o].video_id)m=l[o];}if(m){k.attachmentConfig.params.carousel_video_lpp={};Object.assign(k.attachmentConfig.params.carousel_video_lpp,{video_id:m.video_id,publish:true,link_title:m.name,link_description:m.description,cta_type:m.cta_type?m.cta_type:'NO_BUTTON',cta_link:m.link,cta_link_format:c('CallToActionLinkFormats').VIDEO_LPP});}};j.prototype.getPermissiveMatch=function(k){'use strict';return this.getComposerData(k).permissiveMatch;};j.prototype.$ReactComposerScrapedAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n;};j.prototype.$ReactComposerScrapedAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','permissiveMatch']),m=l[0],n=l[1],o=this.getComposerData(m);o.permissiveMatch=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','value','entryPoint','actorID','sourceLoggingName']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5];if(!this.isEnabled(m))return;var s=this.getComposerData(k.composerID);s.isScraping=true;var t=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),u=c('XReactComposerScrapedAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setString('scrape_url',o).setString('entry_point',p).setString('source_attachment',t).setEnum('source_logging_name',r).getURI();u=c('ActorURI').create(u,q);new (c('AsyncRequest'))(u).send();this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore5=function(k){'use strict';if(!this.isEnabled(k.composerID))return;var l=this.getComposerData(k.composerID);l.markup=k.markup;l.attachmentConfig=k.attachmentConfig;l.isScraping=false;l.sourceAttachment=c('ReactComposerAttachmentStore').getSelectedAttachmentID(k.composerID);this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore6=function(k){'use strict';var l=this.getComposerData(k.composerID);if(k.id===l.sourceAttachment)return;l.markup=null;l.attachmentConfig={};l.isScraping=false;l.sourceAttachment=null;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore7=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','scrapeUrl','carouselParams','entryPoint','actorID']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5],s=this.getComposerData(k.composerID);s.isScraping=true;var t=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),u=c('XReactComposerScrapedAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setString('scrape_url',o).setString('carousel_params',p).setString('entry_point',q).setString('source_attachment',t).getURI();u=c('ActorURI').create(u,r);new (c('AsyncRequest'))(u).send();this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','actorID','shareType','shareParams']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4];if(!this.isEnabled(m))return;var r=this.getComposerData(m);r.isScraping=true;var s=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),t=c('XReactComposerShareAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setInt('share_type',p).setString('share_params',JSON.stringify(q)).setString('source_attachment',s).getURI();t=c('ActorURI').create(t,o);new (c('AsyncRequest'))(t).send();this.emitChange(m);};f.exports=new j();}),null);
__d('SlideshowImageUtil',['invariant','SlideshowConstants','immutable'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('SlideshowConstants').formats,j='-',k=24,l=1.3,m=10,n=460,o=32,p=.8,q='x',r=1.778,s=1,t=.667,u={shouldCropImages:function v(w){var x=w[0].width,y=w[0].height;for(var z=w,aa=Array.isArray(z),ba=0,z=aa?z:z[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ca;if(aa){if(ba>=z.length)break;ca=z[ba++];}else{ba=z.next();if(ba.done)break;ca=ba.value;}var da=ca;if(da.width!==x||da.height!==y)return true;}return false;},getCrops:function v(w,x,y){var z,aa=this.calculateDefaultCoordinates(w,y);return z={},z[x]=aa,z;},calculateCropsForFormat:function v(w,x,y){if(!w.length)return new (c('immutable').Map)();var z=new (c('immutable').Map)();switch(x){case i.Original:var aa=w[0],ba=y.get(aa.key),ca=ba.height,da=ba.width;w.forEach(function(ea){z=z.set(ea.key,this.getCrops(y.get(ea.key),da+q+ca,da/ca));}.bind(this));break;case i.Wide:w.forEach(function(ea){z=z.set(ea.key,this.getCrops(y.get(ea.key),x,r));}.bind(this));break;case i.Square:w.forEach(function(ea){z=z.set(ea.key,this.getCrops(y.get(ea.key),x,s));}.bind(this));break;case i.Vertical:w.forEach(function(ea){z=z.set(ea.key,this.getCrops(y.get(ea.key),x,t));}.bind(this));break;default:}return z;},calculateDefaultCoordinates:function v(w,x){var y=void 0,z=void 0;if(w.width/x>w.height){y=w.height;z=w.height*x;}else{z=w.width;y=w.width/x;}var aa=(w.width-z)/2,ba=(w.height-y)/2,ca=Math.floor(aa)-aa,da=Math.floor(ba)-ba;return [[aa+ca,ba+da],[Math.round(aa+z+ca),Math.round(ba+y+da)]];},getPreviewBoxDimensions:function v(w,x,y){var z=x,aa=x;if(w.length>0){var ba=w[0],ca=Object.keys(ba)[0];switch(ca){case c('SlideshowConstants').formats.Wide:z=x/y;break;case c('SlideshowConstants').formats.Square:break;default:var da=ca.split(q),ea=Number(da[0]),fa=Number(da[1]);if(ea>fa){z=Math.floor(aa*fa/ea);}else aa=Math.floor(z*ea/fa);break;}}return {width:aa,height:z};},getFullSizeImageBoxCroppingSpec:function v(w,x){var y=x.width/x.height,z=this.calculateDefaultCoordinates(w,y);!(z.length===2)?h(0):void 0;return {format:c('SlideshowConstants').formats.Original,topLeft:z[0],bottomRight:z[1]};},getDefaultCroppingSpec:function v(w){var x=this.calculateDefaultCoordinates(w,1);!(x.length===2)?h(0):void 0;return {format:c('SlideshowConstants').formats.Square,topLeft:x[0],bottomRight:x[1]};},getHorizontalAlignmentForAPI:function v(w){var x=w.split(j);return x[1];},getFontSize:function v(w){return Math.floor(k*w);},getFontWeight:function v(w){return w?'bold':'normal';},getLineHeight:function v(){return l;},getOpacity:function v(){return p;},getTextoverlayMaxEdge:function v(w,x){return w-o*x*2-m*x*2;},getTextoverlayPadding:function v(w){return m*w;},getTextoverlayMargin:function v(w){return o*w;},getScaleMultiplierFromCrops:function v(w){var x=Object.keys(w)[0],y=x.split(q),z=Number(y[0]),aa=Number(y[1]);return u.getScaleMultiplier(z,aa);},getScaleMultiplier:function v(w,x){return Math.max(w/n,x/n);},getOuterTextboxCoordinatesForAPI:function v(w,x,y){var z=Object.keys(w)[0],aa=z.split(q),ba=Number(aa[0]),ca=Number(aa[1]),da=u.calculateTextboxCoordinates(ca,ba,x,y);return [Math.floor(da.marginLeft),Math.floor(ca-da.marginTop-da.textHeight),Math.ceil(da.marginLeft+da.textWidth),Math.ceil(ca-da.marginTop)];},getInnerTextboxCoordinatesForAPI:function v(w,x,y){var z=Object.keys(w)[0],aa=z.split(q),ba=Number(aa[0]),ca=Number(aa[1]),da=u.calculateTextboxCoordinates(ca,ba,x,y),ea=u.getTextoverlayPadding(y)-4,fa={marginLeft:da.marginLeft+ea,marginTop:da.marginTop,textHeight:da.textHeight,textWidth:da.textWidth-2*ea};return [Math.floor(fa.marginLeft),Math.floor(ca-fa.marginTop-fa.textHeight),Math.ceil(fa.marginLeft+fa.textWidth),Math.ceil(ca-fa.marginTop)];},calculateTextboxCoordinates:function v(w,x,y,z){var aa=y.text_alignment.split(j),ba=aa[1],ca=aa[0],da=u.getFontSize(z),ea=u.getTextoverlayMaxEdge(x,z),fa=u.getTextoverlayMaxEdge(w,z),ga=document.createElement('div');ga.textContent=y.textoverlay_content?y.textoverlay_content:'';ga.style.visibility='hidden';ga.style.display='inline-block';ga.style.wordWrap='break-word';ga.style.whiteSpace='pre-wrap';ga.style.fontFamily=y.font;ga.style.fontWeight=u.getFontWeight(y.bold);ga.style.fontSize=da+'px';ga.style.textAlign=ba;ga.style.maxWidth=ea+'px';ga.style.maxHeight=fa+'px';ga.style.lineHeight=u.getLineHeight()*da+'px';ga.style.padding=u.getTextoverlayPadding(z)+'px';document.body.appendChild(ga);var ha=ga.clientWidth,ia=ga.clientHeight;document.body.removeChild(ga);var ja=o*z,ka=o*z,la=x-o*z,ma=w-o*z;if(ba=='center'){ja=Math.min((x-ha)/2,la);}else if(ba=='right')ja=Math.min(x-o*z-ha,la);if(ca=='center'){ka=Math.min((w-ia)/2,ma);}else if(ca=='bottom')ka=Math.min(w-o*z-ia,ma);return {marginLeft:ja,marginTop:ka,textHeight:ia,textWidth:ha};}};f.exports=u;}),null);
__d('ReactComposerSelectedImagesStore',['ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerPhotoStore','ReactComposerSlideshowActionType','ReactComposerStoreBase','SlideshowConstants','SlideshowImageUtil','immutable','mergeDeepInto'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=1.778,k='x',l=1,m=c('SlideshowConstants').formats,n=c('SlideshowConstants').max_photo_num;h=babelHelpers.inherits(o,c('ReactComposerStoreBase'));i=h&&h.prototype;o.prototype.$ReactComposerSelectedImagesStore1=function(p,q,r){var s;if(p.isLoading)return {};var t=c('SlideshowImageUtil').calculateDefaultCoordinates({width:p.width,height:p.height},r);return s={},s[q]=t,s;};o.prototype.$ReactComposerSelectedImagesStore2=function(p,q,r){var s=r;if(!s)s=this.getComposerData(p).format;return this.$ReactComposerSelectedImagesStore3(q,s);};o.prototype.$ReactComposerSelectedImagesStore3=function(p,q){if(!p.length)return [];switch(q){case m.Original:var r=p[0];return p.map(function(s){return this.$ReactComposerSelectedImagesStore1(s,r.width+k+r.height,r.width/r.height);}.bind(this));case m.Wide:return p.map(function(s){return this.$ReactComposerSelectedImagesStore1(s,q,j);}.bind(this));case m.Square:return p.map(function(s){return this.$ReactComposerSelectedImagesStore1(s,q,l);}.bind(this));default:return [];}};function o(){var p=void 0;i.constructor.call(this,function(){return {selectedImages:[],imagesCrops:[],editState:null,format:c('SlideshowConstants').formats.Original,removedUploadIDs:[],addedUploadIDs:[]};},function(q){switch(q.type){case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:c('ReactComposerDispatcher').waitFor([c('ReactComposerMediaUploadStore').getDispatchToken()]);p&&p.$ReactComposerSelectedImagesStore4(q);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);p&&p.$ReactComposerSelectedImagesStore5(q);break;case c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM:p&&p.$ReactComposerSelectedImagesStore6(q);break;case c('ReactComposerSlideshowActionType').IMAGE_REMOVE:p&&p.$ReactComposerSelectedImagesStore7(q);break;case c('ReactComposerSlideshowActionType').REORDER_IMAGES:p&&p.$ReactComposerSelectedImagesStore8(q);break;case c('ReactComposerSlideshowActionType').FORMAT_CHANGE:p&&p.$ReactComposerSelectedImagesStore9(q);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:p&&p.$ReactComposerSelectedImagesStore10(q);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:p&&p.$ReactComposerSelectedImagesStore11(q);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:p&&p.$ReactComposerSelectedImagesStore12(q);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:p&&p.$ReactComposerSelectedImagesStore13(q);break;case c('ReactComposerSlideshowActionType').CREATE:p&&p.$ReactComposerSelectedImagesStore14(q);break;default:break;}});p=this;}o.prototype.$ReactComposerSelectedImagesStore4=function(p){var q=p.composerID,r=this.getComposerData(q),s=c('ReactComposerMediaUploadStore').getUploads(q),t=this.addNewImagesFromPhotoUploads(s,r.selectedImages,r.removedUploadIDs);r.selectedImages=r.selectedImages.concat(t);if(r.editState!==null)r.addedUploadIDs=r.addedUploadIDs.concat(t.map(function(u){return u.key;}));this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore5=function(p){var q=p.composerID,r=this.getComposerData(q),s=c('ReactComposerPhotoStore').getPhotos(q);r.selectedImages=this.replacePhotoUploadsFromPhotos(s,r.selectedImages);r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,r.selectedImages);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore11=function(p){var q=p.composerID,r=this.getComposerData(q);r.selectedImages=[];r.imagesCrops=[];this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore10=function(p){var q=p.composerID,r=this.getComposerData(q);if(!p.shouldShowSlideshowDialog){r.selectedImages=[];r.imagesCrops=[];}this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore6=function(p){var q=p.composerID,r=this.getComposerData(q);r.selectedImages=r.selectedImages.concat(p.selectedImages);r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,r.selectedImages);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore7=function(p){var q=p.composerID,r=this.getComposerData(q);if(r.editState!==null)r.removedUploadIDs.push(p.removeImage.key);var s=r.selectedImages.filter(function(t){return t.key!==p.removeImage.key;});r.selectedImages=s;r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,s);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore8=function(p){var q=p.composerID,r=this.getComposerData(q),s=p.data,t=s.fromIndex,u=s.toIndex,v=r.selectedImages.slice(0),w=Object.assign({},v[t]);v[t].remove=true;v.splice(t>u?u:u+1,0,w);v=v.filter(function(x){return !x.remove;});r.selectedImages=v;r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,v);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore9=function(p){var q=p.composerID,r=this.getComposerData(q);r.format=p.format;r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,r.selectedImages,p.format);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore12=function(p){var q=p.composerID,r=this.getComposerData(q),s={};c('mergeDeepInto')(s,r);r.editState=s;this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore13=function(p){var q=p.composerID,r=this.getComposerData(q),s=r.editState;r.selectedImages=s.selectedImages;r.imagesCrops=s.imagesCrops;r.format=s.format;r.editState=null;r.removedUploadIDs=[];r.addedUploadIDs=[];this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore14=function(p){var q=p.composerID,r=this.getComposerData(q);r.editState=null;r.removedUploadIDs=[];r.addedUploadIDs=[];this.emitChange(q);};o.prototype.getImagesFromPhotoUploads=function(p){var q=[];p.forEach(function(r){q.push({height:null,isLoading:true,key:r.id,url:null,width:null});});return q;};o.prototype.addNewImagesFromPhotoUploads=function(p,q,r){var s=this.getImagesFromPhotoUploads(p),t=s.filter(function(u){var v=q.findIndex(function(x){return x.key===u.key;}),w=r.findIndex(function(x){return x===u.key;});return v===-1&&w===-1;});return t;};o.prototype.replacePhotoUploadsFromPhotos=function(p,q){return (q.map(function(r){var s=r,t=p.find(function(u){return u.uploadID===r.key;});if(t!=null)s={height:t.height,isLoading:false,key:t.uploadID,photoID:t.id,thumbSrc:t.thumbSrc,url:t.imageSrc,width:t.width};return s;}));};o.prototype.getPhotoIDs=function(p){var q=this.getComposerData(p);return q.selectedImages.map(function(r){return r.photoID;}).slice(0,n);};o.prototype.getRemovedUploadIDs=function(p){return this.getComposerData(p).removedUploadIDs;};o.prototype.getAddedUploadIDs=function(p){return this.getComposerData(p).addedUploadIDs;};o.prototype.getSelectedImages=function(p){return this.getComposerData(p).selectedImages;};o.prototype.getThumbnailSrc=function(p){var q=this.getComposerData(p).selectedImages;if(q.length>0)return q[0].thumbSrc;return null;};o.prototype.getImagesCrops=function(p){return this.getComposerData(p).imagesCrops;};o.prototype.getNumberOfImages=function(p){return Math.min(this.getComposerData(p).selectedImages.length,n);};o.prototype.getFormat=function(p){return this.getComposerData(p).format;};f.exports=new o();}),null);
__d('ReactComposerLoggingStore',['invariant','ReactComposerActionTypes','ReactComposerAlbumActionType','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerAudienceActionTypes','ReactComposerAudienceStore','ReactComposerDispatcher','ReactComposerFeatureType','ReactComposerLoggingQueue','ReactComposerPerfLogger','ReactComposerPhotoActionType','ReactComposerPhotoStore','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerScrapedAttachmentActionType','ReactComposerScrapedAttachmentStore','ReactComposerSelectedImagesStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerVideoUploadActionType','Bootloader','ComposerEntryPointRef','ComposerPerfEvent','ComposerWaterfallEvent','ComposerXMarauderLogger','ComposerXSessionIDs','immutable','PhotosUploadWaterfallXMixin','PUWApplications','PUWMethods','PUWSteps','classWithMixins','mixin','performanceAbsoluteNow','nullthrows','PhotoUploadFacerecWaterfallTypedLogger','FacerecWaterfallEvent'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('classWithMixins')(c('ReactComposerStoreBase'),c('mixin')(c('PhotosUploadWaterfallXMixin'))));j=i&&i.prototype;function k(){'use strict';var l;j.constructor.call(this,function(){return {activated:false,perfTimes:{},sessionID:null,uniqueEvents:c('immutable').Map([[c('PUWSteps').CLIENT_PUBLISH_SUCCESS,false],[c('PUWSteps').CLIENT_FLOW_SUCCESS,false]])};},function(m){l&&l.handler(m);});l=this;}k.prototype.handler=function(l){'use strict';if(l.suppressWaterfallLogging)return;var m=this.getComposerData(l.composerID);if(!m.activated)return;switch(l.type){case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:this.$ReactComposerLoggingStore1(l);break;case c('ReactComposerActionTypes').COMPOSER_ENTRY:this.$ReactComposerLoggingStore2(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTLOADED:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore3(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTSTRAPPED:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore4(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_CLICKED:this.$ReactComposerLoggingStore5(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_DONE:this.$ReactComposerLoggingStore6(l);break;case c('ReactComposerAlbumActionType').CREATE_ALBUM_SELECTOR_CLICKED:this.$ReactComposerLoggingStore7(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore8(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_STARTED:this.$ReactComposerLoggingStore9(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_DONE:this.$ReactComposerLoggingStore10(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_FAILED:this.$ReactComposerLoggingStore11(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZER_UNAVAILABLE:this.$ReactComposerLoggingStore12(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_UPLOADING:this.$ReactComposerLoggingStore13(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:this.$ReactComposerLoggingStore14(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_FAILED:this.$ReactComposerLoggingStore15(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_REMOVE:this.$ReactComposerLoggingStore16(l);break;case c('ReactComposerPhotoActionType').PHOTO_REMOVE:this.$ReactComposerLoggingStore17(l);break;case c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore18(l);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_ADD:this.$ReactComposerLoggingStore19(l);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore20(l);break;case c('ReactComposerTaggerActionType').DESELECT_TAGGER:this.$ReactComposerLoggingStore21(l);break;case c('ReactComposerTaggerActionType').SET_SELECTED_TAGGER:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerTaggerStore').getDispatchToken()]);this.$ReactComposerLoggingStore22(l);break;case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerTaggerStore').getDispatchToken()]);this.$ReactComposerLoggingStore23(l);break;case c('ReactComposerActionTypes').POST_STARTED:this.$ReactComposerLoggingStore24(l);break;case c('ReactComposerActionTypes').POST_SUCCEEDED:this.$ReactComposerLoggingStore25(l);break;case c('ReactComposerActionTypes').POST_ERROR:this.$ReactComposerLoggingStore26(l);break;case c('ReactComposerMediaUploadActionType').PHOTOS_SELECT:this.$ReactComposerLoggingStore27(l);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_STARTED:this.$ReactComposerLoggingStore28(l);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_FINISHED:this.$ReactComposerLoggingStore29(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RETRY:this.$ReactComposerLoggingStore30(l);break;case c('ReactComposerPhotoActionType').PHOTO_ADD_FACEBOX:this.$ReactComposerLoggingStore31(l);break;case c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_ALL_FINISHED:this.$ReactComposerLoggingStore32(l);break;case c('ReactComposerActionTypes').FEATURE_INTENT:this.$ReactComposerLoggingStore33(l);break;case c('ReactComposerActionTypes').FEATURE_DONE:this.$ReactComposerLoggingStore34(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:c('ReactComposerDispatcher').waitFor([c('ReactComposerScrapedAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore35(l);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE:this.$ReactComposerLoggingStore36(l);break;case c('ReactComposerActionTypes').COMPOSER_CANCEL:this.$ReactComposerLoggingStore37(l);break;default:}};k.prototype.getSessionID=function(l){'use strict';return c('ComposerXSessionIDs').getSessionID(l);};k.prototype.isActivated=function(l){'use strict';return this.getComposerData(l).activated;};k.prototype.activate=function(l){'use strict';var m=this.getComposerData(l);m.activated=true;if(c('ReactComposerLoggingQueue').getLength()>0)this.$ReactComposerLoggingStore38();};k.prototype.$ReactComposerLoggingStore2=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').COMPOSER_ENTRY,{logOncePerSession:true,extraData:{composer_entry_point_name:l.uiElementName}});};k.prototype.$ReactComposerLoggingStore33=function(l){'use strict';var m=this.validateAction(l,['composerID','featureType','uiElementName']),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore40(n,o,p);};k.prototype.$ReactComposerLoggingStore34=function(l){'use strict';var m=this.validateAction(l,['composerID','featureType','uiElementName']),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore41(n,o,p);};k.prototype.$ReactComposerLoggingStore1=function(l){'use strict';var m=this.validateAction(l,['id','currentAttachmentID','composerID']),n=m[0],o=m[1],p=m[2];if(c('ReactComposerAttachmentStore').isSelectedAttachmentActive(p))this.$ReactComposerLoggingStore2(l);};k.prototype.$ReactComposerLoggingStore3=function(l){'use strict';var m=this.validateAction(l,['id','composerID']),n=m[0],o=m[1];this.$ReactComposerLoggingStore42(o,c('ComposerPerfEvent').CLIENT_BOOTLOADED,{extraData:{attachment_type:n,duration:c('ReactComposerAttachmentStore').getBootloadDuration(o,n)}});};k.prototype.$ReactComposerLoggingStore4=function(l){'use strict';var m=this.validateAction(l,['id','composerID']),n=m[0],o=m[1];this.$ReactComposerLoggingStore42(o,c('ComposerPerfEvent').CLIENT_BOOTSTRAPPED,{extraData:{attachment_type:n,duration:c('ReactComposerAttachmentStore').getBootstrapDuration(o,n)}});};k.prototype.$ReactComposerLoggingStore7=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').ALBUM_INTENT);};k.prototype.$ReactComposerLoggingStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore40(n,c('ReactComposerFeatureType').MEDIA,o);this.$ReactComposerLoggingStore39(n,c('ComposerWaterfallEvent').MEDIA_INTENT);this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_SELECT_BEGIN);};k.prototype.$ReactComposerLoggingStore6=function(l){'use strict';var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore41(n,c('ReactComposerFeatureType').MEDIA,o);};k.prototype.$ReactComposerLoggingStore8=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').PHOTO_ADD);this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore9=function(l){'use strict';var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_PROCESS_BEGIN,o);};k.prototype.$ReactComposerLoggingStore10=function(l){'use strict';var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_PROCESS_SUCCESS,o);};k.prototype.$ReactComposerLoggingStore11=function(l){'use strict';var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_PROCESS_FAIL,o);};k.prototype.$ReactComposerLoggingStore12=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_PROCESS_UNAVAILABLE);};k.prototype.$ReactComposerLoggingStore13=function(l){'use strict';var m=this.validateAction(l,['composerID','fileUpload']),n=m[0],o=m[1];this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_TRANSFER_BEGIN,{bytes:o.getFile().size});};k.prototype.$ReactComposerLoggingStore14=function(l){'use strict';var m=this.validateAction(l,['composerID','fileUpload','timeToUpload']),n=m[0],o=m[1],p=m[2],q={};if(l.uploadID&&c('ReactComposerMediaUploadStore').getMediaUploadExists(n,l.uploadID))q=c('ReactComposerMediaUploadStore').getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore39(n,c('ComposerWaterfallEvent').PHOTO_ADD_SUCCESS);this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_TRANSFER_SUCCESS,{bytes:o.getFile().size,auto_retry_count:o.getRetryCount(),dt:p,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:q.projectionType,fbid:l.photoID,sheight:q.height,swidth:q.width,theight:l.height,twidth:l.width});};k.prototype.$ReactComposerLoggingStore15=function(l){'use strict';var m=this.validateAction(l,['composerID','fileUpload','error','timeToUpload']),n=m[0],o=m[1],p=m[2],q=m[3],r={};if(l.uploadID&&c('ReactComposerMediaUploadStore').getMediaUploadExists(n,l.uploadID))r=c('ReactComposerMediaUploadStore').getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore39(n,c('ComposerWaterfallEvent').PHOTO_ADD_FAILURE);this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_TRANSFER_FAIL,{bytes:o.getFile().size,error_code:p.code,error_info:p.description,auto_retry_count:o.getRetryCount(),dt:q,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:r.projectionType,sheight:r.height,swidth:r.width});};k.prototype.$ReactComposerLoggingStore16=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').PHOTO_REMOVE);this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').MEDIA);this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_TRANSFER_CANCEL);};k.prototype.$ReactComposerLoggingStore17=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').PHOTO_REMOVE);this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore18=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore19=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').VIDEO_ADD);};k.prototype.$ReactComposerLoggingStore20=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').VIDEO_REMOVE);this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore21=function(l){'use strict';var m=this.validateAction(l,['composerID','taggerID','sourceLoggingName']),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore45(o);!(q!==null)?h(0):void 0;if(q)this.$ReactComposerLoggingStore41(n,q,p);};k.prototype.$ReactComposerLoggingStore22=function(l){'use strict';var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1],p=c('ReactComposerTaggerStore').getSelectedTagger(n),event=null;switch(p){case c('ReactComposerTaggerType').PEOPLE:this.$ReactComposerLoggingStore40(n,c('ReactComposerFeatureType').WITH_TAG,o);event=c('ComposerWaterfallEvent').FRIEND_TAG_INTENT;break;case c('ReactComposerTaggerType').LOCATION:this.$ReactComposerLoggingStore40(n,c('ReactComposerFeatureType').LOCATION,o);event=c('ComposerWaterfallEvent').LOCATION_INTENT;break;case c('ReactComposerTaggerType').ACTIVITY:this.$ReactComposerLoggingStore40(n,c('ReactComposerFeatureType').MINUTIAE,o);event=c('ComposerWaterfallEvent').MINUTIAE_INTENT;break;case c('ReactComposerTaggerType').MARKDOWN:event=c('ComposerWaterfallEvent').MARKDOWN_INTENT;break;default:var q=this.$ReactComposerLoggingStore45(p);if(q)this.$ReactComposerLoggingStore40(n,q,o);break;}if(event===null)return;this.$ReactComposerLoggingStore39(n,event);};k.prototype.$ReactComposerLoggingStore23=function(l){'use strict';var m=this.validateAction(l,['composerID','taggerID','sourceLoggingName']),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore45(o);!(q!==null)?h(0):void 0;if(q)this.$ReactComposerLoggingStore44(n,q,p);};k.prototype.$ReactComposerLoggingStore24=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.perfTimes.postStartTime=c('performanceAbsoluteNow')();this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').COMPOSER_POST);if(this.$ReactComposerLoggingStore46(m)){this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_PUBLISH_BEGIN,this.$ReactComposerLoggingStore47(m));c('ReactComposerPhotoStore').getPhotos(m).forEach(function(o){o.faceboxes.forEach(function(p){return (new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('FacerecWaterfallEvent').CLIENT_PHOTO_PUBLISHED).setPhotoFbid(o.id).setFaceBoxID(p.id).setRecognizedUser(p.recognizedSubjectID).setTaggedUser(p.taggedSubjectID).log());});});}};k.prototype.$ReactComposerLoggingStore25=function(l){var m,n=this;'use strict';var o=this.validateAction(l,'composerID'),p=this.getComposerData(o),q=c('ReactComposerAttachmentStore').getSelectedAttachmentID(o);this.$ReactComposerLoggingStore39(o,c('ComposerWaterfallEvent').COMPOSER_POST_SUCCESS);this.$ReactComposerLoggingStore42(o,c('ComposerPerfEvent').CLIENT_POST_SUCCEEDED,{extraData:{attachment_type:c('ReactComposerAttachmentStore').getSelectedAttachmentID(o),duration:c('performanceAbsoluteNow')()-p.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore46(o)){var r=this.$ReactComposerLoggingStore47(o);this.$ReactComposerLoggingStore43(o,c('PUWSteps').CLIENT_PUBLISH_SUCCESS,r);this.$ReactComposerLoggingStore43(o,c('PUWSteps').CLIENT_FLOW_SUCCESS);var s=c('ReactComposerPhotoStore').getPhotos(o);if(s&&s.forEach)(function(){var t=0;s.forEach(function(u){if(u.cubestripURI)t++;});if(t>0)c('Bootloader').loadModules(["SphericalPhotoViewerLoggerUtil","SphericalMediaConstants"],function(u,v){u.logNumberOfSphericalPhoto({composerSessionID:this.getSessionID(o)||'',surface:v.LOGGER_SURFACES.composer,numberOfSphericalPhoto:t});}.bind(n),'ReactComposerLoggingStore');})();}};k.prototype.$ReactComposerLoggingStore26=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').COMPOSER_POST_FAILURE);this.$ReactComposerLoggingStore42(m,c('ComposerPerfEvent').CLIENT_POST_FAILED,{extraData:{attachment_type:c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),duration:c('performanceAbsoluteNow')()-n.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore46(m)){var o=l.response,p=Object.assign(this.$ReactComposerLoggingStore47(m),{error_code:o&&o.getError&&o.getError(),error_info:o&&o.getErrorDescription&&o.getErrorDescription()});this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_PUBLISH_FAIL,p);}};k.prototype.$ReactComposerLoggingStore27=function(l){'use strict';var m=this.validateAction(l,['composerID','numPhotos','method']),n=m[0],o=m[1],p=m[2],q={method:p,volume:o};this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});if(p!==c('PUWMethods').FILE_SELECTOR)this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_SELECT_BEGIN);this.$ReactComposerLoggingStore43(n,c('PUWSteps').CLIENT_SELECT_SUCCESS,q);};k.prototype.$ReactComposerLoggingStore28=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_PHOTO_EDIT_BEGIN);};k.prototype.$ReactComposerLoggingStore29=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_PHOTO_EDIT_SUCCESS);};k.prototype.$ReactComposerLoggingStore30=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore43(m,c('PUWSteps').CLIENT_TRANSFER_MANUAL_RETRY);};k.prototype.$ReactComposerLoggingStore31=function(l){'use strict';var m=this.validateAction(l,['photoID','facebox']),n=m[0],o=m[1],p=o.bestRecognition,q=null;if(p)q=p.subjectID;new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('FacerecWaterfallEvent').RECOGNITION_RECEIVED_BY_CLIENT).setPhotoFbid(n).setFaceBoxID(o.id).setRecognizedUser(q).log();};k.prototype.$ReactComposerLoggingStore32=function(l){'use strict';var m=this.validateAction(l,['photos','facerecWaterfallEvent']),n=m[0],o=m[1];n.forEach(function(p){new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('nullthrows')(o)).setPhotoFbid(p).log();});};k.prototype.$ReactComposerLoggingStore35=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').LINK,l.sourceLoggingName);};k.prototype.$ReactComposerLoggingStore36=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore44(m,c('ReactComposerFeatureType').PRIVACY,l.sourceLoggingName);};k.prototype.$ReactComposerLoggingStore37=function(l){'use strict';var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore39(m,c('ComposerWaterfallEvent').COMPOSER_CANCEL);};k.prototype.$ReactComposerLoggingStore46=function(l){'use strict';var m=c('ReactComposerAttachmentStore').getIsAttachmentSelected(l,c('ReactComposerAttachmentType').MEDIA),n=c('ReactComposerMediaUploadStore').getUploadsOfType(l,c('ReactComposerMediaUploadType').PHOTO);return m&&!!n.size;};k.prototype.$ReactComposerLoggingStore47=function(l){'use strict';var m=c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').PEOPLE)||[],n=c('ReactComposerMediaUploadStore').getTotalNumberOfStickersOnPhotos(l);return {volume:c('ReactComposerPhotoStore').getPhotos(l).size,with_tag_count:m.length,sticker_count:n};};k.prototype.$ReactComposerLoggingStore40=function(l,m,n){'use strict';this.$ReactComposerLoggingStore39(l,c('ComposerWaterfallEvent').FEATURE_INTENT,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore44=function(l,m,n){'use strict';this.$ReactComposerLoggingStore39(l,c('ComposerWaterfallEvent').FEATURE_UPDATE,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore41=function(l,m,n){'use strict';this.$ReactComposerLoggingStore39(l,c('ComposerWaterfallEvent').FEATURE_DONE,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore39=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];'use strict';var n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true);}if(c('ReactComposerStore').getRef(l)===c('ComposerEntryPointRef').RECENT_POSTS)c('Bootloader').loadModules(["FeedbackDigestNotifTypedLogger"],function(o){new o().setComposerWaterfallEvent(event).addToExtraData('payload',JSON.stringify(this.$ReactComposerLoggingStore48(l))).addToExtraData('message',c('ReactComposerStatusStore').getMessageText(l)).log();}.bind(this),'ReactComposerLoggingStore');m.extraData=Object.assign({is_markdown_enabled:!!c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').MARKDOWN).isMarkdown,payload:this.$ReactComposerLoggingStore48(l)},m.extraData);c('ComposerXMarauderLogger').logEvent(event,l,m);};k.prototype.$ReactComposerLoggingStore42=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];'use strict';var n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true);}c('ReactComposerPerfLogger').logEvent(event,l,m);};k.prototype.$ReactComposerLoggingStore43=function(l,m,n,o,p){'use strict';var q=this.getComposerData(l);if(q.uniqueEvents.has(m)){if(q.uniqueEvents.get(m))return;q.uniqueEvents=q.uniqueEvents.set(m,true);}this.logPUWStep(m,this.getSessionID(l),c('PUWApplications').WEB_REACT_COMPOSER,c('ReactComposerStore').getRef(l),n,o,p);};k.prototype.$ReactComposerLoggingStore38=function(){'use strict';while(c('ReactComposerLoggingQueue').getLength()>0){var l=c('ReactComposerLoggingQueue').pop();this.handler(l);}};k.prototype.$ReactComposerLoggingStore48=function(l){'use strict';return {character:c('ReactComposerStatusStore').getTextLength(l),location_tag:c('ReactComposerTaggerStore').hasLocationTag(l),implicit_location:c('ReactComposerTaggerStore').hasImplicitLocation(l),minutiae:c('ReactComposerTaggerStore').hasMinutiae(l),with_who_tag:c('ReactComposerTaggerStore').getNumberOfWithWhoTags(l),photo:c('ReactComposerMediaUploadStore').getNonsphericalPhotoCount(l),three_sixty_photo:c('ReactComposerMediaUploadStore').getSphericalPhotoCount(l),video:c('ReactComposerMediaUploadStore').getUploadsCount(l,c('ReactComposerMediaUploadType').VIDEO),shared_link:c('ReactComposerScrapedAttachmentStore').hasAttachment(l)?1:0,backdated:c('ReactComposerTaggerStore').hasBackdate(l)?c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').BACKDATE):null,audience:c('ReactComposerAudienceStore').getAudience(l)};};k.prototype.$ReactComposerLoggingStore45=function(l){'use strict';switch(l){case c('ReactComposerTaggerType').PEOPLE:return c('ReactComposerFeatureType').WITH_TAG;case c('ReactComposerTaggerType').LOCATION:return c('ReactComposerFeatureType').LOCATION;case c('ReactComposerTaggerType').ACTIVITY:return c('ReactComposerFeatureType').MINUTIAE;case c('ReactComposerTaggerType').MARKDOWN:return c('ReactComposerFeatureType').MARKDOWN;case c('ReactComposerTaggerType').BACKDATE:return c('ReactComposerFeatureType').DATE;default:return null;}};f.exports=new k();}),null);
__d('ReactComposerMinutiaeAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({FETCH_ATTACHMENT:null,SET_EXPLICIT_LOCATION:null,SET_MARKUP:null},'ReactComposerMinutiaeAttachmentActionType');}),null);
__d("XReactComposerMinutiaeAttachmentController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/minutiae\/attachment\/",{composer_id:{type:"String",required:true},action_id:{type:"String",required:true},object_id:{type:"String",required:true},target_id:{type:"String",required:true},is_timeline:{type:"Bool",defaultValue:false},explicit_place_tag_id:{type:"String"}});}),null);
__d('ReactComposerMinutiaeAttachmentStore',['ReactComposerAttachmentActionType','ReactComposerAttachmentType','ReactComposerMinutiaeAttachmentActionType','ReactComposerStoreBase','XReactComposerMinutiaeAttachmentController','AsyncRequest'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isFetching:false,markup:null,pendingRequest:null,explicitLocation:null};},function(l){switch(l.type){case c('ReactComposerMinutiaeAttachmentActionType').FETCH_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore1(l);break;case c('ReactComposerMinutiaeAttachmentActionType').SET_MARKUP:k&&k.$ReactComposerMinutiaeAttachmentStore2(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore3(l);break;case c('ReactComposerMinutiaeAttachmentActionType').SET_EXPLICIT_LOCATION:k&&k.$ReactComposerMinutiaeAttachmentStore4(l);break;}});k=this;}j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup;};j.prototype.isFetching=function(k){'use strict';return this.getComposerData(k).isFetching;};j.prototype.$ReactComposerMinutiaeAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','explicitLocation']),m=l[0],n=l[1],o=this.getComposerData(m);o.explicitLocation=n;this.emitChange(m);};j.prototype.$ReactComposerMinutiaeAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','actionID','objectID','targetID','isTimeline']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=this.getComposerData(m);r.isFetching=true;var s=c('XReactComposerMinutiaeAttachmentController').getURIBuilder().setString('composer_id',m).setString('action_id',n).setString('object_id',o).setString('target_id',p).setBool('is_timeline',q);if(r.explicitLocation)s.setString('explicit_place_tag_id',r.explicitLocation);r.pendingRequest=new (c('AsyncRequest'))(s.getURI()).setFinallyHandler(function(){r.isFetching=false;r.pendingRequest=null;this.emitChange(m);}.bind(this));r.pendingRequest.send();this.emitChange(m);};j.prototype.$ReactComposerMinutiaeAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','markup']),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;this.emitChange(m);};j.prototype.$ReactComposerMinutiaeAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','id']),m=l[0],n=l[1];if(n===c('ReactComposerAttachmentType').STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerProfileBadgeActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_HAS_PROFILE_BADGE:null},'ReactComposerProfileBadgeActionType');}),null);
__d('ReactComposerProfileBadgeStore',['ReactComposerStoreBase','ReactComposerTaggerType','ReactComposerProfileBadgeActionType','ReactComposerTaggerActionType'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {hasProfileBadge:false};},function(l){switch(l.type){case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:case c('ReactComposerTaggerActionType').SET_SELECTED_TAGGER:case c('ReactComposerTaggerActionType').DESELECT_TAGGER:k&&k.$ReactComposerProfileBadgeStore1(l);break;case c('ReactComposerProfileBadgeActionType').SET_HAS_PROFILE_BADGE:k&&k.$ReactComposerProfileBadgeStore2(l);break;}});k=this;}j.prototype.hasProfileBadge=function(k){'use strict';return this.getComposerData(k).hasProfileBadge;};j.prototype.$ReactComposerProfileBadgeStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','taggerID']),m=l[0],n=l[1];if(n!==c('ReactComposerTaggerType').ACTIVITY)return;var o=this.getComposerData(m);o.hasProfileBadge=true;this.emitChange(m);};j.prototype.$ReactComposerProfileBadgeStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','hasProfileBadge']),m=l[0],n=l[1],o=this.getComposerData(m);o.hasProfileBadge=n;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerPromptsActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_MINUTIAE_DATA:null,SET_PROMPT_DATA:null,SET_PROMPT_XHP:null},'ReactComposerPromptsActionTypes');}),null);
__d('ReactComposerPromptsStore',['ReactComposerPromptsActionTypes','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {promptData:null,promptXHP:null};},function(l){k&&k.handler(l);});k=this;}j.prototype.handler=function(k){'use strict';switch(k.type){case c('ReactComposerPromptsActionTypes').SET_MINUTIAE_DATA:this.$ReactComposerPromptsStore1(k);break;case c('ReactComposerPromptsActionTypes').SET_PROMPT_DATA:this.$ReactComposerPromptsStore2(k);break;case c('ReactComposerPromptsActionTypes').SET_PROMPT_XHP:this.$ReactComposerPromptsStore3(k);break;default:}};j.prototype.$ReactComposerPromptsStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','minutiaeData']),m=l[0],n=l[1],o=this.getComposerData(m);o.minutiaeData=n;};j.prototype.getMinutiaeData=function(k){'use strict';return this.getComposerData(k).minutiaeData;};j.prototype.$ReactComposerPromptsStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','promptData']),m=l[0],n=l[1],o=this.getComposerData(m);o.promptData=n;};j.prototype.getPromptData=function(k){'use strict';return this.getComposerData(k).promptData;};j.prototype.$ReactComposerPromptsStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','promptXHP']),m=l[0],n=l[1],o=this.getComposerData(m);o.promptXHP=n;this.emitChange(m);};j.prototype.getPromptXHP=function(k){'use strict';return this.getComposerData(k).promptXHP;};f.exports=new j();}),null);
__d('SlideshowFlowTypes',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={SETTINGS_TAB:'SETTINGS_TAB',MUSIC_TAB:'MUSIC_TAB',FRAMES_TAB:'FRAMES_TAB'};f.exports={SlideshowTabKey:h};}),null);
__d('ReactComposerSlideshowStore',['ReactComposerSlideshowActionType','ReactComposerStoreBase','SlideshowConstants','SlideshowFlowTypes','mergeDeepInto'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('SlideshowFlowTypes').SlideshowTabKey;h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {durationInMS:1000,editState:null,isSlideshowSelected:false,selectedTab:j.SETTINGS_TAB,shouldShowSlideshowDialog:false,transitionInMS:c('SlideshowConstants').transitions.None};},function(m){switch(m.type){case c('ReactComposerSlideshowActionType').CREATE:l&&l.$ReactComposerSlideshowStore1(m);break;case c('ReactComposerSlideshowActionType').SHOW_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore2(m);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore3(m);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore4(m);break;case c('ReactComposerSlideshowActionType').TRANSITION_CHANGE:l&&l.$ReactComposerSlideshowStore5(m);break;case c('ReactComposerSlideshowActionType').DURATION_CHANGE:l&&l.$ReactComposerSlideshowStore6(m);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore7(m);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore8(m);break;case c('ReactComposerSlideshowActionType').SELECT_TAB:l&&l.$ReactComposerSlideshowStore9(m);break;default:break;}});l=this;}k.prototype.$ReactComposerSlideshowStore1=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;n.shouldShowSlideshowDialog=false;n.editState=null;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore9=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.selectedTab=l.tab;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore2=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore3=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=false;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore4=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=l.shouldShowSlideshowDialog;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore5=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.transitionInMS=l.transitionInMS;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore6=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.durationInMS=l.durationInMS;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore7=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m),o={};c('mergeDeepInto')(o,n);n.editState=o;n.shouldShowSlideshowDialog=true;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore8=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=false;n.isSlideshowSelected=true;var o=n.editState;n.durationInMS=o.durationInMS;n.transitionInMS=o.transitionInMS;n.editState=null;this.emitChange(m);};k.prototype.isSlideshowSelected=function(l){'use strict';return this.getComposerData(l).isSlideshowSelected;};k.prototype.isEditing=function(l){'use strict';return this.getComposerData(l).editState!==null;};k.prototype.shouldShowSlideshowDialog=function(l){'use strict';return this.getComposerData(l).shouldShowSlideshowDialog;};k.prototype.getDurationInMS=function(l){'use strict';return this.getComposerData(l).durationInMS;};k.prototype.getTotalLength=function(l,m){'use strict';return this.getDurationInMS(l)*m+this.getTransitionInMS(l)*m;};k.prototype.getTransitionInMS=function(l){'use strict';return this.getComposerData(l).transitionInMS;};k.prototype.getSelectedTab=function(l){'use strict';return this.getComposerData(l).selectedTab;};f.exports=new k();}),null);
__d('SlideshowAudioUtil',['ix','React','SlideshowMusicCategory','Image.react','fbglyph'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={getMusicCategoryGlyph:function j(k){switch(k){case c('SlideshowMusicCategory').ALL_TRACKS:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/grid-9_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').USER_UPLOADED:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/arrow-up-solid_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').RECENTLY_USED:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/clock_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').ENERGETIC:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/bolt_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').INSPIRATIONAL:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/bulb_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').FUN:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/face-very-happy_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').TRUSTWORTHY:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/briefcase-business_20_fig-dark-70.png")}));case c('SlideshowMusicCategory').MODERN:return (c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/flame_20_fig-dark-70.png")}));default:return null;}},storylineMoodCompare:function j(k,l){if(!k&&!l){return true;}else if(!k||!l)return false;return (k.fileName===l.fileName&&k.moodID===l.moodID&&JSON.stringify(k.categories)===JSON.stringify(l.categories));}};f.exports=i;}),null);
__d("XSlideshowAudioAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/slideshow\/audio\/",{});}),null);
__d("XSlideshowShakrOAuthController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/slideshow\/shakr\/",{});}),null);
__d("XSlideshowShakrPollController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/slideshow\/shakr\/show\/",{});}),null);
__d("XSlideshowStorylineMoodAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/slideshow\/storyline_mood\/",{target_id:{type:"FBID"}});}),null);
__d("XSlideshowStorylineMoodDeleteController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/slideshow\/storyline_mood\/delete\/",{});}),null);
__d("XSlideshowStorylineMoodUploadController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/slideshow\/storyline_mood\/upload\/",{});}),null);
__d("XSlideshowVideoFrameImagesAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/slideshow\/frame_images\/",{request_type:{type:"Enum",enumType:0},video_id:{type:"FBID"}});}),null);
__d('SlideshowDataManager',['AsyncRequest','Bootloader','SlideshowConstants','SlideshowFrameImagesRequestType','XSlideshowAudioAsyncController','XSlideshowShakrOAuthController','XSlideshowShakrPollController','XSlideshowStorylineMoodAsyncController','XSlideshowStorylineMoodDeleteController','XSlideshowStorylineMoodUploadController','XSlideshowVideoFrameImagesAsyncController','immutable'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();h.prototype.fetchAudioSource=function(i,j){var k=c('SlideshowConstants').audio_ids[i];if(!k)return;var l=c('XSlideshowAudioAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(l).setData({audio_id:k}).setMethod('POST').setHandler(function(m){return j(m.payload);}).send();};h.prototype.fetchStorylineMoodSource=function(i,j,k){var l=c('XSlideshowStorylineMoodAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(l).setData({storyline_mood_id:i,total_length:j}).setMethod('POST').setHandler(function(m){return k(m.payload);}).send();};h.prototype.fetchStorylineMoodFiles=function(i,j){var k=c('XSlideshowStorylineMoodAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(k).setMethod('GET').setData({target_id:j}).setReadOnly(true).setHandler(function(l){return i(this.getStorylineMoodFiles(l.payload));}.bind(this)).send();};h.prototype.getStorylineMoodFiles=function(i){var j=[];Object.keys(i).forEach(function(k){j.push({moodID:k,fileName:i[k].fileName,categories:i[k].categories,source:null});});return new (c('immutable').List)(j);};h.prototype.scheduleFrameImagesAsyncJob=function(i){var j=c('XSlideshowVideoFrameImagesAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(j).setData({request_type:c('SlideshowFrameImagesRequestType').SCHEDULE_ASYNC_JOB,video_id:i}).setMethod('POST').send();};h.prototype.fetchVideoFrameImages=function(i,j){var k=c('XSlideshowVideoFrameImagesAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(k).setData({request_type:c('SlideshowFrameImagesRequestType').FETCH_FRAME_IMAGES,video_id:j}).setMethod('POST').setHandler(function(l){return i(l.payload);}).send();};h.prototype.uploadAudioFile=function(i,j,k,l){if(!i||!i.input||!i.input.files.length)return;var m=c('XSlideshowStorylineMoodUploadController').getURIBuilder().getURI(),n=new FormData();n.append('audio_file',i.input.files[0]);n.append('target_id',j);new (c('AsyncRequest'))().setURI(m).setRawData(n).setMethod('POST').setErrorHandler(function(o){return l();}).setHandler(function(o){return (this.$SlideshowDataManager1(o.payload,k,l));}.bind(this)).send();i.clear();};h.prototype.$SlideshowDataManager1=function(i,j,k){if(i.success){j({moodID:i.moodID,fileName:i.fileName,categories:i.categories,source:null});}else k();};h.prototype.deleteAudioFile=function(i){var j=c('XSlideshowStorylineMoodDeleteController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(j).setData({mood_id:i}).setMethod('POST').send();};h.prototype.getShakrScopeToken=function(){var i=c('XSlideshowShakrOAuthController').getURIBuilder();new (c('AsyncRequest'))().setURI(i.getURI()).setHandler(function(j){return (c('Bootloader').loadModules(["AdsDispatcher","AdsSlideshowActionTypes"],function(k,l){k.handleUpdateFromServerResponse({data:{accessToken:j.payload},type:l.SHAKR_ACCESS_TOKEN_LOADED});},'SlideshowDataManager'));}).send();};h.prototype.pollShakrForVideoURL=function(i,j){var k=c('XSlideshowShakrPollController').getURIBuilder();new (c('AsyncRequest'))().setURI(k.getURI()).setData({show_id:i}).setHandler(function(l){return j(l.payload);}).send();};function h(){}f.exports=new h();}),null);
__d('SlideshowUtil',['SlideshowConstants','SlideshowImageUtil'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=1000,i='_',j=2,k={getDurationParam:function l(m,n,o){var p=Math.min(m,c('SlideshowConstants').max_photo_num),q=h*n,r=o*(p-1),s=Math.floor((q-r)/p);return {durationInMS:s,transitionInMS:o};},getAudioFileNameWithSecs:function l(m,n,o){var p=Math.min(o,c('SlideshowConstants').max_photo_num),q=n*p/h;return this.getAudioFileParam(m,q);},getAudioFileParam:function l(m,n){if(m===c('SlideshowConstants').audio_files.None)return m;var o=c('SlideshowConstants').audio_lengths;for(var p=0;p<o.length;p++){var q=o[p];if(n<=q)return m+i+q;}return m+i+o[o.length-1];},getTotalLengthInSec:function l(m,n){var o=Math.min(n,c('SlideshowConstants').max_photo_num);return Math.round(m*o/h);},getTotalNumFramesFromVideo:function l(){return c('SlideshowConstants').frames_from_video.default_num_selected_frames+j;},getSelectedFramesFromVideo:function l(m,n){var o=m.length>=n+2?2:0,p=m.length-o,q=o==2?1:0,r=p+q,s=[],t=Math.max(1,(p-1)/(n-1));while(q<r){s.push(m[Math.floor(q)]);q+=t;}return s;},convertHexToRGB:function l(m){if(!m)return null;m=m.replace('#','');var n=parseInt(m.substring(0,2),16),o=parseInt(m.substring(2,4),16),p=parseInt(m.substring(4,6),16);return [Math.round(255*c('SlideshowImageUtil').getOpacity()),n,o,p];},getTextoverlayParam:function l(m,n){if(!m.textoverlay_content)return [{text_content:' ',textbox_coordinates:[0,0,0,0]}];var o=c('SlideshowImageUtil').getScaleMultiplierFromCrops(n);return [{background_color:k.convertHexToRGB(m.background_color),text_content:' ',textbox_coordinates:c('SlideshowImageUtil').getOuterTextboxCoordinatesForAPI(n,m,o)},{text_content:m.textoverlay_content,textbox_coordinates:c('SlideshowImageUtil').getInnerTextboxCoordinatesForAPI(n,m,o),text_color:k.convertHexToRGB(m.font_color),text_font:m.font,text_weight:m.bold,text_halign:c('SlideshowImageUtil').getHorizontalAlignmentForAPI(m.text_alignment),text_size:c('SlideshowImageUtil').getFontSize(o)}];}};f.exports=k;}),null);
__d('ReactComposerSlideshowAudioStore',['ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerSelectedImagesStore','ReactComposerSlideshowActionType','ReactComposerSlideshowActions','ReactComposerSlideshowStore','ReactComposerStoreBase','SlideshowAudioUtil','SlideshowConstants','SlideshowDataManager','SlideshowMusicCategory','SlideshowUtil','mergeDeepInto','immutable'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {audioFile:c('SlideshowConstants').audio_files.None,audioFileSource:c('SlideshowConstants').audio_source_none,audioFileToSource:c('immutable').Map({NONE:c('SlideshowConstants').audio_source_none}),audioFileUploadInfo:{isUploading:false},editState:null,isPreviewPlaying:false,recentlyUsedStorylineMoods:new (c('immutable').List)(),selectedMusicCategory:c('SlideshowMusicCategory').ALL_TRACKS,selectedStorylineMood:null,storylineMoodFiles:new (c('immutable').List)(),storylineMoodIDToSource:new (c('immutable').Map)()};},function(l){switch(l.type){case c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM:k&&k.$ReactComposerSlideshowAudioStore1(l);k&&k.$ReactComposerSlideshowAudioStore2(l);break;case c('ReactComposerSlideshowActionType').AUDIO_CHANGE:k&&k.$ReactComposerSlideshowAudioStore3(l);k&&k.$ReactComposerSlideshowAudioStore2(l);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_CHANGE:k&&k.$ReactComposerSlideshowAudioStore4(l);k&&k.$ReactComposerSlideshowAudioStore1(l,function(){c('ReactComposerSlideshowActions').previewStateChange(l.composerID,true);});break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_DELETE:k&&k.$ReactComposerSlideshowAudioStore5(l);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore6(l);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore7(l);break;case c('ReactComposerSlideshowActionType').DURATION_CHANGE:k&&k.$ReactComposerSlideshowAudioStore1(l);k&&k.$ReactComposerSlideshowAudioStore2(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:case c('ReactComposerSlideshowActionType').IMAGE_REMOVE:k&&k.$ReactComposerSlideshowAudioStore1(l);k&&k.$ReactComposerSlideshowAudioStore2(l);break;case c('ReactComposerSlideshowActionType').SET_STORYLINE_MOOD_FILES:k&&k.$ReactComposerSlideshowAudioStore8(l);break;case c('ReactComposerSlideshowActionType').AUDIO_SOURCE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore9(l);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore10(l);break;case c('ReactComposerSlideshowActionType').AUDIO_SOURCE_MAP_CHANGE:k&&k.$ReactComposerSlideshowAudioStore11(l);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_MAP_CHANGE:k&&k.$ReactComposerSlideshowAudioStore12(l);break;case c('ReactComposerSlideshowActionType').MUSIC_CATEGORY_SELECT:k&&k.$ReactComposerSlideshowAudioStore13(l);break;case c('ReactComposerSlideshowActionType').PREVIEW_STATE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore14(l);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_STARTED:k&&k.$ReactComposerSlideshowAudioStore15(l);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_ERROR:k&&k.$ReactComposerSlideshowAudioStore16(l);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_SUCCESS:k&&k.$ReactComposerSlideshowAudioStore17(l);break;default:break;}});k=this;}j.prototype.$ReactComposerSlideshowAudioStore2=function(k){'use strict';var l=k.composerID;c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowStore').getDispatchToken()]);var m=c('ReactComposerSlideshowStore').getDurationInMS(l),n=this.getComposerData(l),o=this.getNumberOfImages(l),p=c('SlideshowUtil').getAudioFileNameWithSecs(n.audioFile,m,o),q=n.audioFileToSource;if(!q.get(p)){c('SlideshowDataManager').fetchAudioSource(p,function(r){c('ReactComposerSlideshowActions').changeAudioFileSource(l,r);q=q.set(p,r);c('ReactComposerSlideshowActions').changeAudioSourceMap(l,q);});return;}n.audioFileSource=q.get(p);this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore1=function(k,l){'use strict';var m=k.composerID,n=this.getComposerData(m),o=n.selectedStorylineMood;if(!o)return;var p=o.moodID,q=this.getNumberOfImages(m),r=this.getTotalLength(m,q),s=this.getStorylineMoodIDToSource(m);c('SlideshowDataManager').fetchStorylineMoodSource(p,r,function(t){c('ReactComposerSlideshowActions').changeStorylineMoodIDSource(m,t);s=s.set(p,t);c('ReactComposerSlideshowActions').changeStorylineMoodSourceMap(m,s);if(l)l();});n.selectedStorylineMood.source=s.get(p);this.emitChange(m);};j.prototype.$ReactComposerSlideshowAudioStore3=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFile=k.audioFile;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore15=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=true;m.selectedMusicCategory=c('SlideshowMusicCategory').USER_UPLOADED;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore16=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=false;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore17=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=false;m.storylineMoodFiles=m.storylineMoodFiles.unshift(k.uploadedMood);this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore13=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.selectedMusicCategory=k.selectedMusicCategory;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore9=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);if(m.audioFileSource!==k.audioFileSource)m.isPreviewPlaying=false;m.audioFileSource=k.audioFileSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore11=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileToSource=k.audioFileToSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore6=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n={};c('mergeDeepInto')(n,m);m.editState=n;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore7=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=m.editState;m.audioFile=n.audioFile;m.audioFileSource=n.audioFileSource;m.selectedStorylineMood=n.selectedStorylineMood;m.selectedMusicCategory=n.selectedMusicCategory;m.editState=null;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore4=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.selectedStorylineMood=k.selectedStorylineMood;if(k.selectedStorylineMood!=null)m.recentlyUsedStorylineMoods=m.recentlyUsedStorylineMoods.unshift(k.selectedStorylineMood);this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore5=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=k.selectedStorylineMood;if(c('SlideshowAudioUtil').storylineMoodCompare(n,m.selectedStorylineMood)){m.selectedStorylineMood=null;m.isPreviewPlaying=false;}m.storylineMoodFiles=m.storylineMoodFiles.filter(function(o){return !c('SlideshowAudioUtil').storylineMoodCompare(o,n);});c('SlideshowDataManager').deleteAudioFile(n.moodID);this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore10=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);if(!m.selectedStorylineMood)return;m.selectedStorylineMood.source=k.storylineMoodIDSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore12=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.storylineMoodIDToSource=k.storylineMoodIDToSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore14=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isPreviewPlaying=k.isPreviewPlaying;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore8=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.storylineMoodFiles=k.storylineMoodFiles;this.emitChange(l);};j.prototype.getAudioFile=function(k){'use strict';return this.getComposerData(k).audioFile;};j.prototype.getAudioFileSource=function(k){'use strict';return this.getComposerData(k).audioFileSource;};j.prototype.getNumberOfImages=function(k){'use strict';c('ReactComposerDispatcher').waitFor([c('ReactComposerSelectedImagesStore').getDispatchToken()]);return c('ReactComposerSelectedImagesStore').getNumberOfImages(k);};j.prototype.getStorylineMoodFiles=function(k){'use strict';return this.getComposerData(k).storylineMoodFiles.toArray();};j.prototype.getRecentlyUsedStorylineMoods=function(k){'use strict';return (this.getComposerData(k).recentlyUsedStorylineMoods.toArray());};j.prototype.getSelectedStorylineMood=function(k){'use strict';return this.getComposerData(k).selectedStorylineMood;};j.prototype.getStorylineMoodIDToSource=function(k){'use strict';return this.getComposerData(k).storylineMoodIDToSource;};j.prototype.getSelectedMusicCategory=function(k){'use strict';return this.getComposerData(k).selectedMusicCategory;};j.prototype.getIsPreviewPlaying=function(k){'use strict';return this.getComposerData(k).isPreviewPlaying;};j.prototype.getAudioFileUploadInfo=function(k){'use strict';return this.getComposerData(k).audioFileUploadInfo;};j.prototype.getTotalLength=function(k,l){'use strict';c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowStore').getDispatchToken()]);return c('ReactComposerSlideshowStore').getTotalLength(k,l);};f.exports=new j();}),null);
__d('ReactComposerTopicFeedsTaggerActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({USER_ADD_TAG:null,USER_REMOVE_TAG:null,PREFILL_TAGS:null,SERVER_UPDATE_TAGS:null,SET_COMPOSER_FEED_ID:null,SET_PHOTO_AUTO_TAGGING_DELAY:null,SET_PHOTO_POLLING_DURATION:null,SET_PHOTO_POLLING_INTERVAL:null,SET_TAGGER_MOUNTED:null,SET_TEXT_AUTO_TAGGING_DELAY:null,SET_RESHARE_URL:null,SET_DARK_LAUNCH:null,SET_TARGET_ID:null},'ReactComposerTopicFeedsTaggerActionType');}),null);
__d('ReactComposerTopicFeedsTaggerActions',['ReactComposerTopicFeedsTaggerActionType','ReactComposerDispatcher'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();h.prototype.addTag=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicID:j,type:c('ReactComposerTopicFeedsTaggerActionType').USER_ADD_TAG});};h.prototype.removeTag=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicID:j,type:c('ReactComposerTopicFeedsTaggerActionType').USER_REMOVE_TAG});};h.prototype.setDarkLaunch=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,isDarkLaunch:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_DARK_LAUNCH});};h.prototype.setPhotoAutoTaggingDelay=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,delay:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_AUTO_TAGGING_DELAY});};h.prototype.setPhotoPollingDuration=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,duration:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_DURATION});};h.prototype.setPhotoPollingInterval=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,interval:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_INTERVAL});};h.prototype.setTaggerMounted=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,isMounted:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED});};h.prototype.setTextAutoTaggingDelay=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,delay:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TEXT_AUTO_TAGGING_DELAY});};h.prototype.updateTags=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topics:j,type:c('ReactComposerTopicFeedsTaggerActionType').SERVER_UPDATE_TAGS});};h.prototype.prefillTags=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicIDs:j,type:c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS});};h.prototype.setComposerFeedID=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,composerFeedID:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_COMPOSER_FEED_ID});};h.prototype.setReshareURL=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,reshareURL:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_RESHARE_URL});};h.prototype.setTargetID=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,targetID:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TARGET_ID});};function h(){'use strict';}f.exports=new h();}),null);
__d("XFeedTopicClassifierController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/feed\/topic\/classifier\/",{message:{type:"String",defaultValue:""},place_tag_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},captions:{type:"StringVector"},urls:{type:"StringVector"},session_id:{type:"String"},tagged_profile_ids:{type:"FBIDVector"},mention_ids:{type:"FBIDVector"},mentions:{type:"HackType"},minutiae_action_id:{type:"FBID"},minutiae_object_id:{type:"FBID"},minutiae_object_string:{type:"String"},target_ent_id:{type:"FBID"},topics:{type:"HackType"},use_new_form:{type:"Bool",defaultValue:false},classification_session_id:{type:"String"},sequence_number:{type:"Int"}});}),null);
__d('ReactComposerTopicFeedsAutoTaggingRequester',['AsyncRequest','ReactComposerLoggingStore','ReactComposerMediaUploadType','ReactComposerMediaUploadStore','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTopicFeedsTaggerActions','ReactComposerTopicFeedsTaggerStore','DraftEntity','EditorState','Map','TopicFeedsComposerTypedLogger','XFeedTopicClassifierController','emptyFunction','uuid'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=5000;function i(){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester1=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester2=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester3=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester4=Date.now();}i.prototype.sendThrottledRequest=function(j,k){'use strict';if(this.$ReactComposerTopicFeedsAutoTaggingRequester1.has(j))return;this.$ReactComposerTopicFeedsAutoTaggingRequester1.set(j,setTimeout(function(){this.sendImmediateRequest(j);this.$ReactComposerTopicFeedsAutoTaggingRequester1['delete'](j);}.bind(this),k||h));};i.prototype.sendPhotoPollingRequest=function(j,k,l){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester5(j);var m=[];for(var n=l;n<=k;n+=l)m.push(setTimeout(function(){return this.sendImmediateRequest(j);}.bind(this),n));this.$ReactComposerTopicFeedsAutoTaggingRequester2.set(j,m);};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester5=function(j){'use strict';var k=this.$ReactComposerTopicFeedsAutoTaggingRequester2.get(j);if(k){k.forEach(function(l){clearTimeout(l);});this.$ReactComposerTopicFeedsAutoTaggingRequester2['delete'](j);}};i.prototype.sendImmediateRequest=function(j){'use strict';var k=c('ReactComposerStatusStore').getMessageText(j),l=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').LOCATION),m=l.place&&l.place.getUniqueID(),n=c('ReactComposerMediaUploadStore').getUploadsOfType(j,c('ReactComposerMediaUploadType').PHOTO).map(function(ca){return ca.photoID;}).toArray().filter(function(ca){return ca;}),o=null,p=c('ReactComposerTopicFeedsTaggerStore').getReshareURL(j);if(!p)p=c('ReactComposerScrapedAttachmentStore').getMarkup(j)&&c('ReactComposerScrapedAttachmentStore').getPermissiveMatch(j);if(p)o=[p];var q=this.$ReactComposerTopicFeedsAutoTaggingRequester6(c('ReactComposerStatusStore').getEditorState(j)),r=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').PEOPLE)||[],s=r.map(function(ca){return ca.getUniqueID();}),t=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').ACTIVITY),u=null,v=null,w=null;if(t&&t.action&&t.object){u=t.action.getUniqueID();if(isNaN(t.object.getUniqueID())){w=t.object.getUniqueID();}else v=t.object.getUniqueID();}var x=c('ReactComposerTopicFeedsTaggerStore').getNextPredictionSequenceNumber(j),y=c('ReactComposerTopicFeedsTaggerStore').getTargetID(j),z=c('uuid')(),aa=Date.now(),ba=c('XFeedTopicClassifierController').getURIBuilder().setString('message',k).setFBID('place_tag_id',m).setFBIDVector('photo_ids',n).setHackType('mentions',q).setFBIDVector('tagged_profile_ids',s).setStringVector('urls',o).setString('session_id',c('ReactComposerLoggingStore').getSessionID(j)).setFBID('minutiae_action_id',u).setFBID('minutiae_object_id',v).setString('minutiae_object_string',w).setFBID('target_ent_id',y).setHackType('topics',c('ReactComposerTopicFeedsTaggerStore').getComposerData(j).topicsInfoList.toArray()).setString('classification_session_id',z).setInt('sequence_number',x).getURI();new (c('AsyncRequest'))(ba).setHandler(function(ca){return this.$ReactComposerTopicFeedsAutoTaggingRequester7(ca,j,z,aa,x);}.bind(this)).send();new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_predict_start').setComposerID(c('ReactComposerLoggingStore').getSessionID(j)).setClassifySessionID(z).setLinkAttachmentCount(o?o.length:0).setPhotoAttachmentCount(n?n.length:0).setSequenceNumber(x).setClientEventTimeMs(Date.now()).log();};i.prototype.clearAllPendingRequests=function(j){'use strict';if(!this.$ReactComposerTopicFeedsAutoTaggingRequester1.has(j))return;clearTimeout(this.$ReactComposerTopicFeedsAutoTaggingRequester1.get(j));this.$ReactComposerTopicFeedsAutoTaggingRequester5(j);this.$ReactComposerTopicFeedsAutoTaggingRequester1['delete'](j);this.$ReactComposerTopicFeedsAutoTaggingRequester4=Date.now();};i.prototype.updatePostStatus=function(j,k){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester3.set(j,k);};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester7=function(j,k,l,m,n){'use strict';if(!j||!j.payload){new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_predict_finish').setComposerID(c('ReactComposerLoggingStore').getSessionID(k)).setClassifySessionID(l).setPredictionDuration(Date.now()-m).setPredictionIsSuccessful(false).setPredictionErrorReason(j?'No data':'No payload').setSequenceNumber(n).setClientEventTimeMs(Date.now()).setIsPredictionApplied(false).log();return;}var o=null,p=true;if(this.$ReactComposerTopicFeedsAutoTaggingRequester3.get(k)){p=false;o='This post has already been submitted.';}else if(m<this.$ReactComposerTopicFeedsAutoTaggingRequester4){p=false;o='Classify start time < Last Request Timestamp';}new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_predict_finish').setComposerID(c('ReactComposerLoggingStore').getSessionID(k)).setClassifySessionID(l).setTopicsAutoTagged(j.payload.map(function(q){return q.feed_id;})).setPredictionDuration(Date.now()-m).setPredictionIsSuccessful(true).setPredictionCount(j.payload.length).setSequenceNumber(n).setClientEventTimeMs(Date.now()).setIsPredictionApplied(p).setPredictionErrorReason(o).log();if(p){this.$ReactComposerTopicFeedsAutoTaggingRequester4=m;c('ReactComposerTopicFeedsTaggerActions').updateTags(k,j.payload);}};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester6=function(j){'use strict';if(!j)return [];var k=j.getCurrentContent(),l=[];k.getBlockMap().forEach(function(m){m.findEntityRanges(c('emptyFunction').thatReturnsTrue,function(n,o){var p=m.getEntityAt(n);if(!p)return;var q=c('DraftEntity').get(p);if(q.getType()!=='MENTION')return;l.push({mention_id:q.getData().id,mention_type:q.getData().type,offset:n,length:o-n});});});return l;};f.exports=new i();}),null);
__d('ReactComposerTopicFeedsTaggerStore',['invariant','ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerScrapedAttachmentActionType','ReactComposerStatusActionType','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerType','ReactComposerTopicFeedsTaggerActionType','ReactComposerTopicFeedsAutoTaggingRequester','immutable','TopicFeedsConstant'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('TopicFeedsConstant').DEFAULT_PHOTO_AUTO_TAGGING_DELAY,l=c('TopicFeedsConstant').DEFAULT_PHOTO_POLLING_DURATION,m=c('TopicFeedsConstant').DEFAULT_PHOTO_POLLING_INTERVAL,n=c('TopicFeedsConstant').DEFAULT_TEXT_AUTO_TAGGING_DELAY,o=c('TopicFeedsConstant').TOPIC_CONFIDENCE_USER_ADD,p=c('TopicFeedsConstant').TOPIC_CONFIDENCE_USER_REMOVE,q=c('TopicFeedsConstant').TOPIC_CONFIDENCE_BOOTSTRAP;i=babelHelpers.inherits(r,c('ReactComposerStoreBase'));j=i&&i.prototype;function r(){'use strict';var s=void 0;j.constructor.call(this,function(){return {autoTaggingEnabled:true,photoAutoTaggingDelay:k,photoPollingDuration:l,photoPollingInterval:m,reshareURL:null,sequenceCounter:0,topicsInfoList:c('immutable').List(),taggerEnabled:false,targetID:null,textAutoTaggingDelay:n};},function(t){if(!s)return;var u=s.validateAction(t,'composerID');if(!s.getIsTaggerEnabled(u)&&!s.$ReactComposerTopicFeedsTaggerStore1(t))return;switch(t.type){case c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED:s.$ReactComposerTopicFeedsTaggerStore2(t);break;case c('ReactComposerTopicFeedsTaggerActionType').USER_ADD_TAG:s.$ReactComposerTopicFeedsTaggerStore3(t);break;case c('ReactComposerTopicFeedsTaggerActionType').USER_REMOVE_TAG:s.$ReactComposerTopicFeedsTaggerStore4(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SERVER_UPDATE_TAGS:s.$ReactComposerTopicFeedsTaggerStore5(t);break;case c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS:s.$ReactComposerTopicFeedsTaggerStore6(t);break;case c('ReactComposerStatusActionType').SET_EDITOR_STATE:s.$ReactComposerTopicFeedsTaggerStore7(t);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerMediaUploadStore').getDispatchToken()]);s.$ReactComposerTopicFeedsTaggerStore8(t);break;case c('ReactComposerActionTypes').POST_STARTED:s.$ReactComposerTopicFeedsTaggerStore9(t);break;case c('ReactComposerActionTypes').POST_ERROR:s.$ReactComposerTopicFeedsTaggerStore10(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_COMPOSER_FEED_ID:s.$ReactComposerTopicFeedsTaggerStore11(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_TEXT_AUTO_TAGGING_DELAY:s.$ReactComposerTopicFeedsTaggerStore12(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_AUTO_TAGGING_DELAY:s.$ReactComposerTopicFeedsTaggerStore13(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_DURATION:s.$ReactComposerTopicFeedsTaggerStore14(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_INTERVAL:s.$ReactComposerTopicFeedsTaggerStore15(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_DARK_LAUNCH:s.$ReactComposerTopicFeedsTaggerStore16(t);break;case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:s.$ReactComposerTopicFeedsTaggerStore17(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_RESHARE_URL:s.$ReactComposerTopicFeedsTaggerStore18(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_TARGET_ID:s.$ReactComposerTopicFeedsTaggerStore19(t);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:s.$ReactComposerTopicFeedsTaggerStore20(t);break;}});s=this;}r.prototype.getComposerFeedID=function(s){'use strict';return this.getComposerData(s).composerFeedID;};r.prototype.getUserAddedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence===o;}).map(function(t){return t.feed_id;});};r.prototype.getUserRemovedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence===p;}).map(function(t){return t.feed_id;});};r.prototype.getTaggedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence>0;}).map(function(t){return t.feed_id;});};r.prototype.getIsTaggerEnabled=function(s){'use strict';return this.getComposerData(s).taggerEnabled;};r.prototype.getIsDarkLaunch=function(s){'use strict';return this.getComposerData(s).isDarkLaunch;};r.prototype.getReshareURL=function(s){'use strict';return this.getComposerData(s).reshareURL;};r.prototype.getTargetID=function(s){'use strict';return this.getComposerData(s).targetID;};r.prototype.getNextPredictionSequenceNumber=function(s){'use strict';return ++this.getComposerData(s).sequenceCounter;};r.prototype.$ReactComposerTopicFeedsTaggerStore1=function(s){'use strict';return (s.type===c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED||s.type===c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS);};r.prototype.$ReactComposerTopicFeedsTaggerStore2=function(s){'use strict';var t=this.validateAction(s,['composerID','isMounted']),u=t[0],v=t[1],w=this.getComposerData(u);w.taggerEnabled=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore3=function(s){'use strict';var t=this.validateAction(s,['composerID','topicID']),u=t[0],v=t[1],w=this.getComposerData(u),x={feed_id:v,confidence:o,context:''},y=w.topicsInfoList.findIndex(function(aa){return aa.feed_id===v;});if(y>=0){var z=w.topicsInfoList.get(y);!(z.confidence===p)?h(0):void 0;x.context=z.context;w.topicsInfoList=w.topicsInfoList['delete'](y);}w.topicsInfoList=w.topicsInfoList.push(x);w.autoTaggingEnabled=false;c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(u);this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore4=function(s){'use strict';var t=this.validateAction(s,['composerID','topicID']),u=t[0],v=t[1],w=this.getComposerData(u),x=w.topicsInfoList.findIndex(function(z){return z.feed_id===v;});!(x>=0)?h(0):void 0;var y={feed_id:v,confidence:p,context:w.topicsInfoList.get(x).context};w.topicsInfoList=w.topicsInfoList['delete'](x);w.topicsInfoList=w.topicsInfoList.push(y);c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(u);c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);w.autoTaggingEnabled=false;this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore5=function(s){'use strict';var t=this.validateAction(s,['composerID','topics']),u=t[0],v=t[1],w=this.getComposerData(u);if(w.autoTaggingEnabled){w.topicsInfoList=c('immutable').List(v);this.emitChange(u);}};r.prototype.$ReactComposerTopicFeedsTaggerStore6=function(s){'use strict';var t=this.validateAction(s,['composerID','topicIDs']),u=t[0],v=t[1],w=this.getComposerData(u);w.topicsInfoList=c('immutable').List(v.map(function(x){return {feed_id:x,confidence:q,context:''};}));this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore7=function(s){'use strict';var t=this.validateAction(s,['composerID','editorState']),u=t[0],v=t[1];if(this.getComposerData(u).autoTaggingEnabled&&v.getCurrentContent().getPlainText().length>0)c('ReactComposerTopicFeedsAutoTaggingRequester').sendThrottledRequest(u,this.getComposerData(u).textAutoTaggingDelay);};r.prototype.$ReactComposerTopicFeedsTaggerStore11=function(s){'use strict';var t=this.validateAction(s,['composerID','composerFeedID']),u=t[0],v=t[1];this.getComposerData(u).composerFeedID=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore8=function(s){'use strict';var t=this.validateAction(s,'composerID');if(this.getComposerData(t).autoTaggingEnabled)c('ReactComposerTopicFeedsAutoTaggingRequester').sendPhotoPollingRequest(t,this.getComposerData(t).photoPollingDuration,this.getComposerData(t).photoPollingInterval);};r.prototype.$ReactComposerTopicFeedsTaggerStore9=function(s){'use strict';var t=this.validateAction(s,'composerID');c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(t);c('ReactComposerTopicFeedsAutoTaggingRequester').updatePostStatus(t,true);this.getComposerData(t).autoTaggingEnabled=false;};r.prototype.$ReactComposerTopicFeedsTaggerStore10=function(s){'use strict';var t=this.validateAction(s,'composerID');this.getComposerData(t).autoTaggingEnabled=true;c('ReactComposerTopicFeedsAutoTaggingRequester').updatePostStatus(t,false);};r.prototype.$ReactComposerTopicFeedsTaggerStore12=function(s){'use strict';var t=this.validateAction(s,['composerID','delay']),u=t[0],v=t[1];this.getComposerData(u).textAutoTaggingDelay=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore13=function(s){'use strict';var t=this.validateAction(s,['composerID','delay']),u=t[0],v=t[1];this.getComposerData(u).photoAutoTaggingDelay=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore14=function(s){'use strict';var t=this.validateAction(s,['composerID','duration']),u=t[0],v=t[1];this.getComposerData(u).photoPollingDuration=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore15=function(s){'use strict';var t=this.validateAction(s,['composerID','interval']),u=t[0],v=t[1];this.getComposerData(u).photoPollingInterval=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore17=function(s){'use strict';var t=this.validateAction(s,['composerID','taggerID','taggerData']),u=t[0],v=t[1],w=t[2];if(v===c('ReactComposerTaggerType').ACTIVITY&&w.object||v===c('ReactComposerTaggerType').PEOPLE&&w.length>0||v===c('ReactComposerTaggerType').LOCATION&&w.place)c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore16=function(s){'use strict';var t=this.validateAction(s,['composerID','isDarkLaunch']),u=t[0],v=t[1];this.getComposerData(u).isDarkLaunch=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore18=function(s){'use strict';var t=this.validateAction(s,['composerID','reshareURL']),u=t[0],v=t[1];this.getComposerData(u).reshareURL=v;c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore19=function(s){'use strict';var t=this.validateAction(s,['composerID','targetID']),u=t[0],v=t[1];this.getComposerData(u).targetID=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore20=function(s){'use strict';var t=this.validateAction(s,'composerID');c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(t);};f.exports=new r();}),null);
__d('ReactComposerPostDataUtils',['AdsAPITargetFields','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerAudienceStore','ReactComposerCTAStore','ReactComposerCustomConfigStore','ReactComposerLocationAttachmentStore','ReactComposerLoggingStore','ReactComposerMarkdownStore','ReactComposerMediaUploadType','ReactComposerMinutiaeAttachmentStore','ReactComposerMultilingualStatusStore','ReactComposerPhotoStore','ReactComposerPostUtilsCore','ReactComposerProfileBadgeStore','ReactComposerPromptsStore','ReactComposerScrapedAttachmentStore','ReactComposerSessionMetricsStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerSelectedImagesStore','ReactComposerSlideshowAudioStore','ReactComposerSlideshowStore','ReactComposerTopicFeedsTaggerStore','ComposerXMarauderLogger','PagesComposerBoostedPostsStore','PhotoEditorLoggingConstants','PhotoEditorSaveStates','PlaceAttachmentSetting','PUWApplications','SlideshowUtil','isNumberLike','StorySurfaces'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getPostData:function i(j){var k=j.composerID,l=j.targetID,m=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').PEOPLE)||[],n=[],o=[];m.forEach(function(za){n.push(za.getTitle());o.push(za.getUniqueID());});var p=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').PRODUCT)||[];p=p.filter(function(za){return !za.getAuxiliaryData().isFacebox;});var q=p.map(function(za){return za.getUniqueID();}),r=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').ACTIVITY),s=[],t=[],u=[],v;if(r&&r.action&&r.object){s.push(r.action.getUniqueID());v=r.actionIconID;if(c('isNumberLike')(r.object.getUniqueID())){t.push(r.object.getUniqueID());u.push('');}else u.push(r.object.getTitle());}var w=!c('ReactComposerMinutiaeAttachmentStore').getMarkup(k),x=c('ReactComposerLocationAttachmentStore').getMarkup(k)!==null?c('PlaceAttachmentSetting').SHOW_ATTACHMENT:c('PlaceAttachmentSetting').HIDE_ATTACHMENT,y=c('ReactComposerMultilingualStatusStore').getMessages(k),z=c('ReactComposerMultilingualStatusStore').getLanguageDialects(k),aa=c('ReactComposerMultilingualStatusStore').getSpecifiedPostLanguage(k),ba=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').LOCATION),ca=ba?ba.place:null,da=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').BACKDATE)||{},ea={year:this._sanitizeDateField(da.year),month:this._sanitizeDateField(da.month),day:this._sanitizeDateField(da.day),hour:this._sanitizeDateField(da.hour),minute:this._sanitizeDateField(da.minute)},fa=ba&&ba.implicitLocation?ba.implicitLocation.citypageid:null,ga=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').SPONSOR)||[],ha=[];ga.forEach(function(za){ha.push(za.getUniqueID());});var ia,ja=c('ReactComposerAudienceStore').getLegacyAudience(k);if(ja)ia=[{value:ja}];var ka=j.useHints,la=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').TARGETING),ma=la?ka?la.hints:la.targeting:null;if(ma){if(!ka&&ma.fan_of)ma.fan_of=ma.fan_of.map(function(za){return za.id;});if(ka&&ma[c('AdsAPITargetFields').INTERESTS])ma[c('AdsAPITargetFields').INTERESTS]=ma[c('AdsAPITargetFields').INTERESTS].map(function(za){return za.id;});}var na=la?la.gating:null;if(j.composerConfig.contextInfo.stopFeedDistributionDateFormatted){if(!ma)ma={};ma['relevant-until-date']=j.composerConfig.contextInfo.stopFeedDistributionDateFormatted;ma['relevant-until-time']=j.composerConfig.contextInfo.stopFeedDistributionTimeFormatted;}var oa=c('PagesComposerBoostedPostsStore').getConfig(k),pa=c('ReactComposerScrapedAttachmentStore').getAttachmentConfig(k);if(pa===null)pa=c('ReactComposerCTAStore').getAttachmentConfig(k);var qa=!!c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').MARKDOWN).isMarkdown||c('ReactComposerMarkdownStore').isMarkdownEnabled(k),ra=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').CONTENT_WARNINGS);if(ra!=null)ra=ra.map(function(za){return za.getUniqueID();});var sa=null;if(!c('ReactComposerTopicFeedsTaggerStore').getIsDarkLaunch(k))sa=c('ReactComposerTopicFeedsTaggerStore').getTaggedTopics(k).toArray();var ta=c('ReactComposerPromptsStore').getPromptData(k),ua=c('ReactComposerCustomConfigStore').isFeedOnlyPost(k)?[c('StorySurfaces').TIMELINE]:null,va=c('ReactComposerSessionMetricsStore').getComposerStartTime(k),wa=null;if(va)wa=Math.round((Date.now()-va)/1000);var xa=c('ComposerXMarauderLogger').getInstance(k),ya=xa&&xa.composerSourceSurface;return Object.assign({action_type_id:s,attachment:pa,backdated_date:ea,boosted_post_config:oa,audience:ia,composer_entry_time:c('ReactComposerSessionMetricsStore').getComposerEntryTime(k),composer_session_id:c('ReactComposerLoggingStore').getSessionID(k),composer_session_duration:wa,composer_source_surface:ya,composer_type:j.composerType,composertags_city:fa,composertags_place:ca&&ca.getUniqueID()||fa,composertags_place_name:ca&&ca.getTitle(),composertags_with:o,composertags_sponsors:ha,composertags_product_items:q,content_warnings:ra,feed_targeted_data:ma,feed_topics:sa,hide_object_attachment:w,icon_id:v,is_explicit_place:!!ca,is_markdown:qa,is_q_and_a:c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,c('ReactComposerAttachmentType').QANDA),is_profile_badge_post:c('ReactComposerProfileBadgeStore').hasProfileBadge(k),multilingual_statuses:y,multilingual_status_langs:z,multilingual_specified_lang:aa,num_keystrokes:c('ReactComposerSessionMetricsStore').getKeystrokeCount(k),num_pastes:c('ReactComposerSessionMetricsStore').getPasteCount(k),object_id:t,object_str:u,place_attachment_setting:x,post_surfaces_blacklist:ua,privacyx:c('ReactComposerAudienceStore').getAudience(k),prompt_id:ta?ta.promptID:null,prompt_tracking_string:ta?ta.trackingString:null,ref:c('ReactComposerStore').getRef(k),tagger_session_id:ba&&ba.sessionID,target_type:c('ReactComposerStore').getTargetType(k),targeted_privacy_data:na,text_composertags_with:n,xhpc_message:c('ReactComposerStatusStore').getMessage(k),xhpc_message_text:c('ReactComposerStatusStore').getMessageText(k),is_forced_reshare_of_post:pa&&pa.reshare_original_post,xc_disable_config:{xc_disable_link:pa&&pa.readOnly}},this._getScrapedAttachmentData(pa),c('ReactComposerPostUtilsCore').getCoreData(k,j.composerConfig.contextInfo,l));},getMediaUploadsData:function i(j,k){var l=c('ReactComposerPhotoStore').getPhotos(j);k=k.filter(function(m){return m.mediaType===c('ReactComposerMediaUploadType').VIDEO?true:l.some(function(n){return n.id===m.photoID;});});return this.getMediaDataWithoutFiltering(j,k);},getMediaDataWithoutFiltering:function i(j,k){var l=k.map(function(o){return o.photoID;}).toArray(),m=c('ReactComposerSlideshowStore').isSlideshowSelected(j),n=null;if(m)n=this._getSlideshowSpec(j);return Object.assign({composer_unpublished_photo:l,qn:c('ReactComposerLoggingStore').getSessionID(j),slideshow_spec:n,waterfallxapp:c('PUWApplications').WEB_REACT_COMPOSER,xy_tags:this._getXYTagData(j)},this._getCreativeEditingToolsData(k));},_sanitizeDateField:function i(j){return !j||j===-1||j===0?null:j;},_getSlideshowSpec:function i(j){var k=c('ReactComposerSlideshowAudioStore').getAudioFile(j),l=c('ReactComposerSlideshowAudioStore').getSelectedStorylineMood(j),m=null;if(l!=null)m=l.moodID;var n=c('ReactComposerSlideshowStore').getDurationInMS(j),o=c('ReactComposerSlideshowStore').getTransitionInMS(j),p=c('ReactComposerSelectedImagesStore').getNumberOfImages(j),q=c('SlideshowUtil').getTotalLengthInSec(n,p),r=c('SlideshowUtil').getDurationParam(p,q,o);if(k)k=c('SlideshowUtil').getAudioFileParam(k,q);return {photo_ids:c('ReactComposerSelectedImagesStore').getPhotoIDs(j),images_crops:c('ReactComposerSelectedImagesStore').getImagesCrops(j),audio_file:k,photo_duration:r.durationInMS,photo_transition_duration:r.transitionInMS,storyline_mood_id:m};},_getXYTagData:function i(j){var k=c('ReactComposerPhotoStore').getAllTaggedFaceboxes(j).map(function(m){return {fbid:m.get('photoID'),x:m.get('x'),y:m.get('y'),name:m.get('taggedValue'),subject:m.get('taggedSubjectID'),from_facebox:true,source:m.get('isMagicTag')?'composerx_suggestions':'composerx_flyout'};}),l=c('ReactComposerPhotoStore').getAllXYTags(j).map(function(m){return {fbid:m.get('photoID'),x:m.get('x'),y:m.get('y'),name:m.get('name'),subject:m.get('subject'),from_facebox:m.get('from_facebox'),source:m.get('source')};});return k.concat(l);},_getCreativeEditingToolsData:function i(j){var k={},l={},m={},n={};j.forEach(function(p){var q=p.get('photoID'),r=c('PhotoEditorSaveStates').getLoggingData(p.get('originalPhotoID'));if(r){k[q]=r.hasFilter?true:null;l[q]=r.hasCrop?true:null;m[q]=r.textOverlays;n[q]=r.stickers;}});var o={};o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_HAS_FILTER]=k;o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_HAS_CROP]=l;o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_TEXT_OVERLAY]=m;o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_STICKER]=n;return o;},_getScrapedAttachmentData:function i(j){if(!j||!j.params||j.readOnly)return null;return {xc_share_params:JSON.stringify(j.params),xc_share_target_type:j.type,xc_share_images:j.params.images,xc_share_title:j.params.title,xc_share_summary:j.params.summary,xc_link_url:j.params.url};}};f.exports=h;}),null);
__d("PhotoEditorImageData",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j,k,l,m){"use strict";this.r=j;this.g=k;this.b=l;this.a=m;}h.fromArray=function(j,k){return new h(j[k],j[k+1],j[k+2],j[k+3]);};function i(j){"use strict";this.image_data=j;this.width=j.width;this.height=j.height;this.array=j.data;}i.prototype.getData=function(){"use strict";return this.image_data;};i.prototype.getWidth=function(){"use strict";return this.width;};i.prototype.getHeight=function(){"use strict";return this.height;};i.prototype.getPixel=function(j,k){"use strict";var l=this.getIndex(j,k);return h.fromArray(this.array,l);};i.prototype.setPixel=function(j,k,l){"use strict";var m=this.getIndex(j,k);this.array[m]=l.r;this.array[m+1]=l.g;this.array[m+2]=l.b;this.array[m+3]=l.a;};i.prototype.getIndex=function(j,k){"use strict";return 4*(j+k*this.width);};i.prototype.forEach=function(j){"use strict";for(var k=0;k<this.getWidth();k++)for(var l=0;l<this.getHeight();l++)this.setPixel(k,l,j(this.getPixel(k,l)));};i.Pixel=h;f.exports=i;}),null);
__d('PhotoEditorCanvas',['BlobFactory','DOM','PhotoEditorImageData','PhotoResizeModeConst','Vector','sprintf'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this._editor=i;this._canvas=c('DOM').create('canvas');this._ctx=this._canvas.getContext('2d');this._drawHandler=null;}h.prototype.setImageContent=function(i){'use strict';this._canvas.width=i.width;this._canvas.height=i.height;this._ctx.drawImage(i,0,0);return this;};h.prototype.drawGraphic=function(){'use strict';this._ctx.drawImage.apply(this._ctx,arguments);return this;};h.prototype.isBlobSupported=function(){'use strict';return !!this._canvas.toBlob;};h.prototype.getElement=function(){'use strict';return this._canvas;};h.prototype.getDimensions=function(){'use strict';return new (c('Vector'))(this._canvas.width,this._canvas.height,'document');};h.prototype.getWidth=function(){'use strict';return this._canvas.width;};h.prototype.getHeight=function(){'use strict';return this._canvas.height;};h.prototype.getContext=function(){'use strict';return this._ctx;};h.prototype.setWidth=function(i){'use strict';this._canvas.width=i;return this;};h.prototype.setHeight=function(i){'use strict';this._canvas.height=i;return this;};h.prototype.toBlob=function(i){'use strict';if(this.isBlobSupported()){this._canvas.toBlob(i);return;}this.getBlobFromDataURL(i);};h.prototype.getBlobFromDataURL=function(i){'use strict';var j=this.toDataURL('image/png'),k=j.match(/^data:(.*?);base64,/),l=k[1],m=j.substr(k[0].length),n=b.atob(m),o=new ArrayBuffer(n.length),p=new Uint8Array(o);for(var q=0;q<n.length;q++)p[q]=n.charCodeAt(q);var r=c('BlobFactory').getBlob([o],{type:l});i(r);};h.prototype.toBlobURL=function(i){'use strict';this.toBlob(function(j){i(b.URL.createObjectURL(j));});};h.prototype.toURL=function(i){'use strict';if(this.isBlobSupported()){this.toBlobURL(i);return;}i(this.toDataURL());};h.prototype.toDataURL=function(i){'use strict';return this._canvas.toDataURL(i);};h.prototype.resizedCopy=function(i,j){'use strict';var k=i.x/this.getWidth(),l=i.y/this.getHeight();if(j==c('PhotoResizeModeConst').CONTAIN){if(k>l){return this.scaledCopy(l);}else return this.scaledCopy(k);}else if(j==c('PhotoResizeModeConst').COVER){if(k<l){return this.scaledCopy(l);}else return this.scaledCopy(k);}else throw new Error('mode must be one of PhotoResizeModeConst');};h.prototype.scaledCopy=function(i){'use strict';var j=this._canvas.width*i,k=this._canvas.height*i;return new h().setWidth(j).setHeight(k).drawGraphic(this._canvas,0,0,j,k);};h.prototype.copy=function(){'use strict';return this.scaledCopy(1);};h.prototype.getPixelColor=function(i,j,k){'use strict';var l=new (c('PhotoEditorImageData'))(this.getImageData(i,j,1,1)).getPixel(0,0);if(k)l=k(l);return c('sprintf')('rgba(%s,%s,%s,%s)',l.r,l.g,l.b,l.a);};h.prototype.getImageData=function(i,j,k,l){'use strict';return this._ctx.getImageData(i||0,j||0,k||this.getWidth(),l||this.getHeight());};h.prototype.putImageData=function(i,j,k){'use strict';this._ctx.putImageData(i,j||0,k||0);return this;};h.prototype.toDataURI=function(){'use strict';return this._canvas.toDataURL('image/png');};h.prototype.toBase64=function(){'use strict';var i='data:image/png;base64,',j=this.toDataURI();return j.slice(i.length);};h.prototype.applyFilter=function(i,j){'use strict';this.putImageData(new i(this).run(j));};h.prototype.enableDrawing=function(i,j){'use strict';if(!this._editor)return;this.disableDrawing();this._drawHandler=new i(this._editor,j).start();return this._drawHandler;};h.prototype.setDrawingFillStyle=function(i){'use strict';if(!this._drawHandler)return;this._drawHandler.setFillStyle(i);};h.prototype.setFillStyle=function(i){'use strict';this._ctx.fillStyle=i;};h.prototype.disableDrawing=function(){'use strict';if(!this._drawHandler)return;this._drawHandler.stop();this._drawHandler=null;};h.prototype.clear=function(){'use strict';this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height);return this;};h.prototype.crop=function(i,j,k,l){'use strict';var m=new h().setWidth(k).setHeight(l);m.drawGraphic(this._canvas,Math.max(0,i),Math.max(0,j),k,l,0,0,k,l);this.setImageContent(m.getElement());return this;};h.prototype.fillText=function(i,j,k,l,m,n){'use strict';this._ctx.font=j;if(n){this._canvas.width=this._ctx.measureText(i).width;this._ctx.font=j;}this._ctx.textBaseline='top';this._ctx.fillStyle=k;this._ctx.fillText(i,l,m);return this;};h.prototype.fillCircle=function(i,j,k,l){'use strict';this._ctx.fillStyle=l||'black';this._ctx.beginPath();this._ctx.arc(i,j,k,0,Math.PI*2);this._ctx.closePath();this._ctx.fill();};h.prototype.fillRect=function(i,j,k,l,m){'use strict';this._ctx.fillStyle=m||'black';this._ctx.fillRect(i||0,j||0,k||this._canvas.width,l||this._canvas.height);return this;};f.exports=h;}),null);
__d('PhotoEditorFont',['PhotoEditorConfig','sprintf'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('PhotoEditorConfig').Constants;function i(j,k,l){'use strict';this.$PhotoEditorFont1=j||h.DEFAULT_FONT_FAMILY;this.$PhotoEditorFont2=k||h.DEFAULT_FONT_SIZE;this.$PhotoEditorFont3=l||h.DEFAULT_FONT_METRIC;}i.prototype.setFamily=function(j){'use strict';this.$PhotoEditorFont1=j;};i.prototype.getFamily=function(){'use strict';return this.$PhotoEditorFont1;};i.prototype.setSize=function(j){'use strict';this.$PhotoEditorFont2=j;};i.prototype.getSize=function(){'use strict';return this.$PhotoEditorFont2;};i.prototype.setMetric=function(j){'use strict';this.$PhotoEditorFont3=j;};i.prototype.getMetric=function(){'use strict';return this.$PhotoEditorFont3;};i.prototype.toString=function(){'use strict';return c('sprintf')('%s%s %s',this.$PhotoEditorFont2,this.$PhotoEditorFont3,this.$PhotoEditorFont1);};i.prototype.copy=function(){'use strict';return new i(this.$PhotoEditorFont1,this.$PhotoEditorFont2,this.$PhotoEditorFont3);};i.getDefault=function(){return new i();};f.exports=i;}),null);
__d('PhotoEditorGraphic',['cx','ArbiterMixin','PhotoEditorCanvas','CSS','DOM','Draggable','Event','PhotoEditorFont','Rect','SimpleDrag','Style','SubscriptionsHandler','UserAgent_DEPRECATED','Vector','clamp','emptyFunction','mixin','throttle'],(function a(b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r;if(c.__markCompiled)c.__markCompiled();var s=0,t=[],u=.7,v=.25,w=30,x=50,y=4,z=.8,aa=150,ba=5,ca=function ma(na){return {'-webkit-transform':na,'-moz-transform':na,'-ms-transform':na,transform:na};},da=function ma(na,oa){var pa=na.x*oa.x+na.y*oa.y,qa=pa/(na.magnitude()*oa.magnitude());qa=c('clamp')(qa,-1,1);var ra=Math.acos(qa)*(180/Math.PI),sa=na.x*oa.y-oa.x*na.y;if(sa<0)ra*=-1;return ra;};function ea(){'use strict';this.root=c('DOM').create('div');c('CSS').addClass(this.root,"_5g8y");c('CSS').addClass(this.root,"_5a2z");var ma=c('DOM').create('div');c('CSS').addClass(ma,"_2fb7");c('CSS').addClass(ma,"_5a2-");this.root.appendChild(ma);this.$FreeFormEditButton1=c('emptyFunction');this.$FreeFormEditButton2=c('emptyFunction');this.$FreeFormEditButton3=c('emptyFunction');var na=new (c('SimpleDrag'))(this.root);na.subscribe('start',function(oa,event){if(event.button!==0)return false;this.$FreeFormEditButton4=true;c('CSS').addClass(this.root,"_2fb8");this.$FreeFormEditButton1(event);}.bind(this));na.subscribe('update',c('throttle')(this.$FreeFormEditButton5,w,this));na.subscribe('end',function(oa,event){this.$FreeFormEditButton4=false;c('CSS').removeClass(this.root,"_2fb8");c('Style').apply(this.root,ca('translate(50%, -50%)'));this.$FreeFormEditButton2(event);}.bind(this));}ea.prototype.$FreeFormEditButton5=function(ma,event){'use strict';if(!this.$FreeFormEditButton4)return;this.$FreeFormEditButton3(event);};ea.prototype.setDragStartHandler=function(ma){'use strict';this.$FreeFormEditButton1=ma;return this;};ea.prototype.setDragMoveHandler=function(ma){'use strict';this.$FreeFormEditButton3=ma;return this;};ea.prototype.setDragEndHandler=function(ma){'use strict';this.$FreeFormEditButton2=ma;return this;};ea.prototype.getElement=function(){'use strict';return this.root;};function fa(){'use strict';this.$DOMDrawer1=new (c('Vector'))();this.$DOMDrawer2=new XMLSerializer();this.$DOMDrawer3=undefined;}fa.prototype.setDimensions=function(ma){'use strict';this.$DOMDrawer1=ma;return this;};fa.prototype.render=function(ma){'use strict';var na='<svg xmlns="http://www.w3.org/2000/svg" '+'width="'+this.$DOMDrawer1.x+'" '+'height="'+this.$DOMDrawer1.y+'">'+'<foreignObject width="100%" height="100%">'+'<div xmlns="http://www.w3.org/1999/xhtml">'+this.$DOMDrawer2.serializeToString(ma)+'</div>'+'</foreignObject>'+'</svg>',oa=new Image();oa.width=this.$DOMDrawer1.x;oa.height=this.$DOMDrawer1.y;oa.src=this.$DOMDrawer4(na);return oa;};fa.prototype.$DOMDrawer4=function(ma){'use strict';return 'data:image/svg+xml;base64,'+b.btoa(ma);};i=babelHelpers.inherits(ga,c('mixin')(c('ArbiterMixin')));j=i&&i.prototype;function ga(ma,na,oa){'use strict';j.constructor.call(this);this.id=s++;this.photoEditor=ma;t.push(this);this.root=c('DOM').create('div');this.maxWidth=na;this.maxHeight=oa;c('CSS').addClass(this.root,"_55gm");var pa=c('DOM').create('div');c('CSS').addClass(pa,"_5g8y");c('CSS').addClass(pa,"_bbn");var qa=c('DOM').create('div');c('CSS').addClass(qa,"_2fb7");c('CSS').addClass(qa,"_bbo");pa.appendChild(qa);this.root.appendChild(pa);this.$Graphic1=c('DOM').create('div');c('CSS').addClass(this.$Graphic1,"_5lzw");this.$Graphic1.appendChild(this.root);this.$Graphic2=new (c('Vector'))(0,0,'document');this.subscriptionsHandler=new (c('SubscriptionsHandler'))();this.subscriptionsHandler.addSubscriptions(c('Event').listen(pa,'click',this.remove.bind(this)),c('Event').listen(pa,'mousedown',function(event){c('CSS').addClass(pa,"_2fb8");event.stopPropagation();}),c('Event').listen(pa,'mouseleave',function(event){c('CSS').removeClass(pa,"_2fb8");}));}ga.prototype.serialize=function(){'use strict';var ma=this.getPos(),na=this.getDimensions(),oa=this.photoEditor.getCanvasDimensions();return {type:this.constructor,left:ma.x/oa.x,top:ma.y/oa.y,width:na.x/oa.x,height:na.y/oa.y,rotation:this.getRotation()};};ga.prototype.initFromSerializedState=function(ma){'use strict';var na=this.photoEditor.getCanvasDimensions();this.setDimensions(new (c('Vector'))(ma.width*na.x,ma.height*na.y));this.setPos(new (c('Vector'))(ma.left*na.x,ma.top*na.y));this.setRotation(ma.rotation);};ga.prototype.onActive=function(){'use strict';this.__draggable=this.__draggable||new (c('Draggable'))(this.$Graphic1).setUseAbsolute(true).setUseScroller(false).addHandle(this.root).setDragHandler(this.onDrag.bind(this)).setDropHandler(this.onDrop.bind(this));c('CSS').addClass(this.root,"_36w9");this.updateDraggableBoundingBox();};ga.prototype.onInactive=function(){'use strict';this.__draggable&&this.__draggable.destroy();this.__draggable=null;c('CSS').removeClass(this.root,"_36w9");};ga.prototype.updateDraggableBoundingBox=function(){'use strict';if(this.__draggable){var ma=this.getDimensions(),na=this.photoEditor.getGraphicsLayer(),oa=c('Vector').getElementPosition(na),pa=c('Vector').getElementDimensions(na),qa=new (c('Rect'))(oa.y-ma.y,oa.x+pa.x+ma.x,oa.y+pa.y+ma.y,oa.x-ma.x);this.__draggable.setBoundingBox(qa);}};ga.prototype.onBeforeSuddenTransformation=function(){'use strict';};ga.prototype.onAfterSuddenTransformation=function(){'use strict';};ga.prototype.getElement=function(){'use strict';return this.$Graphic1;};ga.prototype.getInitialDimensions=function(){'use strict';return new (c('Vector'))(this.maxWidth,this.maxHeight,'document').mul(v);};ga.prototype.getPos=function(){'use strict';return this.$Graphic2;};ga.prototype.getCenterPos=function(){'use strict';return this.getPos().add(this.getDimensions().div(2));};ga.prototype.getCenterCoordinates=function(){'use strict';return c('Vector').getElementPosition(this.$Graphic1).add(this.getDimensions().div(2));};ga.prototype.isRemoved=function(){'use strict';return !this.$Graphic1.parentNode;};ga.prototype.setPos=function(ma){'use strict';this.$Graphic2=ma;c('Style').apply(this.$Graphic1,{left:this.$Graphic2.x+'px',top:this.$Graphic2.y+'px'});};ga.prototype.updatePos=function(){'use strict';this.setPos(this.getNewPos());};ga.prototype.getNewPos=function(){'use strict';return new (c('Vector'))(c('Style').get(this.$Graphic1,'left'),c('Style').get(this.$Graphic1,'top'));};ga.prototype.setDimensions=function(ma){'use strict';c('Style').apply(this.root,{width:ma.x+'px',height:ma.y+'px'});this.updateDraggableBoundingBox();};ga.prototype.remove=function(event){'use strict';this.subscriptionsHandler.release();c('DOM').remove(this.$Graphic1);this.photoEditor.removeGraphic(this);};ga.prototype.getDrawableObj=function(){'use strict';};ga.prototype.getDimensions=function(){'use strict';return c('Vector').getElementDimensions(this.$Graphic1);};ga.prototype.getDimensionsForDrawable=function(){'use strict';return c('Vector').getElementDimensions(this.root);};ga.prototype.getRotation=function(){'use strict';return 0;};ga.prototype.setRotation=function(ma){'use strict';};ga.prototype.onDrag=function(ma){'use strict';};ga.prototype.onDrop=function(ma){'use strict';this.updatePos();};k=babelHelpers.inherits(ha,ga);l=k&&k.prototype;function ha(ma,na,oa,pa,qa){'use strict';l.constructor.call(this,ma,oa,pa);this.$ImageGraphic1=c('DOM').create('div');c('CSS').addClass(this.$ImageGraphic1,"_36wa");this.root.appendChild(this.$ImageGraphic1);this.$ImageGraphic2=oa/pa;this.$ImageGraphic3=0;this.$ImageGraphic4=0;this.$ImageGraphic5=true;this.$ImageGraphic6=true;this.$ImageGraphic7=Math.sqrt(2);this.$ImageGraphic8=false;this.$ImageGraphic9=new Image();this.$ImageGraphic9.crossOrigin='anonymous';c('Style').apply(this.$ImageGraphic9,{maxWidth:oa+'px',maxHeight:pa+'px'});c('CSS').addClass(this.root,"_55jn");c('CSS').addClass(this.root,'loading');this.$ImageGraphic10=c('DOM').create('div');c('CSS').addClass(this.$ImageGraphic10,"_5a2y");if(!qa)this.$ImageGraphic11();this.subscriptionsHandler.addSubscriptions(c('Event').listen(this.$ImageGraphic9,'load',this.$ImageGraphic12.bind(this)),c('Event').listen(this.root,'dragenter',c('Event').prevent),c('Event').listen(this.root,'dragover',c('Event').prevent),c('Event').listen(this.$ImageGraphic1,'mousedown',this.$ImageGraphic13.bind(this)));this.$ImageGraphic9.src=na;this.imageURL=na;this.setDimensions(this.getInitialDimensions());}ha.prototype.serialize=function(){'use strict';return babelHelpers['extends']({},l.serialize.call(this),{imageURL:this.imageURL});};ha.prototype.getDrawableObj=function(){'use strict';return this.$ImageGraphic9;};ha.prototype.onDragStart=function(ma){'use strict';l.onDragStart.call(this,ma);ma.dataTransfer.setData('text/plain',this.$ImageGraphic9.src);};ha.prototype.$ImageGraphic11=function(){'use strict';var ma=new ea();this.$ImageGraphic10.appendChild(ma.getElement());this.root.appendChild(this.$ImageGraphic10);this.subscriptionsHandler.addSubscriptions(c('Event').listen(ma.getElement(),'mousedown',function(event){event.stopPropagation();}));ma.setDragStartHandler(function(){this.$ImageGraphic14=this.getCenterCoordinates();this.$ImageGraphic15();}.bind(this)).setDragMoveHandler(this.$ImageGraphic16.bind(this)).setDragEndHandler(function(){this.$ImageGraphic3=this.$ImageGraphic4;this.$ImageGraphic17();this.$ImageGraphic18();}.bind(this));this.$ImageGraphic19=ma;};ha.prototype.$ImageGraphic16=function(event){'use strict';var ma=c('Vector').getEventPosition(event),na=this.getDimensions(),oa=na.magnitude(),pa=na.div(oa),qa=this.$ImageGraphic14,ra=qa.distanceTo(ma),sa=c('clamp')(ra*2,x,Math.max(this.maxWidth,this.maxHeight))*this.$ImageGraphic7,ta=pa.mul(sa);ta.x=ta.y*this.$ImageGraphic20;var ua=ta.sub(na);if(ua.magnitude()>y){var va=this.getPos().sub(ua.div(2));this.setDimensions(ta);this.setPos(va);}if(this.$ImageGraphic5===true){var wa=ma.sub(qa),xa=pa.mul(1,-1),ya=da(xa,wa);this.$ImageGraphic21(ya);}this.updatePos();if(this.$ImageGraphic22)this.$ImageGraphic22();};ha.prototype.setPostFreeformEditDragHandler=function(ma){'use strict';this.$ImageGraphic22=ma;};ha.prototype.$ImageGraphic21=function(ma){'use strict';this.$ImageGraphic4=this.$ImageGraphic3+ma;c('Style').apply(this.$ImageGraphic1,ca('rotate('+this.$ImageGraphic4+'deg)'));this.$ImageGraphic23(this.$ImageGraphic24+ma);c('Style').apply(this.$ImageGraphic19.getElement(),ca('translate(50%, -50%) rotate('+ma+'deg)'));};ha.prototype.$ImageGraphic18=function(){'use strict';this.$ImageGraphic23(this.$ImageGraphic24);};ha.prototype.$ImageGraphic17=function(){'use strict';c('Style').set(this.$ImageGraphic10,'transition','transform 0.3s cubic-bezier(.08,.98,.15,1.09)');};ha.prototype.$ImageGraphic15=function(){'use strict';c('Style').set(this.$ImageGraphic10,'transition','');};ha.prototype.$ImageGraphic23=function(ma){'use strict';c('Style').apply(this.$ImageGraphic10,ca('rotate('+ma+'deg) '+'translateX('+this.getDimensions().magnitude()/(2*this.$ImageGraphic7)+'px) '+'rotate('+ -1*ma+'deg)'));};ha.prototype.$ImageGraphic13=function(event){'use strict';this.photoEditor.setActiveGraphic(this);};ha.prototype.$ImageGraphic12=function(){'use strict';c('CSS').removeClass(this.root,'loading');c('CSS').addClass(this.root,'loaded');this.$ImageGraphic2=this.$ImageGraphic9.width/this.$ImageGraphic9.height;var ma=new (c('PhotoEditorCanvas'))();ma.setImageContent(this.$ImageGraphic9);c('Style').set(this.$ImageGraphic1,'backgroundImage','url('+ma.toDataURL()+')');this.setDimensions(this.getDimensions());this.updatePos();this.inform('loaded');};ha.prototype.setPos=function(ma){'use strict';l.setPos.call(this,ma);var na=this.$ImageGraphic25();c('Style').apply(this.$ImageGraphic1,{left:na.x+'px',top:na.y+'px'});};ha.prototype.setDimensions=function(ma){'use strict';this.$ImageGraphic20=this.$ImageGraphic6?1:ma.x/ma.y;c('Style').apply(this.root,{height:(this.$ImageGraphic6?ma.x:ma.y)+'px',width:ma.x+'px'});this.$ImageGraphic24=-Math.atan2(ma.y,ma.x)*180/Math.PI;var na=this.getImageScale(),oa=new (c('Vector'))(ma.x,this.$ImageGraphic6?ma.x:ma.y).mul(na.x,na.y);c('Style').apply(this.$ImageGraphic1,{height:Math.round(oa.y)+'px',width:Math.round(oa.x)+'px'});this.$ImageGraphic18();this.updateDraggableBoundingBox();};ha.prototype.getImageScale=function(){'use strict';var ma=this.$ImageGraphic2>1?new (c('Vector'))(1,1/this.$ImageGraphic2):new (c('Vector'))(this.$ImageGraphic2,1);return ma.mul(u);};ha.prototype.$ImageGraphic25=function(){'use strict';var ma=this.getDimensions(),na=this.getDimensionsForDrawable();return ma.sub(na).div(2);};ha.prototype.getInitialDimensions=function(){'use strict';var ma=Math.min(this.maxWidth,this.maxHeight);return new (c('Vector'))(ma,ma,'document').mul(v);};ha.prototype.getDimensionsForDrawable=function(){'use strict';return c('Vector').getElementDimensions(this.$ImageGraphic1);};ha.prototype.getRotation=function(){'use strict';return this.$ImageGraphic4;};ha.prototype.setRotation=function(ma){'use strict';this.$ImageGraphic3=this.$ImageGraphic4=ma;c('Style').apply(this.$ImageGraphic1,ca('rotate('+this.$ImageGraphic3+'deg)'));};ha.prototype.setAllowRotation=function(ma){'use strict';this.$ImageGraphic5=ma;return this;};ha.prototype.setCircleBoundingBox=function(ma){'use strict';this.$ImageGraphic6=ma;this.$ImageGraphic7=ma?Math.sqrt(2):1;return this;};ha.prototype.onBeforeSuddenTransformation=function(){'use strict';this.$ImageGraphic15();};ha.prototype.onAfterSuddenTransformation=function(){'use strict';this.$ImageGraphic17();};m=babelHelpers.inherits(ia,ha);n=m&&m.prototype;function ia(ma,na,oa,pa,qa,ra){'use strict';n.constructor.call(this,ma,oa,pa,qa,ra);this.$StickerGraphic1=na;}ia.prototype.serialize=function(){'use strict';return babelHelpers['extends']({},n.serialize.call(this),{sticker_id:this.$StickerGraphic1});};o=babelHelpers.inherits(ja,ga);p=o&&o.prototype;function ja(ma,na,oa,pa,qa,ra,sa,ta,ua,va){'use strict';p.constructor.call(this,ma,ta,ua);this.$TextGraphic1=new Image();this.$TextGraphic2=pa;this.$TextGraphic3=new (c('PhotoEditorFont'))(oa);this.$TextGraphic4=null;this.$TextGraphic5=0;this.$TextGraphic6=1;this.$TextGraphic7=0;this.$TextGraphic8=new fa().setDimensions(ja.ImageSettings.DIMENSIONS);this.$TextGraphic9=ra;this.$TextGraphic10=c('DOM').create('textarea');c('Style').apply(this.$TextGraphic10,{position:'absolute',width:ja.ImageSettings.WIDTH+'px',padding:'0px',margin:'0px',border:'none',overflow:'hidden',resize:'none',background:'transparent'});var wa=c('DOM').create('div',{className:"_3bul"});c('Style').set(wa,'width',ja.ImageSettings.WIDTH+'px');wa.appendChild(this.$TextGraphic10);this.root.appendChild(wa);this.$TextGraphic11=qa||new (c('Vector'))(0,0,'document');this.focusInput=c('DOM').create('textarea',{className:"_5g78"});this.$TextGraphic12=c('DOM').create('div',{className:"_5l-2"});this.root.appendChild(this.focusInput);this.root.appendChild(this.$TextGraphic12);c('CSS').addClass(this.root,'loaded');c('CSS').addClass(this.root,"_5g79");this.subscriptionsHandler.addSubscriptions(c('Event').listen(this.$TextGraphic12,'click',function(){this.focusInput.focus();}.bind(this)),c('Event').listen(this.focusInput,'blur',function(){c('CSS').removeClass(this.root,"_5g7a");}.bind(this)),c('Event').listen(this.focusInput,'focus',function(){ma.setActiveGraphic(this);c('CSS').addClass(this.root,"_5g7a");this.adjustFontSizeFit();}.bind(this)),c('Event').listen(this.focusInput,'keyup',c('throttle')(this.$TextGraphic13,50,this)));if(!va)this.$TextGraphic14();var xa=Math.min(ta,ua)*z,ya=xa/ja.ImageSettings.WIDTH;this.$TextGraphic6=ya;this.$TextGraphic15=new (c('Vector'))(xa,ya*ja.ImageSettings.HEIGHT,'document');this.$TextGraphic15.setElementDimensions(this.root);this.updateText(na);}ja.prototype.getInitialDimensions=function(){'use strict';return this.$TextGraphic15;};ja.prototype.$TextGraphic16=function(event){'use strict';if(this.$TextGraphic17!==true){var ma=c('Vector').getEventPosition(event),na=this.getDimensions(),oa=na.magnitude(),pa=na.div(oa),qa=this.$TextGraphic18,ra=qa.distanceTo(ma),sa=this.photoEditor.getCanvasDimensions(),ta=Math.max(sa.x,sa.y),ua=c('clamp')(ra*2,x,ta),va=pa.mul(ua),wa=va.sub(na);if(wa.magnitude()>y){var xa=this.getPos().sub(wa.div(2));this.setDimensions(va);this.setPos(xa);}var ya=qa.sub(ma),za=da(na.mul(-1,1),ya);za=(za+360)%360;if(za%90<ba||za%90>90-ba)za=Math.round(za/90)*90;this.setRotation(za);this.updateDraggableBoundingBox();this.updatePos();}else{na=this.getDimensions();ma=c('Vector').getEventPosition(event);qa=this.$TextGraphic18;ra=qa.sub(ma);va=ra.mul(-2,2);wa=va.sub(na);if(wa.magnitude()>y){xa=this.getPos().sub(wa.div(2));this.setDimensions(va);this.setPos(xa);}}if(this.$TextGraphic19)this.$TextGraphic19();};ja.prototype.setPostFreeformEditDragHandler=function(ma){'use strict';this.$TextGraphic19=ma;};ja.prototype.$TextGraphic14=function(){'use strict';var ma=new ea();this.root.appendChild(ma.getElement());this.subscriptionsHandler.addSubscriptions(c('Event').listen(ma.getElement(),'mousedown',function(event){event.stopPropagation();}));ma.setDragStartHandler(function(){this.$TextGraphic18=this.getCenterCoordinates();}.bind(this)).setDragMoveHandler(this.$TextGraphic16.bind(this));};ja.prototype.setAllowChangeAspectRatio=function(ma){'use strict';this.$TextGraphic17=ma;};ja.prototype.$TextGraphic13=function(){'use strict';var ma=this.focusInput.value;if(ma.length>aa)this.focusInput.value=ma.substr(0,aa);this.updateText(this.focusInput.value);};ja.prototype.onActive=function(){'use strict';p.onActive.call(this);this.focusInput.focus();this.inform('focus');};ja.prototype.onInactive=function(){'use strict';p.onInactive.call(this);this.focusInput.blur();c('CSS').removeClass(this.root,"_5g7a");this.inform('blur');var ma=this.$TextGraphic4.replace(/^\s*/,'').replace(/\s*$/,'');if(!ma.length)this.remove();};ja.prototype.getRotation=function(){'use strict';return this.$TextGraphic5;};ja.prototype.setRotation=function(ma){'use strict';this.$TextGraphic5=ma;c('Style').apply(this.root,ca('rotate('+this.$TextGraphic5+'deg)'));};ja.prototype.setDimensions=function(ma){'use strict';this.$TextGraphic6=ma.x/ja.ImageSettings.WIDTH;c('Style').apply(this.root,{width:ma.x+'px',height:this.$TextGraphic6*ja.ImageSettings.HEIGHT+'px'});this.$TextGraphic20();};ja.prototype.getDrawableObj=function(){'use strict';return this.$TextGraphic1;};ja.prototype.getTextAlign=function(){'use strict';return this.$TextGraphic9;};ja.prototype.getText=function(){'use strict';return this.$TextGraphic4;};ja.prototype.getFillStyle=function(){'use strict';return this.$TextGraphic2;};ja.prototype.getFontFamily=function(){'use strict';return this.$TextGraphic3.getFamily();};ja.prototype.updateText=function(ma,na,oa){'use strict';if(oa)this.$TextGraphic2=oa;if(na)this.$TextGraphic3.setFamily(na);if(typeof ma==='string'){ma=ma.substr(0,aa);if(this.$TextGraphic4!=ma){this.focusInput.value=this.$TextGraphic4=ma;this.$TextGraphic10.innerText=this.$TextGraphic10.textContent=ma;}}c('Style').apply(this.focusInput,{textAlign:this.$TextGraphic9,color:this.$TextGraphic2,fontFamily:this.$TextGraphic3.getFamily()});c('Style').apply(this.$TextGraphic10,{textAlign:this.$TextGraphic9,font:this.$TextGraphic3.toString(),color:this.$TextGraphic2});this.adjustFontSizeFit();this.$TextGraphic1=this.$TextGraphic8.render(this.$TextGraphic10);};ja.prototype.adjustFontSizeFit=function(){'use strict';var ma=ja.ImageSettings.MAX_FONT;this.$TextGraphic3.setSize(ma);c('Style').apply(this.$TextGraphic10,{font:this.$TextGraphic3.toString(),height:'0px'});while(this.$TextGraphic10.scrollHeight>ja.ImageSettings.HEIGHT){this.$TextGraphic3.setSize(--ma);c('Style').set(this.$TextGraphic10,'font',this.$TextGraphic3.toString());}this.$TextGraphic7=(ja.ImageSettings.HEIGHT-this.$TextGraphic10.scrollHeight)/2;c('Style').apply(this.$TextGraphic10,{marginTop:this.$TextGraphic7+'px',marginBottom:this.$TextGraphic7+'px',height:this.$TextGraphic10.scrollHeight+'px'});this.$TextGraphic20();};ja.prototype.setFontSize=function(ma){'use strict';this.$TextGraphic3.setSize(ma);};ja.prototype.$TextGraphic20=function(){'use strict';var ma=this.$TextGraphic6,na=this.$TextGraphic10.clientHeight;setTimeout(function(){c('Style').apply(this.focusInput,{width:ja.ImageSettings.WIDTH*ma+'px',height:na*ma+'px',marginTop:this.$TextGraphic7*ma+'px',marginBottom:this.$TextGraphic7*ma+'px',fontSize:this.$TextGraphic3.getSize()*ma+'px'});}.bind(this),0);};ja.prototype.setTextAlign=function(ma){'use strict';this.$TextGraphic9=ma;this.updateText();return this;};ja.prototype.setText=function(ma){'use strict';this.updateText(ma);};ja.prototype.setFontFamily=function(ma){'use strict';this.$TextGraphic3.setFamily(ma);this.updateText();};ja.prototype.setFillStyle=function(ma){'use strict';this.$TextGraphic2=ma;this.updateText();};ja.prototype.getColorCoordinates=function(){'use strict';return new (c('Vector'))(this.$TextGraphic11.x,this.$TextGraphic11.y,'document');};ja.prototype.setColorCoordinates=function(ma){'use strict';this.$TextGraphic11=ma;};ja.prototype.serialize=function(){'use strict';return babelHelpers['extends']({},p.serialize.call(this),{text:this.$TextGraphic4,fontFamily:this.$TextGraphic3.getFamily(),fill:this.$TextGraphic2,textAlign:this.$TextGraphic9,colorCoordinates:{x:this.$TextGraphic11.x,y:this.$TextGraphic11.y}});};ja.prototype.initFromSerializedState=function(ma){'use strict';this.$TextGraphic9=ma.textAlign;this.$TextGraphic11=ma.colorCoordinates;this.updateText(ma.text,ma.fontFamily,ma.fill);p.initFromSerializedState.call(this,ma);};ja.ImageSettings={WIDTH:200,HEIGHT:120,MAX_FONT:30,DIMENSIONS:new (c('Vector'))(200,120)};q=babelHelpers.inherits(ka,ha);r=q&&q.prototype;ka.prototype.remove=function(){'use strict';r.remove.call(this);b.URL.revokeObjectURL(this.imageURL);};function ka(){'use strict';q.apply(this,arguments);}function la(ma,na){if(t[ma])t[ma].onDrop(na);}f.exports={Blob:ka,FreeFormEditButton:ea,Graphic:ga,Image:ha,onDrop:la,Sticker:ia,Text:ja};}),null);
__d('ProfilePicCanvas',['PhotoEditorCanvas'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$ProfilePicCanvas1=new (c('PhotoEditorCanvas'))();this.$ProfilePicCanvas1.setImageContent(i);this.$ProfilePicCanvas2=[];this.$ProfilePicCanvas3=1;}h.prototype.toBlob=function(i){'use strict';this.$ProfilePicCanvas4().toBlob(i);};h.prototype.addGraphic=function(i,j){'use strict';i.setPos(j);this.$ProfilePicCanvas2.push(i);};h.prototype.setResizeFactor=function(i){'use strict';this.$ProfilePicCanvas3=i;return this;};h.prototype.$ProfilePicCanvas5=function(){'use strict';return window.devicePixelRatio||1;};h.prototype.$ProfilePicCanvas6=function(i){'use strict';return i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;};h.prototype.$ProfilePicCanvas4=function(){'use strict';var i=this.$ProfilePicCanvas1.getWidth(),j=new (c('PhotoEditorCanvas'))(),k=j.getContext();j.setImageContent(this.$ProfilePicCanvas1.getElement());var l=this.$ProfilePicCanvas5(),m=this.$ProfilePicCanvas6(k),n=l/m;if(n!==1){j=j.scaledCopy(n);k=j.getContext();k.scale(n,n);k.save();}var o,p;for(var q=0;q<this.$ProfilePicCanvas2.length;q++){o=this.$ProfilePicCanvas2[q];p=o.getPos();k.save();k.translate(p.x,p.y);j.drawGraphic(o.getDrawableObj(),0,0,i*this.$ProfilePicCanvas3,i*this.$ProfilePicCanvas3);k.restore();}return j;};f.exports=h;}),null);
__d('ProfilePictureOverlay',['invariant','immutable'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('immutable').Map,l=c('immutable').Record,m=l({id:'',name:'',src:new k()});i=babelHelpers.inherits(n,m);j=i&&i.prototype;n.fromObject=function(o){return new n(babelHelpers['extends']({},o,{src:new k(o.src)}));};n.prototype.getSrc=function(o){var p=this.src.get(o.toString());!p?h(0):void 0;return p;};function n(){i.apply(this,arguments);}f.exports=n;}),null);
__d('ReactComposerProfilePictureFrameActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({CROP_IMAGE:null,POST_START:null,POST_SUCCESS:null,SET_OVERLAYS:null,SET_PHOTO_DATA:null,SET_SCHEDULE_DATE:null,SET_SELECTED_ID:null},'ReactComposerProfilePictureFrameActionTypes');}),null);
__d("XPagesComposerPublishFrameCropController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/composer\/publish_frame\/crop\/",{height:{type:"Float"},overlay_id:{type:"Int"},width:{type:"Float"},x:{type:"Float"},y:{type:"Float"}});}),null);
__d('ReactComposerProfilePictureFrameStore',['fbt','invariant','ActorURI','AsyncUploadRequest','ReactComposerPhotoUpload','Event','ProfilePicCanvas','ProfilePictureOverlay','ReactComposerProfilePictureFrameActionTypes','ReactComposerStoreBase','Vector','XPagesComposerPublishFrameCropController','immutable','PhotoEditorGraphic','tidyEvent'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('immutable').List,m=c('PhotoEditorGraphic').Sticker;function n(p,q){var r=new Image();r.crossOrigin='anonymous';r.src=p;c('tidyEvent')([c('Event').listen(r,'load',function(){return q(r);})]);}j=babelHelpers.inherits(o,c('ReactComposerStoreBase'));k=j&&j.prototype;function o(){'use strict';var p=void 0;k.constructor.call(this,function(){return {croppedPhotoID:null,overlays:{},photoData:null,savingMessage:null,scheduledPostDate:null,selectedOverlayID:null};},function(q){if(p)p.$ReactComposerProfilePictureFrameStore1(q);});p=this;}o.prototype.getSavingMessage=function(p){'use strict';return this.getComposerData(p).savingMessage;};o.prototype.getCroppedPhotoID=function(p){'use strict';return this.getComposerData(p).croppedPhotoID;};o.prototype.getOverlays=function(p){'use strict';return this.getComposerData(p).overlays;};o.prototype.getPhotoData=function(p){'use strict';return this.getComposerData(p).photoData;};o.prototype.getSelectedOverlayID=function(p){'use strict';return this.getComposerData(p).selectedOverlayID;};o.prototype.getScheduledPostDate=function(p){'use strict';return this.getComposerData(p).scheduledPostDate;};o.prototype.getCroppedPhotoForUpload=function(p){'use strict';var q=this.getCroppedPhotoID(p);!q?i(0):void 0;return l([new (c('ReactComposerPhotoUpload'))({photoID:q,originalPhotoID:q})]);};o.prototype.$ReactComposerProfilePictureFrameStore1=function(p){'use strict';switch(p.type){case c('ReactComposerProfilePictureFrameActionTypes').SET_OVERLAYS:this.$ReactComposerProfilePictureFrameStore2(p);break;case c('ReactComposerProfilePictureFrameActionTypes').SET_PHOTO_DATA:this.$ReactComposerProfilePictureFrameStore3(p);break;case c('ReactComposerProfilePictureFrameActionTypes').SET_SELECTED_ID:this.$ReactComposerProfilePictureFrameStore4(p);break;case c('ReactComposerProfilePictureFrameActionTypes').CROP_IMAGE:this.$ReactComposerProfilePictureFrameStore5(p);break;case c('ReactComposerProfilePictureFrameActionTypes').POST_START:this.$ReactComposerProfilePictureFrameStore6(p);break;case c('ReactComposerProfilePictureFrameActionTypes').POST_SUCCESS:this.$ReactComposerProfilePictureFrameStore7(p);break;case c('ReactComposerProfilePictureFrameActionTypes').SET_SCHEDULE_DATE:this.$ReactComposerProfilePictureFrameStore8(p);break;}};o.prototype.$ReactComposerProfilePictureFrameStore8=function(p){'use strict';var q=this.getComposerData(p.composerID);q.scheduledPostDate=p.scheduledPostDate;this.emitChange(p.composerID);};o.prototype.$ReactComposerProfilePictureFrameStore6=function(p){'use strict';var q=this.getComposerData(p.composerID);q.savingMessage=h._("Posting Frame");this.emitChange(p.composerID);};o.prototype.$ReactComposerProfilePictureFrameStore7=function(p){'use strict';var q=this.getComposerData(p.composerID);q.savingMessage=null;this.emitChange(p.composerID);};o.prototype.$ReactComposerProfilePictureFrameStore4=function(p){'use strict';var q=this.getComposerData(p.composerID);if(q.selectedOverlayID!==p.selectedOverlayID){q.selectedOverlayID=p.selectedOverlayID;this.emitChange(p.composerID);}};o.prototype.$ReactComposerProfilePictureFrameStore2=function(p){'use strict';var q={};p.overlays.map(function(s){q[s.id]=c('ProfilePictureOverlay').fromObject(s);});var r=this.getComposerData(p.composerID);r.overlays=q;r.selectedOverlayID=p.selectedOverlayID;this.emitChange(p.composerID);};o.prototype.$ReactComposerProfilePictureFrameStore3=function(p){'use strict';var q=this.getComposerData(p.composerID);if(!q.photoData||q.photoData.original.uri!==p.photoData.original.uri){q.photoData=p.photoData;this.emitChange(p.composerID);}};o.prototype.$ReactComposerProfilePictureFrameStore5=function(p){'use strict';var q=p.composerID,r=this.getComposerData(q),s=r.savingMessage,t=r.overlays,u=r.photoData,v=r.selectedOverlayID;if(!u||!v||s)return;r.savingMessage=h._("Processing Image");this.emitChange(q);n(u.original.uri,function(w){var x=t[v],y=u.original,z=new m(null,x.id,x.getSrc(p.overlaySize),y.width,y.height);z.subscribe('loaded',function(){this.$ReactComposerProfilePictureFrameStore9(p,w,z);}.bind(this));}.bind(this));};o.prototype.$ReactComposerProfilePictureFrameStore9=function(p,q,r){'use strict';var s=p.composerID,t=p.dimensions,u=this.$ReactComposerProfilePictureFrameStore10(s).original,v=new (c('ProfilePicCanvas'))(q),w=t.getArea();v.addGraphic(r,new (c('Vector'))(w.x,w.y));v.setResizeFactor(w.width/u.width);v.toBlob(function(x){return this.$ReactComposerProfilePictureFrameStore11(p,x);}.bind(this));};o.prototype.$ReactComposerProfilePictureFrameStore11=function(p,q){'use strict';var r=p.composerID,s=this.$ReactComposerProfilePictureFrameStore10(r),t=s.original,u=p.dimensions.getArea(),v={x:u.x/t.width,y:u.y/t.height,width:u.width/t.width,height:u.height/t.height},w=c('XPagesComposerPublishFrameCropController').getURIBuilder().setFloat('height',Math.min(v.height,1)).setFloat('width',Math.min(v.width,1)).setFloat('x',v.x).setFloat('y',v.y).setInt('overlay_id',this.getSelectedOverlayID(r)).getURI(),x=new (c('AsyncUploadRequest'))().setFiles({image:q}).setAllowCrossOrigin(true).setURI(c('ActorURI').create(w,p.targetID));c('tidyEvent')([x.subscribe('success',function(y,z){var aa=z.getResponse(),ba=aa.payload,ca=this.getComposerData(r);ca.croppedPhotoID=ba.cropped_fbid;ca.savingMessage=null;p.onCropSuccess();this.emitChange(r);}.bind(this))]);x.send();};o.prototype.$ReactComposerProfilePictureFrameStore10=function(p){'use strict';var q=this.getPhotoData(p);!q?i(0):void 0;return q;};f.exports=new o();}),null);
__d('ReactComposerQuestionActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({ADD_OPTION:null,ANYONE_ADD_OPTIONS:null,CHOOSE_MULTIPLE_OPTIONS:null,RANK_OPTIONS:null,ENTER_POLL_OPTIONS_MODE:null,SHOW_QUESTION_CONFIG:null,SAVE_OPTION_DATA:null,SET_QUESTION_CONFIG:null},'ReactComposerQuestionActionType');}),null);
__d('ReactComposerQuestionStore',['ReactComposerQuestionActionType','ReactComposerStoreBase','Map'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=3;h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {anyoneAddPollOptions:true,chooseMultiplePollOptions:true,dataSource:null,maxOptionsShown:null,optionIDs:new (c('Map'))(),optionStrings:new (c('Map'))(),pollLinkEnabled:true,rankPollOptions:false};},function(m){switch(m.type){case c('ReactComposerQuestionActionType').ADD_OPTION:l&&l.$ReactComposerQuestionStore1(m);break;case c('ReactComposerQuestionActionType').ANYONE_ADD_OPTIONS:l&&l.$ReactComposerQuestionStore2(m);break;case c('ReactComposerQuestionActionType').CHOOSE_MULTIPLE_OPTIONS:l&&l.$ReactComposerQuestionStore3(m);break;case c('ReactComposerQuestionActionType').ENTER_POLL_OPTIONS_MODE:l&&l.$ReactComposerQuestionStore4(m);break;case c('ReactComposerQuestionActionType').RANK_OPTIONS:l&&l.$ReactComposerQuestionStore5(m);break;case c('ReactComposerQuestionActionType').SAVE_OPTION_DATA:l&&l.$ReactComposerQuestionStore6(m);break;case c('ReactComposerQuestionActionType').SET_QUESTION_CONFIG:l&&l.$ReactComposerQuestionStore7(m);break;}});l=this;}k.prototype.canAnyoneAddPollOptions=function(l){'use strict';return this.getComposerData(l).anyoneAddPollOptions;};k.prototype.canChooseMultiplePollOptions=function(l){'use strict';return this.getComposerData(l).chooseMultiplePollOptions;};k.prototype.canRankPollOptions=function(l){'use strict';return this.getComposerData(l).rankPollOptions;};k.prototype.getDataSource=function(l){'use strict';return this.getComposerData(l).dataSource;};k.prototype.getMaxOptionsShown=function(l){'use strict';return this.getComposerData(l).maxOptionsShown;};k.prototype.getNumberOptionsShown=function(l){'use strict';return j;};k.prototype.getOptionIDs=function(l){'use strict';var m=[],n=this.getComposerData(l).optionIDs;n.forEach(function(o,p){return m.push(o);});return m;};k.prototype.getOptionStrings=function(l){'use strict';var m=[],n=this.getComposerData(l).optionStrings;n.forEach(function(o,p){return m.push(o);});return m;};k.prototype.getSearchSource=function(l){'use strict';return this.getComposerData(l).dataSource;};k.prototype.isPollLinkEnabled=function(l){'use strict';return this.getComposerData(l).pollLinkEnabled;};k.prototype.$ReactComposerQuestionStore1=function(l){'use strict';var m=this.validateAction(l,'composerID');j++;this.emitChange(m);};k.prototype.$ReactComposerQuestionStore2=function(l){'use strict';var m=this.validateAction(l,['composerID','value']),n=m[0],o=m[1],p=this.getComposerData(n);p.anyoneAddPollOptions=o;this.emitChange(n);};k.prototype.$ReactComposerQuestionStore3=function(l){'use strict';var m=this.validateAction(l,['composerID','value']),n=m[0],o=m[1],p=this.getComposerData(n);p.chooseMultiplePollOptions=o;this.emitChange(n);};k.prototype.$ReactComposerQuestionStore4=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.pollLinkEnabled=false;this.emitChange(m);};k.prototype.$ReactComposerQuestionStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','value']),n=m[0],o=m[1],p=this.getComposerData(n);p.rankPollOptions=o;this.emitChange(n);};k.prototype.$ReactComposerQuestionStore6=function(l){'use strict';var m=this.validateAction(l,['composerID','optionData']),n=m[0],o=m[1],p=this.getComposerData(n);p.optionIDs.set(o.keyID,o.ID);p.optionStrings.set(o.keyID,o.content);this.emitChange(n);};k.prototype.$ReactComposerQuestionStore7=function(l){'use strict';var m=this.validateAction(l,['composerID','config']),n=m[0],o=m[1],p=this.getComposerData(n);p.dataSource=o.dataSource;p.maxOptionsShown=o.maxOptionsShown;this.emitChange(n);};f.exports=new k();}),null);
__d('ReactComposerRedEnvelopeActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_RED_ENVELOPE_CONFIG:null,SET_AVAILABLE_AMOUNT:null,SET_TOTAL_AMOUNT:null,SET_DISTIBUTION:null,SET_NUMBER_OF_ENVELOPES:null},'ReactComposerRedEnvelopeActionType');}),null);
__d('ReactComposerRedEnvelopeStore',['ReactComposerRedEnvelopeActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {availableAmount:0,totalAmount:1000,distribution:'RND',numberOfEnvelopes:5,contextInfo:null};},function(l){switch(l.type){case c('ReactComposerRedEnvelopeActionType').SET_AVAILABLE_AMOUNT:k&&k.$ReactComposerRedEnvelopeStore1(l);break;case c('ReactComposerRedEnvelopeActionType').SET_TOTAL_AMOUNT:k&&k.$ReactComposerRedEnvelopeStore2(l);break;case c('ReactComposerRedEnvelopeActionType').SET_DISTIBUTION:k&&k.$ReactComposerRedEnvelopeStore3(l);break;case c('ReactComposerRedEnvelopeActionType').SET_NUMBER_OF_ENVELOPES:k&&k.$ReactComposerRedEnvelopeStore4(l);break;case c('ReactComposerRedEnvelopeActionType').SET_RED_ENVELOPE_CONFIG:k&&k.$ReactComposerRedEnvelopeStore5(l);break;}});k=this;}j.prototype.getAvailableAmount=function(k){'use strict';return this.getComposerData(k).availableAmount;};j.prototype.getTotalAmount=function(k){'use strict';return this.getComposerData(k).totalAmount;};j.prototype.getDistribution=function(k){'use strict';return this.getComposerData(k).distribution;};j.prototype.getNumberOfEnvelopes=function(k){'use strict';return this.getComposerData(k).numberOfEnvelopes;};j.prototype.getContextInfo=function(k){'use strict';return this.getComposerData(k).contextInfo;};j.prototype.$ReactComposerRedEnvelopeStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','availableAmount']),m=l[0],n=l[1],o=this.getComposerData(m);o.availableAmount=n;this.emitChange(m);};j.prototype.$ReactComposerRedEnvelopeStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','totalAmount']),m=l[0],n=l[1],o=this.getComposerData(m);o.totalAmount=n;this.emitChange(m);};j.prototype.$ReactComposerRedEnvelopeStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','numberOfEnvelopes']),m=l[0],n=l[1],o=this.getComposerData(m);o.numberOfEnvelopes=n;this.emitChange(m);};j.prototype.$ReactComposerRedEnvelopeStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','distribution']),m=l[0],n=l[1],o=this.getComposerData(m);o.distribution=n;this.emitChange(m);};j.prototype.$ReactComposerRedEnvelopeStore5=function(k){'use strict';var l=this.validateAction(k,['composerID','config']),m=l[0],n=l[1],o=this.getComposerData(m);o.availableAmount=n.availableAmount;o.contextInfo=n.contextInfo;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerStatusDonateButtonActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_DONATE_CONFIG:null,UPDATE_DESCRIPTION:null,UPDATE_TITLE:null,SET_DATA:null,SET_ENABLED:null,SET_ERRORS:null,SET_TEXT_DISABLED:null},'ReactComposerStatusDonateButtonActionType');}),null);
__d('ReactComposerStatusDonateButtonStore',['ReactComposerStatusDonateButtonActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {charityName:'',fundraiserCampaignId:1,enabled:false,textDisabled:false,errors:false};},function(l){switch(l.type){case c('ReactComposerStatusDonateButtonActionType').SET_DONATE_CONFIG:k&&k.$ReactComposerStatusDonateButtonStore1(l);break;case c('ReactComposerStatusDonateButtonActionType').UPDATE_TITLE:k&&k.$ReactComposerStatusDonateButtonStore2(l);break;case c('ReactComposerStatusDonateButtonActionType').UPDATE_DESCRIPTION:k&&k.$ReactComposerStatusDonateButtonStore3(l);break;case c('ReactComposerStatusDonateButtonActionType').SET_DATA:k&&k.$ReactComposerStatusDonateButtonStore4(l);break;case c('ReactComposerStatusDonateButtonActionType').SET_ENABLED:k&&k.$ReactComposerStatusDonateButtonStore5(l);break;case c('ReactComposerStatusDonateButtonActionType').SET_ERRORS:k&&k.$ReactComposerStatusDonateButtonStore6(l);break;case c('ReactComposerStatusDonateButtonActionType').SET_TEXT_DISABLED:k&&k.$ReactComposerStatusDonateButtonStore7(l);break;}});k=this;}j.prototype.getFundraiserCampaignID=function(k){'use strict';return this.getComposerData(k).fundraiserCampaignId;};j.prototype.getCharityName=function(k){'use strict';return this.getComposerData(k).charityName;};j.prototype.getTitle=function(k){'use strict';return this.getComposerData(k).title;};j.prototype.getDescription=function(k){'use strict';return this.getComposerData(k).description;};j.prototype.getEnabled=function(k){'use strict';return this.getComposerData(k).enabled;};j.prototype.getErrors=function(k){'use strict';return this.getComposerData(k).errors;};j.prototype.getTextDisabled=function(k){'use strict';return this.getComposerData(k).textDisabled;};j.prototype.$ReactComposerStatusDonateButtonStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','config']),m=l[0],n=l[1],o=this.getComposerData(m);o.fundraiserCampaignId=n.fundraiserCampaignId;o.charityName=n.charityName;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','title']),m=l[0],n=l[1],o=this.getComposerData(m);o.title=n.substring(0,60);this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','description']),m=l[0],n=l[1],o=this.getComposerData(m);o.description=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','title','description']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.title=n;p.description=o;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore5=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.enabled=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore6=function(k){'use strict';var l=this.validateAction(k,['composerID','errors']),m=l[0],n=l[1],o=this.getComposerData(m);o.errors=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerStatusDonateButtonStore7=function(k){'use strict';var l=this.validateAction(k,['composerID','textDisabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.textDisabled=n;this.emitChange(k.composerID);};f.exports=new j();}),null);
__d("XComposerXMediaInterceptController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/intercept\/media\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}});}),null);
__d("XComposerXMediaMarkdownInterceptController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/markdown_intercept\/media\/",{xhpc_composerid:{type:"String",required:true},markdown_enabled:{type:"Bool",defaultValue:false},xhpc_message:{type:"String"}});}),null);
__d("XComposerXMediaOfferUpsellController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/offer_upsell\/media\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_photo_fbids:{type:"FBIDVector"},xhpc_pageid:{type:"Int",required:true}});}),null);
__d("XComposerXStatusInterceptController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/intercept\/status\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}});}),null);
__d("XComposerXStatusMarkdownInterceptController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/markdown_intercept\/status\/",{xhpc_composerid:{type:"String",required:true},markdown_enabled:{type:"Bool",defaultValue:false},xhpc_message:{type:"String"}});}),null);
__d("XComposerXStatusOfferUpsellController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composerx\/offer_upsell\/status\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_photo_fbids:{type:"FBIDVector"},xhpc_pageid:{type:"Int",required:true}});}),null);
__d("XMarketplaceCreatePostController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ajax\/marketplace\/create_post\/",{xhpc_composerid:{type:"String",required:true},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int",required:true}});}),null);
__d("XRedEnvelopeSaveController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/redenv\/save\/",{xhpc_targetid:{type:"Int",required:true},xhpc_composerid:{type:"String",required:true},composer_attachment_message:{type:"String"},distribution:{type:"String",required:true},total_amount:{type:"Int",required:true},number_of_envelopes:{type:"Int",required:true}});}),null);
__d("XTimelineMLEWriteController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mle\/save\/",{create_scrapbook:{type:"Bool",defaultValue:false}});}),null);
__d("XVideoEditDialogSaveController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/edit\/dialog\/save\/",{v:{type:"Int",required:true}});}),null);
__d('ReactComposerPostUtils',['invariant','ReactComposerActions','ReactComposerAsyncRequest','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerAutosSellStore.react','ReactComposerCTAAttachmentUtils','ReactComposerCTAStore','ComposerEntryPointRef','ReactComposerFileStore','ReactComposerLifeEventStore','ReactComposerMediaUploadStore','ReactComposerPhotoStore','ReactComposerPlaceListStore.react','ReactComposerPostDataUtils','ReactComposerProfilePictureFrameStore','ReactComposerQuestionStore','ReactComposerRedEnvelopeStore','ReactComposerSellStore','ReactComposerMarkdownStore','ReactComposerSlideshowStore','ReactComposerStatusDonateButtonStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerVideoUploadStore','DateConsts','PagesComposerUnpublishedPostsStore','VideoEditSource','XComposerXMediaMarkdownInterceptController','XComposerXStatusMarkdownInterceptController','XComposerXMediaOfferUpsellController','XComposerXStatusOfferUpsellController','XComposerXStatusInterceptController','XComposerXMediaInterceptController','XMarketplaceCreatePostController','XRedEnvelopeSaveController','XTimelineMLEWriteController','XVideoEditDialogSaveController','PagesComposerActionsLogger','PagesComposerBoostedPostsStore','ActorURI','Arbiter','HTML','URI','formatDate'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={publish:function j(k,l){c('ReactComposerActions').publishStarted(k);l=l||{};l.composer_id=k;if(l.streamNode){l.streamStory=l.streamNode;}else if(l.streamMarkup)l.streamStory=c('HTML')(l.streamMarkup).getRootNode();if(l.contentID)l.matchData={content_id:l.contentID};c('Arbiter').inform('composer/publish',l);},isPostButtonDisabled:function j(k,l){var m=c('ReactComposerPhotoStore').isLimitExceeded(k,l),n=c('ReactComposerMediaUploadStore').isUploading(k),o=c('ReactComposerPhotoStore').isRecognizing(k),p=!!c('ReactComposerVideoUploadStore').getVideo(k)&&c('ReactComposerStore').isPosting(k);return m||n||o||p;},post:function j(k){!!!k.actorID?h(0):void 0;!!!k.composerConfig?h(0):void 0;!!!k.composerConfig.contextInfo?h(0):void 0;!!!k.composerID?h(0):void 0;!!!k.targetID?h(0):void 0;var l=k.actorID,m=k.composerID,n=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').MEDIA),o=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').QANDA),p=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').FILE),q=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').QUESTION),r=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').RED_ENVELOPE),s=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').SELL)||c('ReactComposerSellStore').getInterceptSell(m),t=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').LIFE_EVENT),u=c('ReactComposerCTAAttachmentUtils').isCTAAttachmentSelected(m),v=c('ReactComposerSlideshowStore').isSlideshowSelected(m),w=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').PROFILE_PIC_FRAME),x=c('ReactComposerAttachmentStore').getIsAttachmentSelected(m,c('ReactComposerAttachmentType').PLACE_LIST),y=k.composerConfig.attachmentsConfig||{},z=y[c('ReactComposerAttachmentType').STATUS]||{},aa=z.attemptIntercept&&z.nluIntercept&&!s&&!c('ReactComposerSellStore').showNLUIntercept(m)&&!c('ReactComposerSellStore').showURLIntercept(m),ba=c('ReactComposerPostDataUtils').getPostData(k);if(c('ReactComposerStatusDonateButtonStore').getEnabled(m))Object.assign(ba,{cta_data:{type:'DONATE',value:{fundraiser_campaign_id:c('ReactComposerStatusDonateButtonStore').getFundraiserCampaignID(m),link_title:c('ReactComposerStatusDonateButtonStore').getTitle(m),link_description:c('ReactComposerStatusDonateButtonStore').getDescription(m)}}});var ca=c('ReactComposerVideoUploadStore').getVideo(m);if(n&&!!ca){var da=c('ReactComposerVideoUploadStore').getUploader(m);da&&da.uploadFromFile(ca.file,ba);return;}var ea,fa=c('ReactComposerPhotoStore').getPhotos(m),ga=c('ReactComposerMediaUploadStore').getUploads(m);if(s)Object.assign(ba,{composer_attachment_sell_title:c('ReactComposerSellStore').getTitleText(m),composer_attachment_sell_price:c('ReactComposerSellStore').getPrice(m),composer_attachment_sell_price_type:c('ReactComposerSellStore').getPriceType(m),composer_attachment_sell_currency:c('ReactComposerSellStore').getCurrency(m),composer_attachment_sell_category:c('ReactComposerSellStore').getCategoryID(m),composer_attachment_sell_location_page_id:c('ReactComposerSellStore').getLocationID(m),composer_attachment_sell_pickup_note:c('ReactComposerSellStore').getPickupNoteText(m),post_to_marketplace:c('ReactComposerSellStore').isNearbyLocationChecked(m),cross_post_checked:c('ReactComposerSellStore').isCrossPostChecked(m),composer_attachment_sell_audience_group_ids:Array.from(c('ReactComposerSellStore').getAudienceGroupIDs(m)).join(','),composer_attachment_sell_autos_make:c('ReactComposerAutosSellStore.react').getMake(m),composer_attachment_sell_autos_model:c('ReactComposerAutosSellStore.react').getModel(m),composer_attachment_sell_autos_vin:c('ReactComposerAutosSellStore.react').getVIN(m),composer_attachment_sell_autos_year:c('ReactComposerAutosSellStore.react').getYear(m),composer_attachment_sell_autos_odometer:c('ReactComposerAutosSellStore.react').getOdometerValue(m),composer_attachment_sell_autos_odometer_units:c('ReactComposerAutosSellStore.react').getOdometerUnits(m)});if(u)Object.assign(ba,{cta_data:c('ReactComposerCTAStore').getCTAData(m)});if(x)Object.assign(ba,{recommendations_post:true,recommendations_within_page:c('ReactComposerPlaceListStore.react').getPageID(m)});var ha=ga.size>0,ia=n||o||s,ja=v||ia&&ha,ka=z.showOfferUpsell===true&&!c('PagesComposerUnpublishedPostsStore').showOfferUpsell(m)&&!c('PagesComposerBoostedPostsStore').getConfig(m),la=z.attemptMarkdownIntercept&&!c('ReactComposerMarkdownStore').showIntercept(m),ma=y[c('ReactComposerAttachmentType').SELL],na=c('ReactComposerSellStore').getPostDirectlyToMarketplace(m),oa=[];if(ka){var pa=0;if(!(!!ba.attachment&&!!ba.attachment.params&&!!ba.attachment.params.child_attachments)){pa=fa.size;oa=fa.map(function(ib){return ib.id;}).toArray();}if(!!ca||v){ka=z.enableOfferVideoUpsell===true;}else if(pa==1){ka=z.enableOfferOnePhotoUpsell===true;}else if(pa>1){ka=z.enableOfferMultiPhotoUpsell===true;}else ka=z.enableOfferTextUpsell===true;}if(ja){if(ka){ea=c('XComposerXMediaOfferUpsellController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_pageid',l).setFBIDVector('xhpc_photo_fbids',oa).getURI();}else if(aa){ea=c('XComposerXMediaInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_targetid',k.targetID).getURI();}else if(la){ea=c('XComposerXMediaMarkdownInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setBool('markdown_enabled',ba.is_markdown).getURI();}else if(na){ea=c('XMarketplaceCreatePostController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_targetid',k.targetID).getURI();}else ea=new (c('URI'))('/media/upload/photos/composer/');var qa=c('ReactComposerPostDataUtils').getMediaUploadsData(m,ga);Object.assign(ba,qa);}else if(p){ea=new (c('URI'))(c('ReactComposerFileStore').getURI(m));Object.assign(ba,{transaction_id:c('ReactComposerFileStore').getDropboxFileID(m)});}else if(q){ea=new (c('URI'))('/ajax/questions/save.php');var ra=c('ReactComposerQuestionStore').getOptionIDs(m),sa=c('ReactComposerQuestionStore').getOptionStrings(m);ra.push('');sa.push('');var ta=c('ReactComposerStore').getRef(m),ua=null;switch(ta){case c('ComposerEntryPointRef').GROUP:ua='group';break;case c('ComposerEntryPointRef').EVENT:case c('ComposerEntryPointRef').EVENT_ABOUT:ua='event';break;case c('ComposerEntryPointRef').PAGES_FEED:ua='composer';break;default:ua=ta;}Object.assign(ba,{composerAttachmentQuestion:c('ReactComposerStatusStore').getMessage(m),question_option_ids:ra,question_options:sa,source:ua,create_eigenpoll:c('ReactComposerQuestionStore').canChooseMultiplePollOptions(m),anyone_add_options:c('ReactComposerQuestionStore').canAnyoneAddPollOptions(m),create_ranked_poll:c('ReactComposerQuestionStore').canRankPollOptions(m)});}else if(r){Object.assign(ba,{composer_attachment_message:c('ReactComposerStatusStore').getMessageText(m),total_amount:c('ReactComposerRedEnvelopeStore').getTotalAmount(m),distribution:c('ReactComposerRedEnvelopeStore').getDistribution(m),number_of_envelopes:c('ReactComposerRedEnvelopeStore').getNumberOfEnvelopes(m)});ea=c('XRedEnvelopeSaveController').getURIBuilder().setString('composer_attachment_message',ba.composer_attachment_message).setString('distribution',ba.distribution).setInt('total_amount',ba.total_amount).setInt('number_of_envelopes',ba.number_of_envelopes).setInt('xhpc_targetid',k.targetID).setString('xhpc_composerid',k.composerID).getURI();}else if(s){ea=new (c('URI'))('/ajax/groups/sell/save.php');}else if(t){ea=c('XTimelineMLEWriteController').getURIBuilder().getURI();var va=babelHelpers['extends']({},c('ReactComposerLifeEventStore').getSelectedLifeEventFields(m)),wa=Object.keys(ba.backdated_date).some(function(ib){return ba.backdated_date[ib]!==null;});if(wa)va.date_start=ba.backdated_date;var xa=ga.map(function(ib){return {fbid:ib.photoID};});Object.assign(ba,{field_data_json:JSON.stringify(va),icon:c('ReactComposerLifeEventStore').getSelectedLifeEventIconID(m),photos:JSON.stringify(xa),story:c('ReactComposerLifeEventStore').getSelectedLifeEventStory(m),surface:'composer',title:c('ReactComposerLifeEventStore').getSelectedLifeEventTitle(m),type:c('ReactComposerLifeEventStore').getSelectedLifeEventType(m)});}else if(w){var ya=c('ReactComposerProfilePictureFrameStore').getSelectedOverlayID(m),za=c('ReactComposerProfilePictureFrameStore').getScheduledPostDate(m),ab=void 0,bb=void 0,cb=false;if(za){ab=c('formatDate')(za,'m/d/Y',{skipPatternLocalization:true});var db=za.getHours()*c('DateConsts').MIN_PER_HOUR+za.getMinutes();bb=c('DateConsts').SEC_PER_MIN*db;cb=true;}qa=c('ReactComposerPostDataUtils').getMediaDataWithoutFiltering(m,c('ReactComposerProfilePictureFrameStore').getCroppedPhotoForUpload(m));ea=new (c('URI'))('/media/upload/photos/composer/');Object.assign(ba,babelHelpers['extends']({},qa,{scheduled:cb,sticker_id:ya,future_date:ab,future_time:bb}));}else if(ba.attachment&&ba.attachment.params.carousel_video_lpp){ea=c('XVideoEditDialogSaveController').getURIBuilder().setInt('v',ba.attachment.params.carousel_video_lpp.video_id).getURI();Object.assign(ba,ba.attachment.params.carousel_video_lpp);Object.assign(ba,{description:ba.xhpc_message,source:c('VideoEditSource').PAGE_VIDEO_LPP_PUBLISH});var eb={child_attachments:ba.attachment.params.child_attachments,event:'publish',target_id:k.targetID,content_id:ba.attachment.params.carousel_video_lpp.video_id,is_old_composer:false,scraped_url:ba.attachment.params.url};c('PagesComposerActionsLogger').log(eb);}else if(ka){ea=c('XComposerXStatusOfferUpsellController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_pageid',l).setFBIDVector('xhpc_photo_fbids',oa).getURI();}else if(aa){ea=c('XComposerXStatusInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setInt('xhpc_targetid',k.targetID).getURI();}else if(la){ea=c('XComposerXStatusMarkdownInterceptController').getURIBuilder().setString('xhpc_message',c('ReactComposerStatusStore').getMessageText(m)).setString('xhpc_composerid',k.composerID).setBool('markdown_enabled',ba.is_markdown).getURI();}else ea=new (c('URI'))('/ajax/updatestatus.php');ea=c('ActorURI').create(ea,l);var fb=new (c('ReactComposerAsyncRequest'))(k.composerID,ea).setData(ba).setHandler(k.onPostSuccess).setErrorHandler(k.onPostFailure);if(p&&c('ReactComposerFileStore').hasFile(m)){var gb=c('ReactComposerFileStore').getFile(m),hb=new FormData();hb.append('file1',gb);fb.setRawData(hb);}fb.send();}};f.exports=i;}),null);
__d('ReactComposerPagesStore',['ReactComposerActionStore','ReactComposerMediaConfig','ReactComposerPostUtils','ReactComposerTaggerType','PagesComposerActionsTypes','PagesComposerUnpublishedPostsStore','dotAccess','formatDate'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j={instagramCrossPosting:false};h=babelHelpers.inherits(k,c('ReactComposerActionStore'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return Object.assign({},j);},function(m){switch(m.type){case c('PagesComposerActionsTypes').INSTAGRAM_CROSS_POSTING:l&&l.$ReactComposerPagesStore1(m);break;}});l=this;}k.prototype.__onPostStarted=function(l){'use strict';var m=c('PagesComposerUnpublishedPostsStore').getIsDraft(l.composerID),n=Object.assign({},l.config);n.contextInfo=Object.assign({},n.contextInfo||{});n.contextInfo.draft=m;var o=c('PagesComposerUnpublishedPostsStore').getScheduledPublishTime(l.composerID);if(o){var p=c('formatDate')(o,'m/d/Y',{skipPatternLocalization:true}),q=60*(60*o.getHours()+o.getMinutes());n.contextInfo.scheduled=true;n.contextInfo.future_date=p;n.contextInfo.future_time=q;}var r=c('PagesComposerUnpublishedPostsStore').getBackdateConfig(l.composerID);if(r){n.contextInfo.backdated_date={year:r.year,month:r.month,day:r.day};n.contextInfo.hide_from_newsfeed=r.hideFromNewsFeed;}var s=c('PagesComposerUnpublishedPostsStore').getStopFeedDistributionTime(l.composerID);if(s){n.contextInfo.stopFeedDistributionDateFormatted=c('formatDate')(s,'m/d/Y',{skipPatternLocalization:true});n.contextInfo.stopFeedDistributionTimeFormatted=60*(60*s.getHours()+s.getMinutes());}var t=c('PagesComposerUnpublishedPostsStore').getIsAdsPost(l.composerID);if(t)n.contextInfo.is_ad_post=1;var u=this.getComposerData(l.composerID).instagramCrossPosting;if(u)n.contextInfo.instagramCrossPosting=true;var v=l.config.taggersConfig[c('ReactComposerTaggerType').TARGETING],w=v?c('dotAccess')(v,'feedTargetingGK'):false;c('ReactComposerPostUtils').post({actorID:l.actorID,composerConfig:n,composerID:l.composerID,composerType:l.composerType,targetID:l.targetID,onPostSuccess:l.onPostSuccess,useHints:w});};k.prototype.__canPost=function(l){'use strict';return !c('ReactComposerPostUtils').isPostButtonDisabled(l.composerID,c('ReactComposerMediaConfig').photo.limit);};k.prototype.$ReactComposerPagesStore1=function(l){'use strict';var m=this.getComposerData(l.composerID);m.instagramCrossPosting=l.enabled;};f.exports=new k();}),null);
__d('PagesComposerExtraAttachmentSelector.react',['fbt','invariant','ix','ReactComponentWithPureRenderMixin','React','ReactDOM','ReactFragment','BanzaiODS','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerLoggingName','DOM','JobsActionsTypedLogger','LayerHideOnTransition','PagesCalloutActions','PagesCalloutDispatcher','PagesCalloutHelper','XUIAmbientNUX.react','PagesComposerExtraAttachmentIcons','getByPath'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'PagesComposerExtraAttachmentSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{label:k.string.isRequired,icon:k.oneOf(Object.keys(c('PagesComposerExtraAttachmentIcons'))).isRequired,attachmentsConfig:k.object.isRequired},getInitialState:function m(){return {offersNuxShown:false,showJobOpeningNUX:false,showProductNux:false};},componentDidMount:function m(){var n=this.props.attachmentsConfig.attachments;if(n.JOB_OPENING&&n.JOB_OPENING.jobTipID)c('PagesCalloutDispatcher').dispatch({type:c('PagesCalloutActions').REGISTER_CALLOUT,data:{tip_id:n.JOB_OPENING.jobTipID,showCallback:function(){return this._showJobNux();}.bind(this),nux_id:n.JOB_OPENING.jobNuxID}});if(n.OFFER&&n.OFFER.offersTipID)c('PagesCalloutDispatcher').dispatch({type:c('PagesCalloutActions').REGISTER_CALLOUT,data:{tip_id:n.OFFER.offersTipID,showCallback:function(){return this._showOffersNux();}.bind(this),nux_id:n.OFFER.offersNuxID}});if(n.PRODUCT&&n.PRODUCT.productNuxTipData.tip_id)c('PagesCalloutDispatcher').dispatch({type:c('PagesCalloutActions').REGISTER_CALLOUT,data:{tip_id:n.PRODUCT.productNuxTipData.tip_id,showCallback:function(){return this._showProductNux();}.bind(this),nux_id:n.PRODUCT.productNuxTipData.nux_id}});},_showJobNux:function m(){new (c('JobsActionsTypedLogger'))().setName('pages_extra_composer_job_nux_impression').setEmployerID(c('getByPath')(this.props,['config','attachments','JOB_OPENING','pageID'],null)).log();this.setState({showJobOpeningNUX:true,offersNuxShown:false,showProductNux:false});},_showOffersNux:function m(){c('BanzaiODS').bumpEntityKey('offers','offers_v2_pages_composer_nux_shown');this.setState({offersNuxShown:true,showJobOpeningNUX:false,showProductNux:false});},_showProductNux:function m(){this.setState({showProductNux:true,showJobOpeningNUX:false,offersNuxShown:false});},_onOffersNUXCloseButtonClick:function m(){var n=this.props.attachmentsConfig.attachments;if(n.OFFER&&n.OFFER.offersTipID)c('PagesCalloutHelper').logXout(n.OFFER.offersTipID);c('BanzaiODS').bumpEntityKey('offers','offers_v2_pages_composer_nux_dismissed');this.setState({offersNuxShown:false});},_onJobPostingComposerNUXCloseButtonClick:function m(){var n=this.props.attachmentsConfig.attachments;if(n.JOB_OPENING&&n.JOB_OPENING.jobTipID)c('PagesCalloutHelper').logXout(n.JOB_OPENING.jobTipID);new (c('JobsActionsTypedLogger'))().setName('pages_extra_composer_job_nux_xout').setEmployerID(c('getByPath')(this.props,['config','attachments','JOB_OPENING','pageID'],null)).log();this.setState({showJobOpeningNUX:false});},_onProductNuxClose:function m(){var n=this.props.attachmentsConfig.attachments;if(n.PRODUCT&&n.PRODUCT.productNuxTipData)c('PagesCalloutHelper').logXout(n.PRODUCT.productNuxTipData.tip_id);this.setState({showProductNux:false});},renderLayers:function m(){var n={offers_nux:c('React').createElement(c('XUIAmbientNUX.react'),{behaviors:{LayerHideOnTransition:c('LayerHideOnTransition')},contextRef:function(){return this.refs.composerSelector;}.bind(this),position:'right',shown:this.state.offersNuxShown,onCloseButtonClick:this._onOffersNUXCloseButtonClick,key:'ambientNUX'},h._("Now you can create an offer right from your Page.")),job_posting_nux:c('React').createElement(c('XUIAmbientNUX.react'),{behaviors:{LayerHideOnTransition:c('LayerHideOnTransition')},contextRef:function(){return this.refs.composerSelector;}.bind(this),key:'ambientNUX',onCloseButtonClick:this._onJobPostingComposerNUXCloseButtonClick,position:'above',shown:this.state.showJobOpeningNUX},h._("Introducing Job Posts - create them for free from your Page!")),product_nux:null},o=c('ReactDOM').findDOMNode(this.refs.composerSelector),p=o?c('DOM').scry(o,'i')[0]:null;if(p!==null)n.product_nux=c('React').createElement(c('XUIAmbientNUX.react'),{behaviors:{LayerHideOnTransition:c('LayerHideOnTransition')},context:p,key:'ambientNUX',onCloseButtonClick:this._onProductNuxClose,position:'above',shown:this.state.showProductNux},h._("Share a product from your Shop"));return c('ReactFragment').create(n);},render:function m(){return (c('React').createElement('span',null,c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').PAGES_EXTRA,label:this.props.label,icon:this._renderIcon(),id:'extraAttachmentSelector',ref:'composerSelector',loggingName:c('ReactComposerLoggingName').PAGES_EXTRA_TAB_SELECTOR}),this.renderLayers()));},_renderIcon:function m(){switch(this.props.icon){case c('PagesComposerExtraAttachmentIcons').FINCH_COUPONS_ICON:return j('/images/icons/pages/coupons/finch-offers.png');case c('PagesComposerExtraAttachmentIcons').Q_AND_A_ICON:return j('/images/litestand/composer/icons/qanda.png');case c('PagesComposerExtraAttachmentIcons').CAUSE_ICON:return j('/images/icons/pages/donations/cause.png');case c('PagesComposerExtraAttachmentIcons').COUPONS_ICON:return j('/images/icons/pages/coupons/offers.png');case c('PagesComposerExtraAttachmentIcons').FINCH_EVENTS_ICON:return j('/images/icons/finch-event.png');case c('PagesComposerExtraAttachmentIcons').EVENTS_ICON:return j('/images/icons/event.gif');case c('PagesComposerExtraAttachmentIcons').PRODUCT_ICON:return j('/images/litestand/composer/icons/sell.png');case c('PagesComposerExtraAttachmentIcons').OFFERS_ICON:return j('/images/facelift/composer/icons/offer_event_16.png');case c('PagesComposerExtraAttachmentIcons').BOOK_TRAVEL_ICON:return j('/images/icons/pages/composer/booknow_1x.png');case c('PagesComposerExtraAttachmentIcons').LEARN_MORE_ICON:return j('/images/icons/pages/composer/learnmore_1x.png');case c('PagesComposerExtraAttachmentIcons').SHOP_NOW_ICON:return j('/images/icons/pages/composer/shopnow_1x.png');case c('PagesComposerExtraAttachmentIcons').SIGN_UP_ICON:return j('/images/icons/pages/composer/signup_1x.png');case c('PagesComposerExtraAttachmentIcons').MORE_ICON:return j('/images/facelift/composer/icons/more_16.png');default:i(0);}}});f.exports=l;}),null);
__d("XPagesExtraAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/pages\/extra\/bootstrap\/",{});}),null);
__d('PagesComposerExtraLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerLoadableAttachmentBodyMixin','ReactComposerBootloaderPropTypes','ActorURI','React','XPagesExtraAttachmentBootstrapController'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'PagesComposerExtraLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],propTypes:{bootloader:c('ReactComposerBootloaderPropTypes').isRequired},statics:{attachmentID:c('ReactComposerAttachmentType').PAGES_EXTRA},bootload:function j(k){this.props.bootloader.extraAttachment(k);},getBootstrapURI:function j(){var k=c('XPagesExtraAttachmentBootstrapController').getURIBuilder().getURI();return c('ActorURI').create(k,this.context.actorID);}});f.exports=i;}),null);
__d("XReactComposerCTAAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/cta\/bootstrap\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"Int",required:true},cta_type:{type:"String",required:true}});}),null);
__d('ReactComposerCTALazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','ActorURI','Bootloader','React','XReactComposerCTAAttachmentBootstrapController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerCTALazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').CTA},propTypes:{bootloader:c('ReactComposerBootloaderPropTypes')},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.ctaAttachment){this.props.bootloader.ctaAttachment(j);}else c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react"],j,'ReactComposerCTALazyAttachment.react');},getBootstrapURI:function i(){var j=this.props.config.attachmentsConfig,k=j[c('ReactComposerAttachmentType').PAGES_EXTRA],l=k.attachments[c('ReactComposerAttachmentType').CTA],m=c('XReactComposerCTAAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).setString('cta_type',l.ctaType).getURI();return c('ActorURI').create(m,this.context.actorID);}});f.exports=h;}),null);
__d('ReactComposerCallLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','AdsCallToActionTypes','ActorURI','Bootloader','React','XReactComposerCTAAttachmentBootstrapController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerCallLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').CALL},propTypes:{bootloader:c('ReactComposerBootloaderPropTypes')},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.ctaAttachment){this.props.bootloader.ctaAttachment(j);}else c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react"],j,'ReactComposerCallLazyAttachment.react');},getBootstrapURI:function i(){var j=c('XReactComposerCTAAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).setString('cta_type',c('AdsCallToActionTypes').TYPES.CALL_NOW.name).getURI();return c('ActorURI').create(j,this.context.actorID);}});f.exports=h;}),null);
__d('ReactComposerGetDirectionsLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','AdsCallToActionTypes','ActorURI','Bootloader','React','XReactComposerCTAAttachmentBootstrapController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerGetDirectionsLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').GET_DIRECTIONS},propTypes:{bootloader:c('ReactComposerBootloaderPropTypes')},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.ctaAttachment){this.props.bootloader.ctaAttachment(j);}else c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react"],j,'ReactComposerGetDirectionsLazyAttachment.react');},getBootstrapURI:function i(){var j=c('XReactComposerCTAAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).setString('cta_type',c('AdsCallToActionTypes').TYPES.GET_DIRECTIONS.name).getURI();return c('ActorURI').create(j,this.context.actorID);}});f.exports=h;}),null);
__d('ReactComposerMessageLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','AdsCallToActionTypes','ActorURI','Bootloader','React','XReactComposerCTAAttachmentBootstrapController'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerMessageLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').MESSAGE},propTypes:{bootloader:c('ReactComposerBootloaderPropTypes')},bootload:function i(j){if(this.props.bootloader&&this.props.bootloader.ctaAttachment){this.props.bootloader.ctaAttachment(j);}else c('Bootloader').loadModules(["ReactComposerCTAAttachmentContainer.react"],j,'ReactComposerMessageLazyAttachment.react');},getBootstrapURI:function i(){var j=c('XReactComposerCTAAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).setString('cta_type',c('AdsCallToActionTypes').TYPES.MESSAGE_PAGE.name).getURI();return c('ActorURI').create(j,this.context.actorID);}});f.exports=h;}),null);
__d('ReactTargetingTaggerStore.react',['ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerType'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){var l={};l[c('ReactComposerTaggerType').TARGETING]={};return {taggersData:l,taggersSource:{}};},function(l){if(l.type===c('ReactComposerTaggerActionType').SET_TAGGER_DATA)k&&k.$ReactTargetingTaggerStore1(l);});k=this;}j.prototype.getTaggerData=function(k,l){'use strict';return this.getComposerData(k).taggersData[l];};j.prototype.$ReactTargetingTaggerStore1=function(k){'use strict';var l=this.getComposerData(k.composerID),m=Array.isArray(k.taggerData)?k.taggerData.slice():Object.assign({},k.taggerData);l.taggersData[k.taggerID]=m;this.emitChange(k.composerID);};f.exports=new j();}),null);
__d("XPagesGetTargetingMetadataController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/targeting\/metadata\/",{page_id:{type:"Int",required:true},target_spec:{type:"String",required:true}});}),null);
__d('ReactComposerTargetingUtils',['fbt','AsyncRequest','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactTargetingTaggerStore.react','XPagesGetTargetingMetadataController','XUIText.react','React','curry','intlList'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={fetchMetadata:function j(k,l,m){var n=c('XPagesGetTargetingMetadataController').getURIBuilder().setInt('page_id',l).setString('target_spec',JSON.stringify(k)).getURI();new (c('AsyncRequest'))().setURI(n).setHandler(c('curry')(this._onFetchMetadataHandler,m)).send();},_onFetchMetadataHandler:function j(k,l){var m=l.payload,n=m.sentences.map(function(o){return (c('React').createElement('span',null,h._("{content_label} {children}",[h.param('content_label',c('React').createElement(c('XUIText.react'),{weight:'bold'},o.content)),h.param('children',c('intlList')(o.children,c('intlList').CONJUNCTIONS.OR))])));});k(JSON.parse(m.target_spec),c('React').createElement('span',null,c('intlList')(n,c('intlList').CONJUNCTIONS.NONE)),m.reach_estimate);},getDataFromComposerTaggerStore:function j(k){return c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').TARGETING);},getDataFromTargetingTaggerStore:function j(k){return c('ReactTargetingTaggerStore.react').getTaggerData(k,c('ReactComposerTaggerType').TARGETING);},setData:function j(k,l){var m={},n=['targeting','gating','hints','targetingSentences','gatingSentences','reachEstimate'];n.map(function(o){if(l[o])m[o]=l[o];});c('ReactComposerTaggerActions').setTaggerDataWithoutLogging(k,c('ReactComposerTaggerType').TARGETING,m);}};f.exports=i;}),null);
__d('PagesComposerAudiences.react',['cx','fbt','BanzaiODS','BootloadedComponent.react','ReactComposerContextMixin','JSResource','LayerFadeOnHide','Link.react','React','ReactComposerTaggerStore','ReactComposerTargetingUtils','ReactTargetingTaggerStore.react','TargetingSpecStore','XUIDialog.react','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogSaveButton.react','XUISpinner.react','XUIText.react','areEqual','isEmpty'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=587,l=c('React').createClass({displayName:'PagesComposerAudiences',mixins:[c('ReactComposerContextMixin')],propTypes:{shown:j.bool.isRequired,onToggle:j.func.isRequired,onSave:j.func.isRequired,rootElement:j.object,callbackDataStatus:j.func,callbackSelectionStatus:j.func,saveData:j.func,initialActiveKey:j.string,canSeeCompleteList:j.bool,useTargetingAsFilter:j.bool,canSeeDemographicOptions:j.bool,feedTargetingShowReachGK:j.bool,hideFeedTargeting:j.bool,useFromLegacyComposer:j.bool,shouldShowRestrictionTabNux:j.bool,shouldHideLeftFooter:j.bool,allowExclusionsWithoutInclusions:j.bool},getStores:function m(){if(this.props.useFromLegacyComposer)return [c('ReactTargetingTaggerStore.react')];return [c('ReactComposerTaggerStore')];},getInitialState:function m(){return {fetching:false,targeting:this.getInitialSavedData('targeting'),gating:this.getInitialSavedData('gating'),hints:this.getInitialSavedData('hints'),targetingSentences:this.getInitialSavedData('targetingSentences'),gatingSentences:this.getInitialSavedData('gatingSentences'),reachEstimate:this.getInitialReachEstimate()};},componentWillMount:function m(){if(this.props.callbackSelectionStatus)this.props.callbackSelectionStatus(true);},componentWillUnmount:function m(){if(this.props.callbackSelectionStatus)this.props.callbackSelectionStatus(false);},componentDidMount:function m(){c('BanzaiODS').bumpEntityKey('ui_audience_targeting','dialog_open');},_onSave:function m(){var n={};Object.assign(n,this.state);if(!c('isEmpty')(n.targeting))n.targeting=this.convertConnectionsToInterestsFromApiToTargetingSpec(c('TargetingSpecStore').getTargetingApiSpec());if(!c('isEmpty')(n.gating))n.gating=c('TargetingSpecStore').getTargetingApiSpec();if(this.props.useFromLegacyComposer){this._onSaveLegacy(n);}else this._onSaveStore(n);this.props.onSave();},_onSaveStore:function m(n){c('ReactComposerTargetingUtils').setData(this.context.composerID,n);},_isDefaultSpec:function m(n){return c('areEqual')(n,{age_max:65,age_min:13});},_onSaveLegacy:function m(n){if(this.props.callbackDataStatus)this.props.callbackDataStatus(n.gating&&!c('isEmpty')(n.gating)&&!this._isDefaultSpec(n.gating)||n.targeting&&!c('isEmpty')(n.targeting)&&!this._isDefaultSpec(n.targeting)||n.hints&&!c('isEmpty')(n.hints)&&!this._isDefaultSpec(n.hints));c('ReactComposerTargetingUtils').setData(this.context.targetID,n);},_onTargetingChange:function m(n){if(!this.props.useTargetingAsFilter){delete n.age_min;delete n.age_max;}if(c('areEqual')(this.state.targeting,n)||c('areEqual')(this.state.hints,n))return;this.setState({fetching:true});var o=this.props.useTargetingAsFilter?n:Object.assign({},n,this.state.gating);c('ReactComposerTargetingUtils').fetchMetadata(o,this.context.targetID,this._onTargetingChangeHandler);},_onTargetingChangeHandler:function m(n,o,p){if(this.props.useTargetingAsFilter){this.setState({fetching:false,targeting:n,targetingSentences:o,reachEstimate:p});}else this.setState({fetching:false,hints:n,targetingSentences:o});},_onGatingChange:function m(n){if(c('areEqual')(this.state.gating,n))return;this.setState({fetching:true});var o=this.props.useTargetingAsFilter?n:Object.assign({},n,this.state.hints);c('ReactComposerTargetingUtils').fetchMetadata(o,this.context.targetID,this._onGatingChangeHandler);},_onGatingChangeHandler:function m(n,o){if(this.props.useTargetingAsFilter){this.setState({fetching:false,gating:n,gatingSentences:o});}else this.setState({fetching:false,gating:n,targetingSentences:o});},convertConnectionsToInterestsFromApiToTargetingSpec:function m(n){if(n&&n.connections&&!n.fan_of){n.fan_of=n.connections;delete n.connections;}return n;},convertInterestsToConnectionsFromTargetingSpecToApi:function m(n){if(n&&n.fan_of&&!n.connections){n.connections=n.fan_of;delete n.fan_of;}return n;},getInitialSavedData:function m(n){var o={};if(this.props.useFromLegacyComposer){o=this.getSavedSpec(n,this.context.targetID);}else o=this.getSavedSpec(n,this.context.composerID);return this.convertInterestsToConnectionsFromTargetingSpecToApi(o);},getSavedSpec:function m(n,o){if(this.props.useFromLegacyComposer){var p=c('ReactComposerTargetingUtils').getDataFromTargetingTaggerStore(o);}else p=c('ReactComposerTargetingUtils').getDataFromComposerTaggerStore(o);return p==null?null:p[n];},getInitialReachEstimate:function m(){if(!this.props.useTargetingAsFilter){return null;}else{var n=c('ReactComposerTargetingUtils').getDataFromComposerTaggerStore(this.context.composerID);return n==null?null:n.reachEstimate;}},renderReachEstimate:function m(){if(!this.state.reachEstimate)return null;var n=this.state.reachEstimate===20?i._("0-20"):this.state.reachEstimate,o=i._("Reach estimate for news feed targeting: {estimate_number}",[i.param('estimate_number',n)]);return (c('React').createElement(c('XUIText.react'),null,o));},renderHelpLink:function m(){var n=i._("Have a Question?"),o='https://www.facebook.com/facebookmedia/get-started/'+'audience-optimization/',p=c('React').createElement(c('Link.react'),{href:o,target:'_blank'},i._("Read our Guidelines."));return (c('React').createElement('div',{className:"_3xrd"},c('React').createElement(c('XUIText.react'),null,n),' ',p));},renderFooterLeftContent:function m(){if(this.props.shouldHideLeftFooter)return null;if(!this.props.useTargetingAsFilter)return this.renderHelpLink();return this.renderReachEstimate();},render:function m(){var n=c('React').createElement('div',{className:"_1220"},c('React').createElement(c('XUISpinner.react'),null)),o=this.props.useTargetingAsFilter?this.state.targeting:this.state.hints;return (c('React').createElement(c('XUIDialog.react'),{shown:this.props.shown,behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},layerHideOnBlur:false,onToggle:this.props.onToggle,width:k},c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('PagesComposerAudiencesBody.react').__setRef('PagesComposerAudiences.react'),bootloadPlaceholder:n,initialTargetingSpec:o,initialGatingSpec:this.state.gating,onTargetingChange:this._onTargetingChange,onGatingChange:this._onGatingChange,initialActiveKey:this.props.initialActiveKey,canSeeCompleteList:this.props.canSeeCompleteList,useTargetingAsFilter:this.props.useTargetingAsFilter,canSeeDemographicOptions:this.props.canSeeDemographicOptions,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,hideFeedTargeting:this.props.hideFeedTargeting,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux,allowExclusionsWithoutInclusions:this.props.allowExclusionsWithoutInclusions})),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:this.renderFooterLeftContent()},c('React').createElement(c('XUIDialogCancelButton.react'),{use:'default'}),c('React').createElement(c('XUIDialogSaveButton.react'),{className:"_2uyv",use:'confirm',action:'confirm',disabled:this.state.fetching,onClick:this._onSave}))));}});f.exports=l;}),null);
__d('ReactComposerPagesPrivacySelector.react',['cx','fbt','ix','ReactComposerContextMixin','Image.react','PagesComposerAudiences.react','PopoverMenu.react','ReactComponentWithPureRenderMixin','React','ReactComposerTargetingUtils','ReactLayeredComponentMixin_DEPRECATED','ReactSelectorUtils','Tooltip.react','XUIGrayText.react','ReactXUIMenu','XUIMenuSeparator.react','XUIMenuStaticItem.react','XUISelector.react','XUISelectorButton.react','PagesComposerAudiencesConstants'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('ReactXUIMenu').SelectableMenu,l=c('XUISelector.react').Option,m=c('PagesComposerAudiencesConstants').TABS,n=j('/images/icons/audience/everyone.png'),o=j('/images/icons/audience/custom.png'),p='everyone',q='custom',r=c('React').PropTypes,s=c('React').createClass({displayName:'ReactComposerPagesPrivacySelector',mixins:[c('ReactComposerContextMixin'),c('ReactComponentWithPureRenderMixin'),c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{gatingSentences:r.object,useReactPrivacyDialogForLegacy:r.bool,isVideoDialog:r.bool,useTargetingAsFilter:r.bool},getInitialState:function t(){return {dialogShown:false};},_getSelectorButton:function t(){var u=this.props.gatingSentences?o:n;return (c('React').createElement(c('XUISelectorButton.react'),{image:c('React').createElement(c('Image.react'),{src:u}),suppressed:true}));},_getMenuItems:function t(){return [c('React').createElement(l,{icon:c('React').createElement(c('Image.react'),{src:n}),value:p,onclick:this._onClearPrivacy},i._("Public")),c('React').createElement(c('XUIMenuSeparator.react'),null),c('React').createElement(c('XUIMenuStaticItem.react'),null,c('React').createElement(c('XUIGrayText.react'),{shade:'light'},i._("Limit Audience By:"))),c('React').createElement(l,{icon:c('React').createElement(c('Image.react'),{src:o}),value:q,onclick:function(){return this._onToggle(true);}.bind(this)},i._("Demographics"))];},_onToggle:function t(u){setTimeout(function(){return this.setState({dialogShown:u});}.bind(this),0);},_onClearPrivacy:function t(){var u=c('ReactComposerTargetingUtils').getDataFromComposerTaggerStore(this.context.composerID),v=Object.assign({},u);v.gating=null;v.gatingSentences=null;c('ReactComposerTargetingUtils').setData(this.context.composerID,v);},renderLayers:function t(){if(!this.state.dialogShown)return {};return (c('React').createElement(c('PagesComposerAudiences.react'),{shown:this.state.dialogShown,onToggle:this._onToggle,onSave:function(){return this._onToggle(false);}.bind(this),initialActiveKey:m.GATING,useFromLegacyComposer:this.props.isVideoDialog,useTargetingAsFilter:this.props.useTargetingAsFilter}));},render:function t(){var u=this.props.gatingSentences?q:p,v=c('ReactSelectorUtils').processMenuItems(this._getMenuItems(),u),w=c('React').createElement(k,{value:u},v.items);return (c('React').createElement(c('Tooltip.react'),{tooltip:this.props.gatingSentences},c('React').createElement('div',{className:"_5dd8"},c('React').createElement(c('PopoverMenu.react'),{menu:w},this._getSelectorButton()))));}});f.exports=s;}),null);
__d('ReactComposerPagesPrivacyContainer.react',['fbt','ix','cx','ReactComposerPagesPrivacySelector.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComponentWithPureRenderMixin','React','Image.react','Tooltip.react'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i('/images/icons/audience/everyone_gray.png'),l=c('React').PropTypes,m=c('React').createClass({displayName:'ReactComposerPagesPrivacyContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],propTypes:{lockToPrivacy:l.string,useTargetingAsFilter:l.bool},statics:{calculateState:function n(o,p){var q=c('ReactComposerTaggerStore').getTaggerData(o,c('ReactComposerTaggerType').TARGETING)||{};return {gatingSentences:q.gatingSentences};}},render:function n(){if(this.props.lockToPrivacy){return this._renderLockedIcon();}else return this._renderSelector();},_renderSelector:function n(){return (c('React').createElement(c('ReactComposerPagesPrivacySelector.react'),{gatingSentences:this.state.gatingSentences,useTargetingAsFilter:this.props.useTargetingAsFilter}));},_renderLockedIcon:function n(){switch(this.props.lockToPrivacy){case 'everyone':return (c('React').createElement('div',{className:"_3jv0"},c('React').createElement(c('Tooltip.react'),{tooltip:h._("Everyone can see posts on this public page")},c('React').createElement('div',{className:"_3jv1"},c('React').createElement(c('Image.react'),{src:k})))));default:return null;}}});f.exports=m;}),null);
__d('ReactComposerProductTaggerButton.react',['fbt','cx','CommerceProductTaggerType','ReactComposerTaggerActions','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','PagesCalloutHelper','React','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerProductTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin')],statics:{taggerID:c('ReactComposerTaggerType').PRODUCT},propTypes:{nuxTipID:j.string,productTaggerType:j.string.isRequired},getTitle:function l(){return h._("Tag a product");},getNUX:function l(){if(!this.state.showNUX||!this.state.contextRef)return null;var m=this.props.productTaggerType===c('CommerceProductTaggerType').SHOP_PAGE?h._("Tag products from your shop in your post"):h._("Tag products from your product catalog in your post");return (c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'center',contextRef:function(){return this.state.contextRef;}.bind(this),position:'above',shown:true,onCloseButtonClick:this._hideNUX},m));},getTooltip:function l(){return h._("Tag a product");},getClassName:function l(){return "_22ma";},getRef:function l(){return 'fbReactComposerProductTaggerButton';},componentDidMount:function l(){this.setState({contextRef:this.refs.fbReactComposerProductTaggerButton});},_hideNUX:function l(){c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.context.composerID,c('ReactComposerTaggerType').PRODUCT,false);if(this.props.nuxTipID)c('PagesCalloutHelper').logXout(this.props.nuxTipID);}});f.exports=k;}),null);
__d('ReactComposerPeopleTaggerTokenizerToken.react',['cx','React','SearchableEntry','TokenizerToken.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerPeopleTaggerTokenizerToken1=function(){return (c('React').createElement('span',{className:"_jsa"}));},n;}l.prototype.render=function(){'use strict';var m=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox,n=(m?"_jsb":'')+(' '+"_jsc");return (c('React').createElement(c('TokenizerToken.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,n),glyph:this.$ReactComposerPeopleTaggerTokenizerToken1()})));};l.propTypes={label:k.string.isRequired,entry:k.instanceOf(c('SearchableEntry')).isRequired,onRemove:k.func,highlighted:k.bool};f.exports=l;}),null);
__d('ReactComposerProductTaggerTokenizerToken.react',['cx','ReactComposerPeopleTaggerTokenizerToken.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l="_rox";return (c('React').createElement(c('ReactComposerPeopleTaggerTokenizerToken.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,l)})));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('ReactComposerProductTaggerComponent.react',['cx','fbt','ReactComposerPhotoActions','ReactComposerProductTaggerTokenizerToken.react','ReactComposerTaggerPresenter','ReactComposerTaggerViewStyles','Grid.react','React','TokenizerExampleSearchSource','XUITokenizer.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={edited:false},this.$ReactComposerProductTaggerComponent1=function(){this.props.onSelect&&this.props.onSelect({});}.bind(this),this.$ReactComposerProductTaggerComponent3=function(t){var u=this.props.taggerData,v=t.getUniqueID(),w=u.some(function(x){return x.getUniqueID()===v;});if(w){return;}else{this.setState({edited:true});u.push(t);}this.props.onSelect&&this.props.onSelect(u);}.bind(this),this.$ReactComposerProductTaggerComponent5=function(t){var u=this.props.taggerData,v=u.indexOf(t);if(v==-1)return;this.setState({edited:true});u.splice(v,1);c('ReactComposerPhotoActions').untagSubjectFromAllPhotos(this.props.reactComposerID,t.getUniqueID());this.props.onSelect&&this.props.onSelect(u);}.bind(this),this.$ReactComposerProductTaggerComponent4=function(event){this.setState({edited:true});}.bind(this),this.$ReactComposerProductTaggerComponent2=function(){var t={};t.taggerViewStyle=c('ReactComposerTaggerViewStyles').DEFAULT;return Object.assign({},c('ReactComposerTaggerPresenter'),{extraRendererProps:t,TokenRenderer:c('ReactComposerProductTaggerTokenizerToken.react')});},p;}n.prototype.render=function(){'use strict';return c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(l,{key:'label',className:"_5esm",role:'presentation'},i._("Products shown")),c('React').createElement(l,{key:'tokenizer',className:"_5esw",role:'presentation'},c('React').createElement('div',null,c('React').createElement(c('XUITokenizer.react'),babelHelpers['extends']({},this.props,{className:"_4fmg",presenter:this.$ReactComposerProductTaggerComponent2(),entries:this.props.taggerData,focusedOnInit:this.props.autoFocus,onAddEntryAttempt:this.$ReactComposerProductTaggerComponent3,onQueryStringChange:this.$ReactComposerProductTaggerComponent4,onRemoveEntryAttempt:this.$ReactComposerProductTaggerComponent5,placeholder:this.props.placeholder,searchSource:this.props.taggerSource})))));};n.propTypes={autoFocus:m.bool,placeholder:m.string,taggerSource:m.object,taggerData:m.array.isRequired,onSelect:m.func};n.defaultProps={autoFocus:true,onSelect:c('emptyFunction'),placeholder:i._("What products are in this post?"),taggerData:[],taggerSource:new (c('TokenizerExampleSearchSource'))()};f.exports=n;}),null);
__d('ReactComposerProductTaggerContainer.react',['ReactComposerLoggingName','ReactComposerProductTaggerComponent.react','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','React','SubscriptionsHandler','WebAsyncSearchSource'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerProductTaggerContainer',_subscriptions:undefined,mixins:[c('ReactComposerTaggerContainerMixin')],statics:{taggerID:c('ReactComposerTaggerType').PRODUCT,loggingName:c('ReactComposerLoggingName').PRODUCT_TAGGER,taggerComponent:c('ReactComposerProductTaggerComponent.react')},propTypes:{reactComposerID:h.string.isRequired,pageIDs:h.arrayOf(h.string).isRequired,viewer:h.string.isRequired},getInitialState:function j(){return {reachEstimate:null,searchSource:null};},componentWillMount:function j(){this._updateProductSearchSource();},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release();},_updateProductSearchSource:function j(){var k=this.state.searchSource;if(k===null)k=this._createAndBootstrapProductTypeSearchSource();c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').PRODUCT,k);},_createAndBootstrapProductTypeSearchSource:function j(){var k={filter:['product_items'],viewer:this.props.viewer};return new (c('WebAsyncSearchSource'))({queryRequests:[{uri:'/ajax/product_items/typeahead/query.php',data:Object.assign({},k,{is_bootstrap:false,page_ids:this.props.pageIDs})}],bootstrapRequests:[{uri:'/ajax/product_items/typeahead/bootstrap.php',data:Object.assign({},k,{is_bootstrap:true,page_ids:this.props.pageIDs})}],auxiliaryFields:{verified:'is_verified'}});}});f.exports=i;}),null);
__d("XBrandedContentTaggerNuxController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/branded_content\/tagger\/nux\/",{action:{type:"Enum",required:true,enumType:1}});}),null);
__d('ReactComposerSponsorTaggerButton.react',['fbt','cx','AsyncRequest','BrandedContentTaggerNuxAction','ReactComposerContextMixin','ReactComposerTaggerActions','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React','XBrandedContentTaggerNuxController','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'ReactComposerSponsorTaggerButton',mixins:[c('ReactComposerContextMixin'),c('ReactComposerTaggerButtonMixin')],statics:{taggerID:c('ReactComposerTaggerType').SPONSOR},componentDidMount:function k(){this._logNUXView();},getTitle:function k(){return h._("Does this post feature a third party brand or product? If so, you must tag the associated Page. See Branded Content policy.");},getTooltip:function k(){return h._("Does this post feature a third party brand or product? If so, you must tag the associated Page. See Branded Content policy.");},getClassName:function k(){return "_5rzo";},getRef:function k(){return 'fbReactComposerSponsorTaggerButton';},getNUX:function k(){if(!this.state.showNUX||!this.refs.fbReactComposerSponsorTaggerButton)return null;return (c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'left',contextRef:function(){return this.refs.fbReactComposerSponsorTaggerButton;}.bind(this),position:'below',shown:true,onCloseButtonClick:function(){return this._onNUXClose();}.bind(this)},h._("Share branded content on Facebook with our new tool.")));},_onNUXClose:function k(){c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.context.composerID,c('ReactComposerTaggerType').SPONSOR,false);this._dismissNUX();},_dismissNUX:function k(){var l=c('XBrandedContentTaggerNuxController').getURIBuilder().setEnum('action',c('BrandedContentTaggerNuxAction').DISMISS).getURI();new (c('AsyncRequest'))().setMethod('post').setURI(l).send();},_logNUXView:function k(){var l=c('XBrandedContentTaggerNuxController').getURIBuilder().setEnum('action',c('BrandedContentTaggerNuxAction').LOG_VIEW).getURI();new (c('AsyncRequest'))().setMethod('post').setURI(l).send();}});f.exports=j;}),null);
__d('ReactComposerSponsorTaggerComponent.react',['cx','fbt','ReactComposerTaggerViewStyles','Grid.react','Link.react','React','XUIContextualDialog.react','XUIContextualDialogBody.react','XUITokenizer.react','TokenizerExampleSearchSource','emptyFunction'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={tipFocused:false,inputFocused:false,edited:false},this.$ReactComposerSponsorTaggerComponent1=function(){this.props.onSelect&&this.props.onSelect({});}.bind(this),this.$ReactComposerSponsorTaggerComponent2=function(){var t=!this.state.edited&&(this.state.inputFocused||this.state.tipFocused)&&this.props.taggerData.length===0,u=function(){return this.refs.typeahead;}.bind(this),v=c('React').createElement('span',{onMouseLeave:this.$ReactComposerSponsorTaggerComponent3,onMouseEnter:this.$ReactComposerSponsorTaggerComponent4},i._("Pages you tag in your post will be notified. They will be able to view your post's metrics and use it to create an ad. If you promote this post, the tagged Page can see the ad spend and its CPM metrics."),c('React').createElement('span',{className:"_2pis"},c('React').createElement(c('Link.react'),{href:'/policies/brandedcontent/',target:'_blank'},i._("See Policy"))));return (c('React').createElement(c('XUIContextualDialog.react'),{contextRef:u,position:'below',shown:t,width:350},c('React').createElement(c('XUIContextualDialogBody.react'),null,v)));}.bind(this),this.$ReactComposerSponsorTaggerComponent5=function(t){var u=this.props.taggerData,v=t.getUniqueID(),w=u.some(function(x){return x.getUniqueID()===v;});if(w){return;}else{this.setState({edited:true});u.push(t);}this.props.onSelect&&this.props.onSelect(u);}.bind(this),this.$ReactComposerSponsorTaggerComponent9=function(t){var u=this.props.taggerData,v=u.indexOf(t);if(v==-1)return;this.setState({edited:true});u.splice(v,1);this.props.onSelect&&this.props.onSelect(u);}.bind(this),this.$ReactComposerSponsorTaggerComponent6=function(){this.setState({inputFocused:false});}.bind(this),this.$ReactComposerSponsorTaggerComponent7=function(){this.setState({inputFocused:true});}.bind(this),this.$ReactComposerSponsorTaggerComponent4=function(){this.setState({tipFocused:true});}.bind(this),this.$ReactComposerSponsorTaggerComponent3=function(){this.setState({tipFocused:false});}.bind(this),this.$ReactComposerSponsorTaggerComponent8=function(event){this.setState({edited:true});}.bind(this),p;}n.prototype.render=function(){'use strict';return c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(l,{key:'label',className:"_5esm",role:'presentation'},i._("With")),c('React').createElement(l,{key:'tokenizer',className:"_5esw",role:'presentation'},c('React').createElement('div',null,c('React').createElement(c('XUITokenizer.react'),babelHelpers['extends']({ref:'typeahead'},this.props,{entries:this.props.taggerData,focusedOnInit:this.props.autoFocus,onAddEntryAttempt:this.$ReactComposerSponsorTaggerComponent5,onInputBlur:this.$ReactComposerSponsorTaggerComponent6,onInputFocus:this.$ReactComposerSponsorTaggerComponent7,onQueryStringChange:this.$ReactComposerSponsorTaggerComponent8,onRemoveEntryAttempt:this.$ReactComposerSponsorTaggerComponent9,placeholder:this.props.placeholder,searchSource:this.props.taggerSource})),this.$ReactComposerSponsorTaggerComponent2())));};n.propTypes={autoFocus:m.bool,placeholder:m.string,taggerSource:m.object,taggerData:m.array.isRequired,onPeopleTagRemove:m.func,onSelect:m.func,taggerViewStyle:m.shape(c('ReactComposerTaggerViewStyles').Shape)};n.defaultProps={autoFocus:true,onSelect:c('emptyFunction'),placeholder:i._("Who is sponsoring you for this post?"),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT,taggerData:[],taggerSource:new (c('TokenizerExampleSearchSource'))()};f.exports=n;}),null);
__d('ReactComposerSponsorTaggerContainer.react',['ReactComposerLoggingName','ReactComposerSponsorTaggerComponent.react','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','React','SubscriptionsHandler','WebAsyncSearchSource'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerSponsorTaggerContainer',_subscriptions:undefined,mixins:[c('ReactComposerTaggerContainerMixin')],statics:{taggerID:c('ReactComposerTaggerType').SPONSOR,loggingName:c('ReactComposerLoggingName').SPONSOR_TAGGER,taggerComponent:c('ReactComposerSponsorTaggerComponent.react')},propTypes:{viewer:h.string.isRequired},getInitialState:function j(){return {sponsorSentences:null,reachEstimate:null,searchSource:null};},componentWillMount:function j(){this._updateSponsorSearchSource();},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release();},_updateSponsorSearchSource:function j(){var k=this.state.searchSource;if(k===null)k=this._createAndBootstrapSponsorTypeSearchSource();c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').SPONSOR,k);},_createAndBootstrapSponsorTypeSearchSource:function j(){var k={filter:['page'],viewer:this.props.viewer,rsp:'mentions',bsp:'true'};return new (c('WebAsyncSearchSource'))({queryRequests:[{uri:'/ajax/typeahead/search.php',data:Object.assign({},k,{is_bootstrap:false})}],bootstrapRequests:[{uri:'/ajax/typeahead/first_degree.php',data:Object.assign({},k,{is_bootstrap:true})}],auxiliaryFields:{verified:'is_verified'}});}});f.exports=i;}),null);
__d('ReactComposerTargetingTaggerButtonMixin',['cx','fbt'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={getInitialState:function k(){return {dialogShown:false};},getTitleTooltip:function k(){if(this.props.createLiveVideoTooltipText!=null){return this.props.createLiveVideoTooltipText;}else if(this.props.useTargetingAsFilter){return i._("Narrow the potential News Feed audience for this post");}else return i._("Choose the preferred audiences for this post");},getTitle:function k(){return this.getTitleTooltip();},getTooltip:function k(){return this.getTitleTooltip();},getClassName:function k(){return "_lmf";},getRef:function k(){return 'fbReactComposerTargetingTagger';},_onToggle:function k(l){setTimeout(function(){return this.setState({dialogShown:l});}.bind(this),0);},_onSelectX:function k(){this.setState({dialogShown:true});}};f.exports=j;}),null);
__d("XReactComposerTargetingTaggerNuxController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/edit\/targeting_tagger_nux\/",{});}),null);
__d('ReactComposerTargetingTaggerButton.react',['fbt','AsyncRequest','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','ReactComposerTargetingTaggerButtonMixin','PagesComposerAudiences.react','React','ReactLayeredComponentMixin_DEPRECATED','XReactComposerTargetingTaggerNuxController','XUIAmbientNUX.react','XUIText.react','PagesComposerAudiencesConstants'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('PagesComposerAudiencesConstants').TABS,k=-12,l=300,m=c('React').createClass({displayName:'ReactComposerTargetingTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin'),c('ReactComposerTargetingTaggerButtonMixin'),c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{createLiveVideoTooltipText:i.string,feedTargetingGK:i.bool,feedTargetingShowReachGK:i.bool,hideFeedTargeting:i.bool,shouldShowTargetingTaggerNux:i.bool,shouldShowRestrictionTabNux:i.bool,useTargetingAsFilter:i.bool,shouldHideLeftFooter:i.bool,allowExclusionsWithoutInclusions:i.bool},statics:{taggerID:c('ReactComposerTaggerType').TARGETING,disableToggle:true},getDefaultProps:function n(){return {feedTargetingGK:false,feedTargetingShowReachGK:false,hideFeedTargeting:false,useTargetingAsFilter:true};},getInitialState:function n(){return {showTargetingTaggerNux:this.props.shouldShowTargetingTaggerNux};},componentDidMount:function n(){var o=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(o){var p=c('XReactComposerTargetingTaggerNuxController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(p).setMethod('POST').setData({impression:true}).send();}},componentWillUnmount:function n(){if(this.state.showTargetingTaggerNux)this.setState({showTargetingTaggerNux:false});},_onNuxClose:function n(){this.setState({showTargetingTaggerNux:false});var o=c('XReactComposerTargetingTaggerNuxController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(o).setMethod('POST').setData({acked:true}).send();},_renderNux:function n(){return (c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.fbReactComposerTargetingTagger;}.bind(this),onCloseButtonClick:this._onNuxClose,offsetY:k,position:'below',shown:true,width:'custom',customwidth:l},c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),null,h._("Use Audience Optimization to reach people who are more likely to engage with your post.")))));},renderLayers:function n(){var o=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(o)return this._renderNux();if(this.state.dialogShown)return (c('React').createElement(c('PagesComposerAudiences.react'),{allowExclusionsWithoutInclusions:this.props.allowExclusionsWithoutInclusions,shown:this.state.dialogShown,onToggle:this._onToggle,onSave:function(){return this._onToggle(false);}.bind(this),initialActiveKey:this.props.hideFeedTargeting?j.GATING:j.TARGETING,shouldHideLeftFooter:this.props.shouldHideLeftFooter,useTargetingAsFilter:this.props.useTargetingAsFilter,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,hideFeedTargeting:this.props.hideFeedTargeting,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux}));return {};}});f.exports=m;}),null);
__d('ReactComposerTargetingTaggerComponent.react',['cx','fbt','Grid.react','React','XUICloseButton.react','XUIText.react','emptyFunction','isEmpty'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerTargetingTaggerComponent1=function(){this.props.onSelect({});}.bind(this),p;}n.prototype.render=function(){'use strict';return (c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(l,{key:'prefix',className:"_5esm",role:'presentation'},i._("Targeting")),c('React').createElement(l,{key:'tagger',className:"_5esw",role:'presentation'},c('React').createElement('div',{className:"_2doa"},c('React').createElement('div',{className:"_2dob"},c('React').createElement(c('XUICloseButton.react'),{className:"_2doc"+(c('isEmpty')(this.props.taggerData)?' '+"hidden_elem":''),size:'small',type:'button',onClick:this.$ReactComposerTargetingTaggerComponent1})),c('React').createElement('div',{className:"_2dod"},c('React').createElement(c('XUIText.react'),null,this.props.targetingSentences))))));};n.propTypes={taggerData:m.object.isRequired,onSelect:m.func.isRequired,targetingSentences:m.object};n.defaultProps={taggerData:{},onSelect:c('emptyFunction')};f.exports=n;}),null);
__d('ReactComposerTargetingTaggerContainer.react',['ReactComposerLoggingName','ReactComposerTaggerActions','ReactComposerTaggerContainerStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTargetingTaggerComponent.react','SubscriptionsHandler','React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerTargetingTaggerContainer',_subscriptions:undefined,mixins:[c('ReactComposerTaggerContainerStateMixin')],statics:{taggerID:c('ReactComposerTaggerType').TARGETING},getInitialState:function i(){return {targetingSentences:null};},componentWillMount:function i(){var j=new (c('SubscriptionsHandler'))();j.addSubscriptions(c('ReactComposerTaggerStore').addChangeListener(this._onChange));this._subscriptions=j;},componentWillUnmount:function i(){this._subscriptions&&this._subscriptions.release();},_onChange:function i(){var j=c('ReactComposerTaggerStore').getTaggerData(this.context.composerID,c('ReactComposerTaggerType').TARGETING);this.setState({targetingSentences:j?j.targetingSentences:null});},_onTaggerDataChanged:function i(j){this.__onTaggerDataChanged&&this.__onTaggerDataChanged(j);c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,c('ReactComposerLoggingName').TARGETING_TAGGER,c('ReactComposerTaggerType').TARGETING,j);this.props.onSelect&&this.props.onSelect(j);},render:function i(){if(!this.state.isSelected)return c('React').createElement('noscript',null);return (c('React').createElement(c('ReactComposerTargetingTaggerComponent.react'),babelHelpers['extends']({},this.props,this.state,{autoFocus:this.state.autoFocus,taggerSource:this.state.taggerSource,taggerData:this.state.taggerData,onSelect:this._onTaggerDataChanged})));}});f.exports=h;}),null);
__d('ReactPagesComposerBodyWrapper.react',['ReactComposerAttachmentType','ReactComposerBody.react','ReactComposerBoostedPostLazyButton.react','ReactComposerCallLazyAttachment.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerCTALazyAttachment.react','ReactComposerGetDirectionsLazyAttachment.react','ReactComposerLiveVideoLazyAttachment.react','ReactComposerMediaLazyAttachment.react','ReactComposerMessageLazyAttachment.react','ReactComposerPagesBootloader','ReactComposerPagesPrivacyContainer.react','ReactComposerProductTaggerButton.react','ReactComposerProductTaggerContainer.react','ReactComposerQAndALazyAttachment.react','ReactComposerQuestionLazyAttachment.react','ReactComposerSponsorTaggerButton.react','ReactComposerSponsorTaggerContainer.react','ReactComposerStatusLazyAttachment.react','ReactComposerTaggerActions','ReactComposerTaggerType','ReactComposerTargetingTaggerButton.react','ReactComposerTargetingTaggerContainer.react','PagesCalloutActions','PagesCalloutDispatcher','PagesComposerExtraLazyAttachment.react','React','dotAccess'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactPagesComposerBodyWrapper',mixins:[c('ReactComposerContextProviderMixin')],propTypes:{contextConfig:c('ReactComposerContextConfig').isRequired,config:c('ReactComposerConfig').isRequired,selectedAttachment:h.string},_getAdditionalTaggersForStatusAttachment:function j(){var k=[],l=this.props.config.taggersConfig;if(l[c('ReactComposerTaggerType').TARGETING].enabled)k.push(this._getTargetTagger());if(l[c('ReactComposerTaggerType').SPONSOR].enabled)k.push(this._getSponsorTagger());if(l[c('ReactComposerTaggerType').PRODUCT].enabled)k.push(this._getProductTagger());return k;},_getAdditionalTaggersForMediaAttachment:function j(){return this._getAdditionalTaggersForStatusAttachment();},_getTargetTagger:function j(){var k=this.props.config.taggersConfig[c('ReactComposerTaggerType').TARGETING],l=this.props.config.nuxConfig;return {button:c('React').createElement(c('ReactComposerTargetingTaggerButton.react'),{feedTargetingGK:c('dotAccess')(k,'feedTargetingGK'),feedTargetingShowReachGK:c('dotAccess')(k,'feedTargetingShowReachGK'),shouldShowTargetingTaggerNux:l.shouldShowTargetingTaggerNux,shouldShowRestrictionTabNux:this.props.config.nuxConfig.shouldShowRestrictionTabNux,useTargetingAsFilter:!c('dotAccess')(k,'feedTargetingGK'),key:'targeting_button'}),container:c('React').createElement(c('ReactComposerTargetingTaggerContainer.react'),{key:'targeting_container'})};},_getSponsorTagger:function j(){var k=this.props.config.taggersConfig[c('ReactComposerTaggerType').SPONSOR];c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.props.contextConfig.composerID,c('ReactComposerTaggerType').SPONSOR,k.showSponsorTaggerButtonNUX);return {button:c('React').createElement(c('ReactComposerSponsorTaggerButton.react'),{key:'sponsor_button'}),container:c('React').createElement(c('ReactComposerSponsorTaggerContainer.react'),{key:'sponsor_container',viewer:this.props.config.actorConfig.viewerAccountID})};},_getProductTagger:function j(){var k=this.props.config.taggersConfig[c('ReactComposerTaggerType').PRODUCT];if(k.productTaggerButtonNUXTipID)c('PagesCalloutDispatcher').dispatch({type:c('PagesCalloutActions').REGISTER_CALLOUT,data:{tip_id:k.productTaggerButtonNUXTipID,showCallback:function(){return c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.props.contextConfig.composerID,c('ReactComposerTaggerType').PRODUCT,true);}.bind(this),nux_id:k.productTaggerButtonNUXID}});var l=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];return {button:c('React').createElement(c('ReactComposerProductTaggerButton.react'),{key:'product_button',productTaggerType:l.productTaggerType,nuxTipID:k.productTaggerButtonNUXTipID}),container:c('React').createElement(c('ReactComposerProductTaggerContainer.react'),{key:'product_container',reactComposerID:this.props.contextConfig.composerID,pageIDs:[this.props.config.targetData.targetID],viewer:this.props.config.actorConfig.viewerAccountID})};},_getAdditionalFooterActionsForStatusAttachment:function j(){var k=[];if(this.props.config.boostedPostButtonConfig)k.push(c('React').createElement(c('ReactComposerBoostedPostLazyButton.react'),babelHelpers['extends']({},this.props.config.boostedPostButtonConfig,{key:'boosted_post_button',reactComposerID:this.props.contextConfig.composerID})));if(this.props.config.taggersConfig[c('ReactComposerTaggerType').TARGETING].enabled&&!c('dotAccess')(this.props.config,'feedTargetingGK'))k.push(c('React').createElement(c('ReactComposerPagesPrivacyContainer.react'),{key:'privacy_selector',lockToPrivacy:this.props.config.taggersConfig[c('ReactComposerTaggerType').TARGETING].lockToPrivacy,useTargetingAsFilter:true}));return k;},_getAdditionalFooterActionsForLiveVideoAttachment:function j(){var k=[];if(this.props.config.taggersConfig[c('ReactComposerTaggerType').TARGETING].enabled&&!c('dotAccess')(this.props.config,'feedTargetingGK'))k.push(c('React').createElement(c('ReactComposerPagesPrivacyContainer.react'),{key:'privacy_selector',lockToPrivacy:this.props.config.taggersConfig[c('ReactComposerTaggerType').TARGETING].lockToPrivacy,useTargetingAsFilter:true}));return k;},_getAdditionalFooterActionsForMediaAttachment:function j(){return this._getAdditionalFooterActionsForStatusAttachment();},render:function j(){var k=this.props.config.attachmentsConfig,l=k[c('ReactComposerAttachmentType').STATUS],m=k[c('ReactComposerAttachmentType').LIVE_VIDEO];return (c('React').createElement(c('ReactComposerBody.react'),null,c('React').createElement(c('ReactComposerStatusLazyAttachment.react'),{config:this.props.config,selected:!this.props.selectedAttachment||this.props.selectedAttachment===c('ReactComposerAttachmentType').STATUS,placeholder:l.placeholder,additionalTaggers:this._getAdditionalTaggersForStatusAttachment(),additionalFooterActions:this._getAdditionalFooterActionsForStatusAttachment(),bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerMediaLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').MEDIA,additionalTaggers:this._getAdditionalTaggersForMediaAttachment(),additionalFooterActions:this._getAdditionalFooterActionsForMediaAttachment(),bootloader:c('ReactComposerPagesBootloader'),config:this.props.config}),m.enabled?c('React').createElement(c('ReactComposerLiveVideoLazyAttachment.react'),{additionalFooterActions:this._getAdditionalFooterActionsForLiveVideoAttachment(),selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').LIVE_VIDEO,bootloader:c('ReactComposerPagesBootloader'),config:this.props.config}):null,c('React').createElement(c('PagesComposerExtraLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').PAGES_EXTRA,bootloader:c('ReactComposerPagesBootloader'),config:this.props.config}),c('React').createElement(c('ReactComposerQuestionLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').QUESTION,config:this.props.config,key:c('ReactComposerAttachmentType').QUESTION,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerQAndALazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').QANDA,config:this.props.config,key:c('ReactComposerAttachmentType').QANDA,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerCTALazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').CTA,config:this.props.config,key:c('ReactComposerAttachmentType').CTA,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerMessageLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').MESSAGE,config:this.props.config,key:c('ReactComposerAttachmentType').MESSAGE,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerGetDirectionsLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').GET_DIRECTIONS,config:this.props.config,key:c('ReactComposerAttachmentType').GET_DIRECTIONS,bootloader:c('ReactComposerPagesBootloader')}),c('React').createElement(c('ReactComposerCallLazyAttachment.react'),{selected:this.props.selectedAttachment===c('ReactComposerAttachmentType').CALL,config:this.props.config,key:c('ReactComposerAttachmentType').CALL,bootloader:c('ReactComposerPagesBootloader')})));}});f.exports=i;}),null);
__d('ReactPagesComposer.react',['cx','ReactComposer.react','ReactComposerAttachmentActions','ReactPagesComposerBodyWrapper.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ComposerEntryPointRef','ReactComposerLazyHeader.react','ReactComposerLiveVideoAttachmentSelector.react','ReactComposerMediaAttachmentSelector.react','ReactComposerPagesStore','ReactComposerPrefillUtils','ReactComposerStatusAttachmentSelector.react','ReactComposerAttachmentType','BootloadedComponent.react','JSResource','PagesComposer','PagesComposerExtraAttachmentSelector.react','React','XUISpinner.react','PagesComposerUnpublishedPostsStore'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();c('PagesComposerUnpublishedPostsStore');var i=c('React').createClass({displayName:'ReactPagesComposer',mixins:[c('ReactComposerContextProviderMixin')],propTypes:{contextConfig:c('ReactComposerContextConfig').isRequired,config:c('ReactComposerConfig').isRequired},componentDidMount:function j(){c('PagesComposer').init(this.props.contextConfig.composerID,this.props.contextConfig.targetID);c('ReactComposerPagesStore').registerComposerID(this.props.contextConfig.composerID);if(this.props.config.expanded)c('ReactComposerAttachmentActions').selectAttachment(this.props.contextConfig.composerID,c('ReactComposerAttachmentType').STATUS,true);},componentWillMount:function j(){if(this.props.prefillConfig)c('ReactComposerPrefillUtils').prefill(this.props.contextConfig.composerID,this.props.prefillConfig);},render:function j(){var k=this.props.config.attachmentsConfig,l=k[c('ReactComposerAttachmentType').PAGES_EXTRA],m=k[c('ReactComposerAttachmentType').STATUS],n=k[c('ReactComposerAttachmentType').MEDIA],o=k[c('ReactComposerAttachmentType').LIVE_VIDEO];return (c('React').createElement(c('ReactComposer.react'),{hideBorders:this.props.config.hideBorders!==false,loggingConfig:this.props.config.loggingConfig},c('React').createElement(c('ReactComposerLazyHeader.react'),{background:'light-wash',noHorizontalMargin:true,rightChild:this._renderActorSelector(),showDelimiter:false},c('React').createElement(c('ReactComposerStatusAttachmentSelector.react'),{label:m.label}),n.enabled?c('React').createElement(c('ReactComposerMediaAttachmentSelector.react'),null):null,o.enabled?c('React').createElement(c('ReactComposerLiveVideoAttachmentSelector.react'),null):null,l.enabled?c('React').createElement(c('PagesComposerExtraAttachmentSelector.react'),{enabled:!!l.enabled,label:l.label,icon:l.icon,aymtNuxEnabled:l.aymtNuxEnabled,attachmentsConfig:l}):null),c('React').createElement(c('ReactPagesComposerBodyWrapper.react'),this.props)));},_renderActorSelector:function j(){var k=this.props.contextConfig.composerType;if(k!==c('ComposerEntryPointRef').PAGES_FEED&&k!==c('ComposerEntryPointRef').TIMELINE)return null;var l=this.props.config.actorConfig;l.composerID=this.props.contextConfig.composerID;return (c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({},l,{bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),{className:"_3igw"}),bootloadLoader:c('JSResource')('ReactComposerActorSelectorContainer.react').__setRef('ReactPagesComposer.react')})));}});f.exports=i;}),null);
__d('PagesPicUIEvents',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={PHOTO_DESELECTED:'PagesPicUIEvents/photoDeselected',PHOTO_SELECTED:'PagesPicUIEvents/photoSelected',PHOTOS_SELECTED_CONFIRM:'PagesPicUIEvents/photosSelectedConfirm'};f.exports=h;}),null);
__d('PagesPicModalManager',['Arbiter','PagesPicUIEvents','tidyEvent'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){'use strict';this.setIsOpen(false);}h.prototype.setIsOpen=function(i){'use strict';this.$PagesPicModalManager1=i;return this;};h.prototype.isOpen=function(){'use strict';return this.$PagesPicModalManager1;};h.prototype.informPhotoSelected=function(i){'use strict';c('Arbiter').inform(c('PagesPicUIEvents').PHOTO_SELECTED,i);};h.prototype.informPhotoDeselected=function(i){'use strict';c('Arbiter').inform(c('PagesPicUIEvents').PHOTO_DESELECTED,i);};h.prototype.informPhotosSelectedConfirm=function(i){'use strict';c('Arbiter').inform(c('PagesPicUIEvents').PHOTOS_SELECTED_CONFIRM,i);};h.prototype.subscribePhotoSelected=function(i){'use strict';c('tidyEvent')(c('Arbiter').subscribe(c('PagesPicUIEvents').PHOTO_SELECTED,i));};h.prototype.subscribePhotoDeselected=function(i){'use strict';c('tidyEvent')(c('Arbiter').subscribe(c('PagesPicUIEvents').PHOTO_DESELECTED,i));};h.prototype.subscribePhotosSelectedConfirm=function(i){'use strict';return c('tidyEvent')(c('Arbiter').subscribeOnce(c('PagesPicUIEvents').PHOTOS_SELECTED_CONFIRM,i));};f.exports=new h();}),null);
__d('ReactComposerCanvasActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({HIDE_CANVAS_SELECTOR:null,SHOW_CANVAS_SELECTOR:null},'ReactComposerCanvasActionType');}),null);
__d('ReactComposerCanvasActions',['ReactComposerDispatcher','ReactComposerCanvasActionType'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={showCanvasSelector:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerCanvasActionType').SHOW_CANVAS_SELECTOR});},hideCanvasSelector:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerCanvasActionType').HIDE_CANVAS_SELECTOR});}};f.exports=h;}),null);
__d('ReactComposerPhotoCarouselActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SELECT_PHOTO_CAROUSEL:null,UNSELECT_PHOTO_CAROUSEL:null,PREVIEW_COMPLETED:null,PREVIEW_INCOMPLETED:null,HIDE_CAROUSEL_URL_INPUT_AREA:null,SHOW_CAROUSEL_URL_INPUT_AREA:null,SEEN_NUX:null},'ReactComposerPhotoCarouselActionType');}),null);
__d('ReactComposerPhotoCarouselActions',['ReactComposerPhotoCarouselActionType','ReactComposerDispatcher','ReactComposerPhotoStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerPhotoStore');var h={selectPhotoCarouselEntryPoint:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').SELECT_PHOTO_CAROUSEL});},unselectPhotoCarouselEntryPoint:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').UNSELECT_PHOTO_CAROUSEL});},setPreviewCompleted:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').PREVIEW_COMPLETED});},setPreviewIncompleted:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').PREVIEW_INCOMPLETED});},showPhotoCarouselUrlEditArea:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,source:k,targetID:l,type:c('ReactComposerPhotoCarouselActionType').SHOW_CAROUSEL_URL_INPUT_AREA});},hidePhotoCarouselUrlEditArea:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').HIDE_CAROUSEL_URL_INPUT_AREA});},seenNux:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoCarouselActionType').SEEN_NUX});}};f.exports=h;}),null);
__d('SlideshowMediaUploadContainer.react',['cx','fbt','ix','React','Image.react','XUIButton.react','XUINotice.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$SlideshowMediaUploadContainer1=function(){if(!this.props.errorMessage)return null;return (c('React').createElement('div',{className:"_3dg4"},c('React').createElement(c('XUINotice.react'),{use:'warn'},this.props.errorMessage)));}.bind(this),o;}m.prototype.render=function(){return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:"_v32"+(!!this.props.errorMessage?' '+"_16q2":'')}),this.$SlideshowMediaUploadContainer1(),c('React').createElement(c('Image.react'),{className:"_v33",hidden:!!this.props.errorMessage,src:j('/images/slideshow/photostack.png')}),c('React').createElement('div',{className:"_3dg5"+(!!this.props.errorMessage?' '+"_16q2":'')},i._("Use photos or video frames to create a slideshow"),c('React').createElement('div',{className:"_v34"+(!!this.props.errorMessage?' '+"_16q2":'')},this.props.children))));};m.getImageUploadButton=function(){return c('React').createElement(c('XUIButton.react'),{className:"_v35",href:{url:'#'},image:c('React').createElement(c('Image.react'),{className:"_v36",src:j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/photo-add_20_fig-white.png")}),label:i._("Add Photos"),size:'xlarge',use:'confirm'});};m.getVideoUploadButton=function(n){return c('React').createElement(c('XUIButton.react'),{className:"_v35",href:{url:'#'},image:c('React').createElement(c('Image.react'),{className:"_v36",src:j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/camcorder-plus_20_fig-dark-80.png")}),label:n||i._("Upload Video"),size:'xlarge'});};m.defaultProps={children:null,errorMessage:null};f.exports=m;}),null);
__d("XPagesPicMenuDialogController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/profile\/pages\/picture\/menu_dialog\/",{multiselect:{type:"Bool",defaultValue:false},page_id:{type:"Int",required:true},source:{type:"String",defaultValue:"unknown"},__asyncDialog:{type:"Int"}});}),null);
__d('ReactComposerSlideshowImageUploadsContainer.react',['cx','Link.react','SlideshowMediaUploadContainer.react','Arbiter','AsyncDialog','AsyncRequest','ReactComposerSlideshowActions','PagesPicModalManager','React','XPagesPicMenuDialogController','emptyFunction','tidyEvent'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l='slideshow_pages_composer';i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerSlideshowImageUploadsContainer1=function(event){var s=this.refs.imageFileInput.getFileInput();if(s!==null&&s!==undefined&&this.props.onFilesSelected!==null&&this.props.onFilesSelected!==undefined)this.props.onFilesSelected(event,s);}.bind(this),this.$ReactComposerSlideshowImageUploadsContainer3=function(){c('AsyncDialog').send(new (c('AsyncRequest'))(this.$ReactComposerSlideshowImageUploadsContainer4()),function(s){self.$ReactComposerSlideshowImageUploadsContainer2=s;var t=c('PagesPicModalManager').subscribePhotosSelectedConfirm(function(u,v){c('ReactComposerSlideshowActions').selectImagesConfirm(this.props.composerID,v);s.hide();}.bind(this));s.subscribe('hide',function(event){c('Arbiter').unsubscribe(t);});}.bind(this));}.bind(this),this.$ReactComposerSlideshowImageUploadsContainer4=function(){return c('XPagesPicMenuDialogController').getURIBuilder().setInt('page_id',this.props.pageID).setString('source',l).setBool('multiselect',true).getURI();}.bind(this),o;}m.handleFileInput=function(n){c('tidyEvent')(n.subscribe('change',function(event){if(!n.getValue())return;this.$ReactComposerSlideshowImageUploadsContainer1(event,n);if(self.$ReactComposerSlideshowImageUploadsContainer2)self.$ReactComposerSlideshowImageUploadsContainer2.hide();}.bind(this)));};m.prototype.componentWillMount=function(){m.$ReactComposerSlideshowImageUploadsContainer1=this.props.onFilesSelected;};m.prototype.render=function(){var n=null;switch(this.props.imageUploadButtonType){case 'more_link':n=c('React').createElement(c('Link.react'),{className:"_38i2"});break;case 'add_button':n=c('SlideshowMediaUploadContainer.react').getImageUploadButton();break;}return c('React').createElement('span',{onClick:this.$ReactComposerSlideshowImageUploadsContainer3},n);};m.$ReactComposerSlideshowImageUploadsContainer1=c('emptyFunction');m.$ReactComposerSlideshowImageUploadsContainer2=null;m.propTypes={composerID:k.string.isRequired,imageUploadButtonType:k.oneOf(['more_link','add_button']).isRequired,mediaAcceptParam:k.string.isRequired,pageID:k.string.isRequired,onFilesSelected:k.func.isRequired};f.exports=m;}),null);
__d('SlideshowCreationWaterfallLogger',['MarauderLogger'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={logEvent:function i(j,k,l){k=k||{};c('MarauderLogger').log(j,l,k,undefined,undefined,undefined);}};f.exports=h;}),null);
__d('ReactComposerSlideshowLoggingStore',['ReactComposerActionTypes','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerSelectedImagesStore','ReactComposerSlideshowActionType','ReactComposerSlideshowAudioStore','ReactComposerSlideshowStore','ReactComposerStoreBase','ComposerXSessionIDs','SlideshowConstants','SlideshowCreationWaterfallEvent','SlideshowCreationWaterfallLogger','SlideshowEntrypoint','SlideshowMusicCategory','SlideshowFlowTypes'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('SlideshowFlowTypes').SlideshowTabKey;h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {aspectRatioFormat:c('SlideshowConstants').formats.Original,deletedStorylineMoodID:null,durationInMS:1000,entrypoint:c('SlideshowEntrypoint').UNKNOWN,module:'composer_slideshow',photoCount:0,selectedMusicCategory:c('SlideshowMusicCategory').ALL_TRACKS,selectedStorylineMoodID:null,selectedTab:j.SETTINGS_TAB,transitionInMS:c('SlideshowConstants').transitions.None,uploadedStorylineMoodID:null};},function(m){switch(m.type){case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowLoggingStore1(m);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowLoggingStore2(m);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:l&&l.$ReactComposerSlideshowLoggingStore3(m);break;case c('ReactComposerActionTypes').POST_SUCCEEDED:l&&l.$ReactComposerSlideshowLoggingStore4(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:l&&l.$ReactComposerSlideshowLoggingStore5(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerSelectedImagesStore').getDispatchToken()]);l&&l.$ReactComposerSlideshowLoggingStore6(m);break;case c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM:c('ReactComposerDispatcher').waitFor([c('ReactComposerSelectedImagesStore').getDispatchToken()]);l&&l.$ReactComposerSlideshowLoggingStore7(m);break;case c('ReactComposerSlideshowActionType').IMAGE_REMOVE:c('ReactComposerDispatcher').waitFor([c('ReactComposerSelectedImagesStore').getDispatchToken()]);l&&l.$ReactComposerSlideshowLoggingStore8(m);break;case c('ReactComposerSlideshowActionType').MUSIC_CATEGORY_SELECT:c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowAudioStore').getDispatchToken()]);l&&l.$ReactComposerSlideshowLoggingStore9(m);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_CHANGE:c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowAudioStore').getDispatchToken()]);l&&l.$ReactComposerSlideshowLoggingStore10(m);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_DELETE:c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowAudioStore').getDispatchToken()]);l&&l.$ReactComposerSlideshowLoggingStore11(m);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_STARTED:c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowAudioStore').getDispatchToken()]);l&&l.$ReactComposerSlideshowLoggingStore12(m);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_ERROR:c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowAudioStore').getDispatchToken()]);l&&l.$ReactComposerSlideshowLoggingStore13(m);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_SUCCESS:c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowAudioStore').getDispatchToken()]);l&&l.$ReactComposerSlideshowLoggingStore14(m);break;case c('ReactComposerSlideshowActionType').DURATION_CHANGE:c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowStore').getDispatchToken()]);l&&l.$ReactComposerSlideshowLoggingStore15(m);break;case c('ReactComposerSlideshowActionType').TRANSITION_CHANGE:c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowStore').getDispatchToken()]);l&&l.$ReactComposerSlideshowLoggingStore16(m);break;case c('ReactComposerSlideshowActionType').FORMAT_CHANGE:c('ReactComposerDispatcher').waitFor([c('ReactComposerSelectedImagesStore').getDispatchToken()]);l&&l.$ReactComposerSlideshowLoggingStore17(m);break;case c('ReactComposerSlideshowActionType').SELECT_TAB:c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowStore').getDispatchToken()]);l&&l.$ReactComposerSlideshowLoggingStore18(m);break;default:break;}});l=this;}k.prototype.$ReactComposerSlideshowLoggingStore3=function(l){'use strict';var m=l.id,n=l.composerID,o=l.currentAttachmentID;if(this.$ReactComposerSlideshowLoggingStore19(n,m)){this.$ReactComposerSlideshowLoggingStore20(n,c('SlideshowCreationWaterfallEvent').SLIDESHOW_INTENT);}else if(this.$ReactComposerSlideshowLoggingStore19(n,o))this.$ReactComposerSlideshowLoggingStore20(n,c('SlideshowCreationWaterfallEvent').SLIDESHOW_CANCEL);};k.prototype.$ReactComposerSlideshowLoggingStore2=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.entrypoint=l.entrypoint;if(l.shouldShowSlideshowDialog){this.$ReactComposerSlideshowLoggingStore20(l.composerID,c('SlideshowCreationWaterfallEvent').SLIDESHOW_INTENT);}else this.$ReactComposerSlideshowLoggingStore20(l.composerID,c('SlideshowCreationWaterfallEvent').SLIDESHOW_CANCEL);};k.prototype.$ReactComposerSlideshowLoggingStore1=function(l){'use strict';this.$ReactComposerSlideshowLoggingStore20(l.composerID,c('SlideshowCreationWaterfallEvent').SLIDESHOW_CANCEL);};k.prototype.$ReactComposerSlideshowLoggingStore5=function(l){'use strict';this.$ReactComposerSlideshowLoggingStore20(l.composerID,c('SlideshowCreationWaterfallEvent').SLIDESHOW_IMAGE_UPLOAD_STARTED);};k.prototype.$ReactComposerSlideshowLoggingStore6=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m),o=c('ReactComposerSelectedImagesStore').getNumberOfImages(m);n.photoCount=o;this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_IMAGE_UPLOAD_SUCCESS);};k.prototype.$ReactComposerSlideshowLoggingStore7=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m),o=c('ReactComposerSelectedImagesStore').getNumberOfImages(m);n.photoCount=o;this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_IMAGES_SELECT_CONFIRM);};k.prototype.$ReactComposerSlideshowLoggingStore8=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m),o=c('ReactComposerSelectedImagesStore').getNumberOfImages(m);n.photoCount=o;this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_IMAGE_REMOVE);};k.prototype.$ReactComposerSlideshowLoggingStore9=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.selectedMusicCategory=l.selectedMusicCategory;this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_MUSIC_CATEGORY_SELECT);};k.prototype.$ReactComposerSlideshowLoggingStore10=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m),o=c('ReactComposerSlideshowAudioStore').getSelectedStorylineMood(m);if(o==null){n.selectedStorylineMoodID=null;this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_STORYLINE_MOOD_REMOVE);}else{n.selectedStorylineMoodID=o.moodID;this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_STORYLINE_MOOD_SELECT);}};k.prototype.$ReactComposerSlideshowLoggingStore12=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.selectedMusicCategory=c('ReactComposerSlideshowAudioStore').getSelectedMusicCategory(m);this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_AUDIO_UPLOAD_START);};k.prototype.$ReactComposerSlideshowLoggingStore13=function(l){'use strict';var m=l.composerID;this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_AUDIO_UPLOAD_ERROR);};k.prototype.$ReactComposerSlideshowLoggingStore14=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.uploadedStorylineMoodID=l.uploadedMood.moodID;this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_AUDIO_UPLOAD_SUCCESS);};k.prototype.$ReactComposerSlideshowLoggingStore11=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.deletedStorylineMoodID=l.selectedStorylineMood.moodID;this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_STORYLINE_MOOD_DELETE);};k.prototype.$ReactComposerSlideshowLoggingStore16=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.transitionInMS=c('ReactComposerSlideshowStore').getTransitionInMS(m);this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_TRANSITION_CHANGE);};k.prototype.$ReactComposerSlideshowLoggingStore15=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.durationInMS=c('ReactComposerSlideshowStore').getDurationInMS(m);this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_DURATION_CHANGE);};k.prototype.$ReactComposerSlideshowLoggingStore17=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.aspectRatioFormat=c('ReactComposerSelectedImagesStore').getFormat(m);this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_FORMAT_CHANGE);};k.prototype.$ReactComposerSlideshowLoggingStore18=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.selectedTab=c('ReactComposerSlideshowStore').getSelectedTab(m);this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_TAB_CHANGE);};k.prototype.$ReactComposerSlideshowLoggingStore4=function(l){'use strict';var m=l.composerID,n=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m);if(this.$ReactComposerSlideshowLoggingStore19(m,n))this.$ReactComposerSlideshowLoggingStore20(m,c('SlideshowCreationWaterfallEvent').SLIDESHOW_POST);};k.prototype.$ReactComposerSlideshowLoggingStore19=function(l,m){'use strict';if(!m)return false;var n=m===c('ReactComposerAttachmentType').MEDIA,o=c('ReactComposerSlideshowStore').isSlideshowSelected(l);return n&&o;};k.prototype.$ReactComposerSlideshowLoggingStore20=function(l,m){'use strict';var n=this.getComposerData(l),o=c('ComposerXSessionIDs').getSessionID(l);c('SlideshowCreationWaterfallLogger').logEvent(m,{photo_count:n.photoCount,entrypoint:n.entrypoint,selected_music_category:n.selectedMusicCategory,selected_storyline_mood_id:n.selectedStorylineMoodID,uploaded_storyline_mood_id:n.uploadedStorylineMoodID,deleted_storyline_mood_id:n.deletedStorylineMoodID,duration_in_ms:n.durationInMS,transition_in_ms:n.transitionInMS,aspect_ratio_format:n.aspectRatioFormat,selected_tab:n.selectedTab,composer_session_id:o},n.module);};f.exports=new k();}),null);
__d('SlideshowFrameImage.react',['Image.react','React','SlideshowImageUtil'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.$SlideshowFrameImage5=function(){if(this.props.croppingSpec){this.$SlideshowFrameImage3={width:this.props.imageWidth,height:this.props.imageHeight};this.$SlideshowFrameImage4={x:-this.props.croppingSpec.topLeft[0],y:-this.props.croppingSpec.topLeft[1]};this.$SlideshowFrameImage1={width:this.props.croppingSpec.bottomRight[0]+this.$SlideshowFrameImage4.x,height:this.props.croppingSpec.bottomRight[1]+this.$SlideshowFrameImage4.y};}else{this.$SlideshowFrameImage3={width:this.props.imageWidth,height:this.props.imageHeight};this.$SlideshowFrameImage4={x:0,y:0};this.$SlideshowFrameImage1={width:this.props.imageWidth,height:this.props.imageHeight};}var k=Math.min(this.props.maxWidth/this.$SlideshowFrameImage1.width,this.props.maxHeight/this.$SlideshowFrameImage1.height);this.$SlideshowFrameImage3.width*=k;this.$SlideshowFrameImage3.height*=k;this.$SlideshowFrameImage4.x*=k;this.$SlideshowFrameImage4.y*=k;this.$SlideshowFrameImage1.width*=k;this.$SlideshowFrameImage1.height*=k;this.$SlideshowFrameImage2={x:(this.props.maxWidth-this.$SlideshowFrameImage1.width)/2,y:(this.props.maxHeight-this.$SlideshowFrameImage1.height)/2};};j.prototype.$SlideshowFrameImage6=function(){var k=this.props.textoverlay,l=c('SlideshowImageUtil').getScaleMultiplier(this.props.maxWidth,this.props.maxHeight);if(!k||!k.textoverlay_content)return null;var m=c('SlideshowImageUtil').calculateTextboxCoordinates(this.props.maxHeight,this.props.maxWidth,k,l),n=k.text_alignment.split('-')[1];return (c('React').createElement('div',{style:{backgroundColor:k.background_color,color:k.font_color,position:'absolute',fontFamily:k.font,fontSize:c('SlideshowImageUtil').getFontSize(l),fontWeight:c('SlideshowImageUtil').getFontWeight(k.bold),lineHeight:c('SlideshowImageUtil').getLineHeight(),marginLeft:m.marginLeft,marginTop:m.marginTop,maxHeight:c('SlideshowImageUtil').getTextoverlayMaxEdge(this.props.maxHeight,l),maxWidth:c('SlideshowImageUtil').getTextoverlayMaxEdge(this.props.maxWidth,l),opacity:c('SlideshowImageUtil').getOpacity(),overflow:'hidden',overflowWrap:'break-word',padding:c('SlideshowImageUtil').getTextoverlayPadding(l),textAlign:n,whiteSpace:'pre-wrap'}},k.textoverlay_content));};j.prototype.render=function(){this.$SlideshowFrameImage5();return (c('React').createElement('div',{className:this.props.className,style:{position:this.props.positionStyle,width:this.$SlideshowFrameImage1.width,height:this.$SlideshowFrameImage1.height,left:this.$SlideshowFrameImage2.x,top:this.$SlideshowFrameImage2.y,overflow:'hidden'}},c('React').createElement(c('Image.react'),{src:this.props.imageSrc,width:this.$SlideshowFrameImage3.width,height:this.$SlideshowFrameImage3.height,style:{position:'absolute',left:this.$SlideshowFrameImage4.x,top:this.$SlideshowFrameImage4.y}}),this.$SlideshowFrameImage6()));};function j(){h.apply(this,arguments);}j.defaultProps={className:null,croppingSpec:null,positionStyle:'absolute',textoverlay:null};f.exports=j;}),null);
__d('SlideshowFramesPanel.react',['cx','React','SlideshowImageUtil','SlideshowFrameImage.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=3,l=110,m=110;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$SlideshowFramesPanel1=function(t){return (c('React').createElement('div',{onClick:function(){return this.$SlideshowFramesPanel2(t);}.bind(this)},c('React').createElement(c('SlideshowFrameImage.react'),{className:"_qme",croppingSpec:c('SlideshowImageUtil').getFullSizeImageBoxCroppingSpec({width:t.width,height:t.height},{width:m,height:l}),imageSrc:t.uri,imageWidth:t.width,imageHeight:t.height,maxWidth:m,maxHeight:l,positionStyle:'relative'})));}.bind(this),this.$SlideshowFramesPanel2=function(t){this.props.onFrameImageSelected(t);}.bind(this),this.$SlideshowFramesPanel3=function(t){return t.map(function(u,v){return (c('React').createElement('div',{className:"_qmf",key:u.id},this.$SlideshowFramesPanel1(u)));}.bind(this));}.bind(this),this.$SlideshowFramesPanel4=function(){var t=this.props.frameImages,u=0,v=[];for(u=0;u<t.length;u+=k){var w=t.slice(u,u+k);v.push(c('React').createElement('div',{key:u},this.$SlideshowFramesPanel3(w)));}return v;}.bind(this),this.$SlideshowFramesPanel5=function(){return (c('React').createElement('div',{className:"_qmk"},this.$SlideshowFramesPanel4()));}.bind(this),p;}n.prototype.render=function(){return (c('React').createElement('div',{className:"_qmm"},this.$SlideshowFramesPanel5()));};f.exports=n;}),null);
__d('SlideshowActionTypes',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({CHANGE_COLOR_PICKER_TYPE:null,CHANGE_EDIT_OPTION_TYPE:null,CHANGE_TEXTOVERLAY_ALIGNMENT:null,CHANGE_TEXTOVERLAY_FONT:null,CHANGE_TEXTOVERLAY_FONT_BOLD:null,SELECT_TEXTOVERLAY_COLOR:null,SET_TEXTOVERLAY_CONTENT:null,SHOW_PHOTO_EDIT_DIALOG:null,CLOSE_PHOTO_EDIT_DIALOG:null,TOGGLE_COLOR_PICKER_DIALOG:null,TOGGLE_PHOTO_EDIT_DIALOG:null});f.exports=h;}),null);
__d('SlideshowDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this);}f.exports=new j({strict:true});}),null);
__d('SlideshowTextoverlayColorPickerConstants',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={Basic:'BASIC',Advanced:'ADVANCED'};}),null);
__d('SlideshowActions',['SlideshowActionTypes','SlideshowDispatcher','SlideshowTextoverlayColorPickerConstants'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={showPhotoEditDialog:function i(j,k){c('SlideshowDispatcher').dispatch({isColorPickerDialogShown:false,isPhotoEditDialogShown:true,isTextoverlayFontBold:k.bold,photoToEdit:j,textoverlayAlignment:k.text_alignment,textoverlayColor:{background_color:k.background_color,font_color:k.font_color},textoverlayContent:k.textoverlay_content,textoverlayFont:k.font,type:c('SlideshowActionTypes').SHOW_PHOTO_EDIT_DIALOG});},closePhotoEditDialog:function i(){c('SlideshowDispatcher').dispatch({isPhotoEditDialogShown:false,photoToEdit:null,type:c('SlideshowActionTypes').CLOSE_PHOTO_EDIT_DIALOG});},toggleColorPickerDialog:function i(){c('SlideshowDispatcher').dispatch({type:c('SlideshowActionTypes').TOGGLE_COLOR_PICKER_DIALOG});},selectTextoverlayColor:function i(j){c('SlideshowDispatcher').dispatch({textoverlayColor:j,type:c('SlideshowActionTypes').SELECT_TEXTOVERLAY_COLOR});},setTextoverlayContent:function i(j){c('SlideshowDispatcher').dispatch({textoverlayContent:j,type:c('SlideshowActionTypes').SET_TEXTOVERLAY_CONTENT});},changeEditOptionType:function i(j){c('SlideshowDispatcher').dispatch({type:c('SlideshowActionTypes').CHANGE_EDIT_OPTION_TYPE,editOptionType:j});},changeTextoverlayAlignment:function i(j){c('SlideshowDispatcher').dispatch({textoverlayAlignment:j,type:c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_ALIGNMENT});},changeTextoverlayFont:function i(j){c('SlideshowDispatcher').dispatch({textoverlayFont:j,type:c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_FONT});},changeTextoverlayFontBold:function i(j){c('SlideshowDispatcher').dispatch({isTextoverlayFontBold:j,type:c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_FONT_BOLD});},showBasicColorPicker:function i(){c('SlideshowDispatcher').dispatch({type:c('SlideshowActionTypes').CHANGE_COLOR_PICKER_TYPE,colorPickerType:c('SlideshowTextoverlayColorPickerConstants').Basic});},showAdvancedColorPicker:function i(){c('SlideshowDispatcher').dispatch({type:c('SlideshowActionTypes').CHANGE_COLOR_PICKER_TYPE,colorPickerType:c('SlideshowTextoverlayColorPickerConstants').Advanced});}};f.exports=h;}),null);
__d('SlideshowPhotoEditButton.react',['ix','fbt','Image.react','React','Tooltip','XUIButton.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$SlideshowPhotoEditButton1=function(){this.props.onPhotoEdit(this.props.selectedPhoto,this.props.selectedPhotoTextoverlay);}.bind(this);this.$SlideshowPhotoEditButton1=this.$SlideshowPhotoEditButton1.bind(this);}l.prototype.render=function(){var m=i._("Edit Photo");return (c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({image:c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/pencil_20_fig-black.png")}),className:this.props.className,onClick:this.$SlideshowPhotoEditButton1},c('Tooltip').propsFor(m))));};f.exports=l;}),null);
__d('SlideshowDraggableImage.react',['cx','invariant','DraggableTokenMixin.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','LoadingImageBox.react','ReactComponentWithPureRenderMixin','React','SlideshowActions','SlideshowFrameImage.react','SlideshowImageUtil','SlideshowPhotoEditButton.react','XUICloseButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=100,k=100,l=c('React').PropTypes,m=c('React').createClass({displayName:'SlideshowDraggableImage',mixins:[c('DraggableTokenMixin.react'),c('ReactComponentWithPureRenderMixin')],propTypes:{className:l.string.isRequired,dragTargetIndex:l.oneOfType([l.oneOf([null]),l.number]),image:l.shape({height:l.number,isLoading:l.bool.isRequired,key:l.string.isRequired,url:l.string,width:l.number}).isRequired,imageTextoverlay:l.oneOfType([l.oneOf([null]),l.shape({background_color:l.string,bold:l.bool.isRequired,font:l.string.isRequired,font_color:l.string.isRequired,text_alignment:l.string.isRequired,textoverlay_content:l.oneOfType([l.oneOf([null]),l.string])})]),index:l.number.isRequired,overflow:l.bool.isRequired,showSlideshowPhotoEditButton:l.bool.isRequired,onImageRemove:l.func.isRequired},_onImageRemove:function n(){this.props.onImageRemove(this.props.image);},_getImage:function n(){var o=this.props.image,p="_590x"+(this.props.overflow?' '+"_5b-k":'');if(o.isLoading){return (c('React').createElement(c('LoadingImageBox.react'),{className:p,height:j,width:k}));}else{!(o.width!=null&&o.height!=null)?i(0):void 0;return (c('React').createElement(c('SlideshowFrameImage.react'),{className:p,croppingSpec:c('SlideshowImageUtil').getFullSizeImageBoxCroppingSpec({width:o.width?o.width:0,height:o.height?o.height:0},{width:k,height:j}),imageSrc:o.url,imageWidth:o.width,imageHeight:o.height,maxWidth:k,maxHeight:j,positionStyle:'relative',textoverlay:this.props.imageTextoverlay}));}},_getPhotoEditButton:function n(){return this.props.showSlideshowPhotoEditButton?c('React').createElement(c('SlideshowPhotoEditButton.react'),{className:"_fah",selectedPhoto:this.props.image,selectedPhotoTextoverlay:this.props.imageTextoverlay,onPhotoEdit:c('SlideshowActions').showPhotoEditDialog}):null;},render:function n(){return this.renderDraggableToken(c('React').createElement(c('FBOverlayContainer.react'),null,c('React').createElement(c('FBOverlayBase.react'),null,this._getImage()),c('React').createElement(c('FBOverlayElement.react'),null,c('React').createElement('div',{className:"_5910"+(this.props.dragTargetIndex===this.props.index?' '+"_5911":'')},c('React').createElement(c('XUICloseButton.react'),{className:"_5912",shade:'light',size:'small',onClick:this._onImageRemove}),this._getPhotoEditButton()))));}});f.exports=m;}),null);
__d('SlideshowImageUploadsContainer.react',['cx','fbt','invariant','AdsHelpLink.react','React','Image.react','SlideshowDraggableImage.react','padNumber'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=1000,n=60,o=':',p=0,q=1,r=2,s=c('React').PropTypes;k=babelHelpers.inherits(t,c('React').Component);l=k&&k.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=l.constructor).call.apply(u,[this].concat(x)),this.$SlideshowImageUploadsContainer1=function(){return {draggingIndex:null,dragTargetIndex:null};},this.$SlideshowImageUploadsContainer2=function(z,aa){this.setState({draggingIndex:aa});}.bind(this),this.$SlideshowImageUploadsContainer3=function(z,aa){this.setState(this.$SlideshowImageUploadsContainer1());}.bind(this),this.$SlideshowImageUploadsContainer4=function(z,aa,ba){if(this.state.draggingIndex!==null&&this.state.dragTargetIndex!==aa)this.setState({dragTargetIndex:aa});}.bind(this),this.$SlideshowImageUploadsContainer5=function(z,aa){if(this.state.draggingIndex!==null&&this.state.draggingIndex!==undefined&&this.state.draggingIndex!==aa)this.$SlideshowImageUploadsContainer6(this.state.draggingIndex,aa);}.bind(this),this.$SlideshowImageUploadsContainer6=function(z,aa){if(aa<this.props.selectedImages.length&&aa>=0)this.props.onImageReorder(z,aa);}.bind(this),this.$SlideshowImageUploadsContainer7=function(z){this.props.onImageRemove(z);}.bind(this),this.$SlideshowImageUploadsContainer8=function(z,aa){var ba=this.props,ca=ba.durationWithTransitionInMS,da=ba.maxSelectedImages,ea=ca/m;if(aa===da-1){return (c('React').createElement('span',null,this.$SlideshowImageUploadsContainer9(aa*ea),c('React').createElement('span',{className:"_73-"},this.$SlideshowImageUploadsContainer9(da*ea))));}else if(aa===da){return (c('React').createElement(c('AdsHelpLink.react'),{position:'left',width:290},i._("You can only show {maximum number of images} images in your slideshow. All other images won't get displayed.",[i.param('maximum number of images',da)])));}else if(aa<da){return c('React').createElement('span',null,this.$SlideshowImageUploadsContainer9(aa*ea));}else return c('React').createElement('span',null,'\u00A0');}.bind(this),this.$SlideshowImageUploadsContainer9=function(z){var aa=Math.floor(z/n),ba=z-aa*n;return aa+o+c('padNumber')(ba,2);},this.$SlideshowImageUploadsContainer10=function(){var z=this.props,aa=z.maxSelectedImages,ba=z.selectedImages,ca=Math.max(ba.length,aa),da=Array.from(Array(ca),function(ea,fa){if(fa<ba.length&&fa<aa){return p;}else if(fa<ba.length&&fa>=aa){return r;}else return q;});return (c('React').createElement('div',{className:"_73_"},da.map(function(ea,fa){return (c('React').createElement('span',{className:"_2j_u"+(ea===p&&fa!==0&&fa<aa?' '+"_741":'')+(ea===r&&fa>=aa?' '+"_4lrv":'')+(ea===r&&fa===aa?' '+"_4lrw":'')+(ea===q&&fa===0?' '+"_742":'')+(ea===q&&fa===ba.length&&fa!==0?' '+"_743":'')+(ea===q&&fa!==ba.length&&fa!==0?' '+"_749":''),key:fa},this.$SlideshowImageUploadsContainer8(ea,fa)));}.bind(this))));}.bind(this),this.$SlideshowImageUploadsContainer11=function(){if(this.props.selectedImages.length>=this.props.maxSelectedImages)return null;!(this.props.children!=null&&!Array.isArray(this.props.children))?j(0):void 0;return this.props.children;}.bind(this),this.$SlideshowImageUploadsContainer12=function(){var z=this.props.maxSelectedImages-1-this.props.selectedImages.length;if(z<=0)return null;var aa=[];for(var ba=0;ba<z;ba++)aa.push(c('React').createElement('span',{className:"_74a",key:ba}));return aa;}.bind(this),this.$SlideshowImageUploadsContainer13=function(z){var aa=this.state,ba=aa.draggingIndex,ca=aa.dragTargetIndex;if(ba!=null&&ca!=null){if(ca<z&&z<=ba)return z-1;if(ba<=z&&z<ca)return z+1;}return z;}.bind(this),this.state=this.$SlideshowImageUploadsContainer1(),v;}t.prototype.render=function(){var u="_38i3"+(this.props.selectedImages.length>=this.props.maxSelectedImages?' '+"_1ca2":'');return (c('React').createElement('div',{className:"_832"},c('React').createElement('div',{className:"_1ca3"},this.$SlideshowImageUploadsContainer10(),c('React').createElement('div',{className:u},this.props.selectedImages.map(function(v,w){var x=this.$SlideshowImageUploadsContainer13(w),y=this.props.imagesTextoverlays?this.props.imagesTextoverlays[x]:null,z=v.key;return (c('React').createElement(c('SlideshowDraggableImage.react'),{className:this.state.draggingIndex!=null&&this.state.dragTargetIndex===w?"_44cb":'',draggableImageClass:c('Image.react').baseClassName,dragTargetIndex:this.state.dragTargetIndex,entry:{},image:this.props.selectedImages[x],imageTextoverlay:y,index:w,isDragDropEnabled:true,key:z,overflow:w>=this.props.maxSelectedImages,showSlideshowPhotoEditButton:this.props.showSlideshowPhotoEditButton,onImageRemove:this.$SlideshowImageUploadsContainer7,onTokenDragEnd:this.$SlideshowImageUploadsContainer3,onTokenDragOver:this.$SlideshowImageUploadsContainer4,onTokenDragStart:this.$SlideshowImageUploadsContainer2,onTokenDrop:this.$SlideshowImageUploadsContainer5}));}.bind(this))),this.$SlideshowImageUploadsContainer11(),this.$SlideshowImageUploadsContainer12())));};t.propTypes={durationWithTransitionInMS:s.number.isRequired,maxSelectedImages:s.number.isRequired,selectedImages:s.arrayOf(s.shape({height:s.number,isLoading:s.bool.isRequired,key:s.string.isRequired,url:s.string,width:s.number})).isRequired,showSlideshowPhotoEditButton:s.bool.isRequired,onImageRemove:s.func.isRequired,onImageReorder:s.func.isRequired};f.exports=t;}),null);
__d('SlideshowFbtUtils',['fbt','SlideshowFlowTypes','SlideshowMusicCategory'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('SlideshowFlowTypes').SlideshowTabKey,l={None:h._("None"),Fade:h._("Fade"),Unknown:h._("Unknow")},m=(i={},i[k.SETTINGS_TAB]=h._("Settings"),i[k.MUSIC_TAB]=h._("Music"),i[k.FRAMES_TAB]=h._("Frames"),i.FRAMES_TAB_NUX=h._("Choose which frames you want to include in your slideshow"),i.MUSIC_TAB_NUX=h._("You can now add music to your slideshow. Use one of our royalty-free tracks or upload your own."),i),n={UPLOAD_ERROR:h._("There was a problem with your upload"),FRAME_IMAGE_FETCH_ERROR_FIRST:h._("We weren't able to cut your video into a slideshow. Try adding the video again."),FRAME_IMAGE_FETCH_ERROR_SECOND:h._("We still weren't able to cut your video into a slideshow. There could be a problem with your video file."),Unknown:null},o=(j={},j[c('SlideshowMusicCategory').ALL_TRACKS]=h._("All Tracks"),j[c('SlideshowMusicCategory').USER_UPLOADED]=h._("Uploaded Tracks"),j[c('SlideshowMusicCategory').RECENTLY_USED]=h._("Recently Used"),j[c('SlideshowMusicCategory').ENERGETIC]=h._("Energetic"),j[c('SlideshowMusicCategory').INSPIRATIONAL]=h._("Inspirational"),j[c('SlideshowMusicCategory').FUN]=h._("Fun"),j[c('SlideshowMusicCategory').TRUSTWORTHY]=h._("Trustworthy"),j[c('SlideshowMusicCategory').MODERN]=h._("Modern"),j.Unknown=null,j),p={None:h._("None"),Action:h._("Action"),BluesCountry:h._("Blues Country"),Dance:h._("Dance"),ElectricCoconut:h._("Electric Coconut"),GarageGroove:h._("Garage Groove"),GoodMemories:h._("Good Memories"),HappyZone:h._("Happy Zone"),JazzySamba:h._("Jazzy Samba"),Longboard:h._("Longboard"),Stratos:h._("Stratos"),Swamp:h._("Swamp"),Thanks:h._("Thanks"),Timelapse:h._("Timelapse"),Wonder:h._("Wonder"),Unknown:h._("Unknown")},q={Original:h._("Original"),Wide:h._("Rectangle (16:9)"),Square:h._("Square (1:1)"),Vertical:h._("Vertical (2:3)")},r={Original:null,Wide:null,Square:null,Vertical:null},s={_getFbtString:function t(u,v){if(u[v])return u[v];return u.Unknown;},getDurationFbtString:function t(u){if(u===1)return h._({"*":"{second} second"},[h.param('second',u,[0])]);return h._({"*":"{seconds} seconds"},[h.param('seconds',u,[0])]);},getFramesTabNuxFbtString:function t(){return this._getFbtString(m,'FRAMES_TAB_NUX');},getMusicTabNuxFbtString:function t(){return this._getFbtString(m,'MUSIC_TAB_NUX');},getTabNameFbtString:function t(u){return this._getFbtString(m,u);},getTransitionFbtString:function t(u){return this._getFbtString(l,u);},getAudioFbtString:function t(u){return this._getFbtString(p,u);},getSlideshowVideoErrorMessage:function t(u){return this._getFbtString(n,u);},getFormatFbtString:function t(u){return this._getFbtString(q,u);},getFormatTooltipFbtString:function t(u){return this._getFbtString(r,u);},getMusicCategoryTooltip:function t(u){return this._getFbtString(o,u);}};f.exports=s;}),null);
__d('SlideshowMusicCategorySelector.react',['cx','React','SlideshowAudioUtil','SlideshowFbtUtils','SlideshowMusicCategory','Tooltip.react','XUICardSection.react','XUIPageNavigation.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('XUIPageNavigation.react').Group,l=c('XUIPageNavigation.react').Item;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.$SlideshowMusicCategorySelector1=function(n){var o=c('SlideshowAudioUtil').getMusicCategoryGlyph(n);if(!o)return null;return (c('React').createElement(l,{key:n,ref:n},c('React').createElement(c('Tooltip.react'),{alignH:'center',className:"_3fk8",position:'above',tooltip:c('SlideshowFbtUtils').getMusicCategoryTooltip(n)},o)));};m.prototype.$SlideshowMusicCategorySelector2=function(){return (c('React').createElement(c('XUICardSection.react'),{className:"_5vx1"},c('React').createElement(c('XUIPageNavigation.react'),{activeTabKey:this.props.selectedMusicCategory,defaultActiveTabKey:c('SlideshowMusicCategory').ALL_TRACKS,onTabClick:this.props.onMusicCategorySelect},c('React').createElement(k,null,Object.values(c('SlideshowMusicCategory')).map(function(n){return this.$SlideshowMusicCategorySelector1(n);}.bind(this))))));};m.prototype.render=function(){return (c('React').createElement('div',{className:"_d__"},this.$SlideshowMusicCategorySelector2()));};function m(){i.apply(this,arguments);}m.defaultProps={selectedMusicCategory:c('SlideshowMusicCategory').ALL_TRACKS};f.exports=m;}),null);
__d('SlideshowMusicTrackUploader.react',['cx','fbt','ix','LayerFadeOnHide','React','ReactFragment','SlideshowDataManager','FileInput.react','Image.react','Link.react','Tooltip.react','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=700;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.$SlideshowMusicTrackUploader2=function(p){this.setState({showCopyrightDialog:p});}.bind(this);this.$SlideshowMusicTrackUploader5=function(){this.$SlideshowMusicTrackUploader2(false);this.props.onAudioFileUpload();var p=this.refs.audioFileInput.getFileInput();c('SlideshowDataManager').uploadAudioFile(p,this.props.targetID,this.props.onAudioFileUploadSuccess,this.props.onAudioFileUploadError);}.bind(this);this.state={showCopyrightDialog:false};}n.prototype.renderLayers=function(){var o=this.state.showCopyrightDialog?this.$SlideshowMusicTrackUploader1():null;return c('ReactFragment').create({copyrightDialog:o});};n.prototype.$SlideshowMusicTrackUploader1=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},layerHideOnBlur:false,shown:this.state.showCopyrightDialog,width:m,onToggle:this.$SlideshowMusicTrackUploader2},c('React').createElement(c('XUIDialogTitle.react'),null,i._("Rights to Upload Music")),c('React').createElement(c('XUIDialogBody.react'),{className:"_3mav",useCustomPadding:true},this.$SlideshowMusicTrackUploader3()),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Cancel")}),this.$SlideshowMusicTrackUploader4()));};n.prototype.$SlideshowMusicTrackUploader4=function(){return c('React').createElement(c('FileInput.react'),{accept:'audio/*',multiple:false,ref:'audioFileInput',onChange:this.$SlideshowMusicTrackUploader5},c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',className:"_3maw",href:{url:'#'},label:i._("Proceed"),use:'confirm'}));};n.prototype.$SlideshowMusicTrackUploader3=function(){return c('React').createElement('div',{className:"_3max"},c('React').createElement('div',{className:"_3may"},c('React').createElement(c('Image.react'),{src:j('/images/slideshow/music_licensing.png')})),c('React').createElement('div',{className:"_3ma-"},i._("By uploading music, you confirm that you have the rights to use it with your slideshow and have it played on Facebook. If you're not sure, learn more about {slideshow_upload_audio_help_link}.",[i.param('slideshow_upload_audio_help_link',c('React').createElement(c('Link.react'),{href:'/help/249141925204375',target:'_blank'},i._("music you can use")))])));};n.prototype.$SlideshowMusicTrackUploader6=function(){var o=this.props.selectedStorylineMood?i._("You need to remove the track you've selected before uploading another"):null,p=this.props.selectedStorylineMood||this.props.audioFileUploadInfo.isUploading;return (c('React').createElement(c('Tooltip.react'),{alignH:'center',className:"_2fiy",position:'above',tooltip:o},c('React').createElement(c('XUIButton.react'),{className:"_3maw"+(p?' '+"_42fr":''),label:i._("Upload"),ref:'dialogButton',size:'xlarge',onClick:p?c('emptyFunction'):function(){this.setState({showCopyrightDialog:true});}.bind(this)})));};n.prototype.render=function(){return (c('React').createElement('div',null,this.$SlideshowMusicTrackUploader6(),this.renderLayers()));};f.exports=n;}),null);
__d('SlideshowMusicSelectedTrackComponent.react',['cx','fbt','React','SlideshowMusicTrackUploader.react','Tooltip.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$SlideshowMusicSelectedTrackComponent4=function(event){event.stopPropagation();this.props.onChangeStorylineMood(null);this.props.onPreviewStateChange(false);}.bind(this),this.$SlideshowMusicSelectedTrackComponent5=function(){if(!this.props.selectedStorylineMood)return;this.props.onPreviewStateChange(!this.props.isPreviewPlaying);}.bind(this),n;}l.prototype.$SlideshowMusicSelectedTrackComponent1=function(){return c('React').createElement('div',{className:"_nan"+(!this.props.isPreviewPlaying?' '+"_5yby":'')+(this.props.isPreviewPlaying?' '+"_5ybz":'')});};l.prototype.$SlideshowMusicSelectedTrackComponent2=function(){var m=i._("No music selected");if(this.props.selectedStorylineMood)m=this.props.selectedStorylineMood.fileName;return c('React').createElement('div',{className:"_nao"},m);};l.prototype.$SlideshowMusicSelectedTrackComponent3=function(){if(!this.props.selectedStorylineMood)return null;return c('React').createElement('div',{className:"_59qs",onClick:this.$SlideshowMusicSelectedTrackComponent4});};l.prototype.$SlideshowMusicSelectedTrackComponent6=function(){return (c('React').createElement(c('SlideshowMusicTrackUploader.react'),{audioFileUploadInfo:this.props.audioFileUploadInfo,selectedStorylineMood:this.props.selectedStorylineMood,targetID:this.props.targetID,onAudioFileUpload:this.props.onAudioFileUpload,onAudioFileUploadError:this.props.onAudioFileUploadError,onAudioFileUploadSuccess:this.props.onAudioFileUploadSuccess}));};l.prototype.$SlideshowMusicSelectedTrackComponent7=function(){return (c('React').createElement('div',{className:(!this.props.selectedStorylineMood?"_1sx5":'')+(!!this.props.selectedStorylineMood?' '+"_nar":''),onClick:this.$SlideshowMusicSelectedTrackComponent5},this.$SlideshowMusicSelectedTrackComponent1(),this.$SlideshowMusicSelectedTrackComponent2(),this.$SlideshowMusicSelectedTrackComponent3()));};l.prototype.$SlideshowMusicSelectedTrackComponent8=function(){return i._("Select a track below or upload your own tracks");};l.prototype.render=function(){if(!this.props.selectedStorylineMood)return (c('React').createElement('div',{className:"_naq"},c('React').createElement(c('Tooltip.react'),{alignH:'center',className:"_9ns",position:'above',tooltip:this.$SlideshowMusicSelectedTrackComponent8()},this.$SlideshowMusicSelectedTrackComponent7()),this.$SlideshowMusicSelectedTrackComponent6()));return (c('React').createElement('div',{className:"_naq"},this.$SlideshowMusicSelectedTrackComponent7(),this.$SlideshowMusicSelectedTrackComponent6()));};f.exports=l;}),null);
__d('SlideshowMusicTrackSelector.react',['cx','fbt','React','Set','SlideshowAudioUtil','SlideshowMusicCategory','Tooltip.react','XUISpinner.react','curry'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=6;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$SlideshowMusicTrackSelector2=function(s){this.props.onPreviewStateChange(false);this.props.onChangeStorylineMood(s);}.bind(this),this.$SlideshowMusicTrackSelector3=function(s,event){event.stopPropagation();this.props.onDeleteStorylineMood(s);}.bind(this),o;}m.prototype.$SlideshowMusicTrackSelector1=function(n){if(this.props.selectedMusicCategory===c('SlideshowMusicCategory').ALL_TRACKS||this.props.selectedMusicCategory===c('SlideshowMusicCategory').RECENTLY_USED||n.categories.indexOf(this.props.selectedMusicCategory)!==-1)return true;return false;};m.prototype.$SlideshowMusicTrackSelector4=function(){return (c('React').createElement('div',{className:"_4o-n",key:'UPLOADING_TRACK_KEY'},c('React').createElement(c('XUISpinner.react'),{className:"_2ruw",size:'small'}),c('React').createElement('div',{className:"_4o-p"},i._("Uploading..."))));};m.prototype.$SlideshowMusicTrackSelector5=function(n){var o=i._("Delete");return (c('React').createElement(c('Tooltip.react'),{alignH:'center',className:"_4o-m",position:'above',tooltip:o,onClick:c('curry')(this.$SlideshowMusicTrackSelector3,n)},c('React').createElement('div',null)));};m.prototype.$SlideshowMusicTrackSelector6=function(){return Array.from(new (c('Set'))(this.props.recentlyUsedStorylineMoods)).slice(0,l);};m.prototype.$SlideshowMusicTrackSelector7=function(){var n=[],o=this.props.selectedMusicCategory===c('SlideshowMusicCategory').USER_UPLOADED,p=this.props.selectedMusicCategory===c('SlideshowMusicCategory').RECENTLY_USED;if(o&&this.props.audioFileUploadInfo.isUploading)n.push(this.$SlideshowMusicTrackSelector4());var q=p?this.$SlideshowMusicTrackSelector6():this.props.storylineMoodFiles;q.sort(function(r,s){if(r.fileName<s.fileName){return -1;}else if(r.fileName>s.fileName){return 1;}else return 0;});q.forEach(function(r){var s=o?this.$SlideshowMusicTrackSelector5(r):null;if(this.$SlideshowMusicTrackSelector1(r)){var t=c('SlideshowAudioUtil').storylineMoodCompare(r,this.props.selectedStorylineMood);n.push(c('React').createElement('div',{className:"_4o-n",key:r.moodID,onClick:c('curry')(this.$SlideshowMusicTrackSelector2,r)},s,c('React').createElement('div',{className:(!t?"_4o-o":'')+(t?' '+"_4c2n":'')}),c('React').createElement('div',{className:"_4o-p"},r.fileName)));}}.bind(this));return n;};m.prototype.render=function(){return (c('React').createElement('div',{className:"_4o-x"},this.$SlideshowMusicTrackSelector7()));};m.defaultProps={selectedMusicCategory:c('SlideshowMusicCategory').ALL_TRACKS};f.exports=m;}),null);
__d('SlideshowMusicPanel.react',['cx','React','SlideshowMusicCategorySelector.react','SlideshowMusicSelectedTrackComponent.react','SlideshowMusicTrackSelector.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.$SlideshowMusicPanel1=function(){return (c('React').createElement(c('SlideshowMusicSelectedTrackComponent.react'),{audioFileUploadInfo:this.props.audioFileUploadInfo,isPreviewPlaying:this.props.isPreviewPlaying,selectedStorylineMood:this.props.selectedStorylineMood,targetID:this.props.targetID,onAudioFileUpload:this.props.onAudioFileUpload,onAudioFileUploadError:this.props.onAudioFileUploadError,onAudioFileUploadSuccess:this.props.onAudioFileUploadSuccess,onChangeStorylineMood:this.props.onChangeStorylineMood,onPreviewStateChange:this.props.onPreviewStateChange}));};k.prototype.$SlideshowMusicPanel2=function(){return (c('React').createElement(c('SlideshowMusicCategorySelector.react'),{selectedMusicCategory:this.props.selectedMusicCategory,onMusicCategorySelect:this.props.onMusicCategorySelect}));};k.prototype.$SlideshowMusicPanel3=function(){return (c('React').createElement(c('SlideshowMusicTrackSelector.react'),{audioFileUploadInfo:this.props.audioFileUploadInfo,recentlyUsedStorylineMoods:this.props.recentlyUsedStorylineMoods,selectedMusicCategory:this.props.selectedMusicCategory,selectedStorylineMood:this.props.selectedStorylineMood,storylineMoodFiles:this.props.storylineMoodFiles,onChangeStorylineMood:this.props.onChangeStorylineMood,onDeleteStorylineMood:this.props.onDeleteStorylineMood,onPreviewStateChange:this.props.onPreviewStateChange}));};k.prototype.render=function(){return (c('React').createElement('div',{className:"_3-xf"},this.$SlideshowMusicPanel1(),this.$SlideshowMusicPanel2(),this.$SlideshowMusicPanel3()));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('SlideshowAlignmentBox.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$SlideshowAlignmentBox1=function(){var r=this.props,s=r.horizontalAlignment,t=r.verticalAlignment,u=t+'-'+s;this.props.onValueChange&&this.props.onValueChange(u);}.bind(this),n;}l.prototype.render=function(){var m=this.props,n=m.horizontalAlignment,o=m.selectedValue,p=m.verticalAlignment,q=p+'-'+n;return c('React').createElement('div',{className:"_hfg"+(o==q?' '+"_hfh":'')+(p=='bottom'?' '+"_hfi":'')+(p=='top'?' '+"_hfj":'')+(n=='right'?' '+"_hfk":'')+(n=='left'?' '+"_hfl":''),onClick:this.$SlideshowAlignmentBox1});};l.propTypes={onValueChange:k.func.isRequired};f.exports=l;}),null);
__d('SlideshowColorBox.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l='#ffffff';i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$SlideshowColorBox1=function(){this.props.onClick&&this.props.onClick(this.props.color);}.bind(this),o;}m.prototype.render=function(){var n=this.props,o=n.className,p=n.style,q=babelHelpers.objectWithoutProperties(n,['className','style']);o=c('joinClasses')("_5266",this.props.className);if(p&&p.backgroundColor===l){o=c('joinClasses')("_2obn",o);}else if(p&&!p.backgroundColor){o=c('joinClasses')("_526b",o);if(p.color===l)o=c('joinClasses')("_12k3",o);}return c('React').createElement('div',babelHelpers['extends']({},q,{className:o,style:p,onClick:this.$SlideshowColorBox1}),'T');};m.propTypes={className:k.string,style:k.object,onClick:k.func};f.exports=m;}),null);
__d('SlideshowPhotoCropperWindow.react',['cx','fbt','React','joinClasses','SlideshowConstants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('SlideshowConstants').formats;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);}m.prototype.$SlideshowPhotoCropperWindow1=function(){if(this.props.isCropping)return null;var n=void 0;switch(this.props.format){case l.Original:n=i._("Original");break;case l.Wide:n=i._("Rectangle(16:9)");break;case l.Square:n=i._("Square(1:1)");break;default:n=i._("Unknown");}return (c('React').createElement('div',{className:"_2d6a"},c('React').createElement('div',{className:"_2d6b"},n)));};m.prototype.render=function(){return (c('React').createElement('div',{onMouseDown:this.props.onMouseDown,className:c('joinClasses')(this.props.className,"_2d6c"),style:babelHelpers['extends']({},this.props.style||{},{width:this.props.width,height:this.props.height})},c('React').createElement('div',{className:"_2d6d"}),this.$SlideshowPhotoCropperWindow1()));};f.exports=m;}),null);
__d('SlideshowPhotoCropSelector.react',['cx','invariant','BackgroundImage.react','Event','SlideshowPhotoCropperWindow.react','React','ReactDOM'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=656,m=425,n=400,o=400,p=function s(t,u,v){return Math.min(Math.max(t,u),v);},q=function s(t){return t*t;};j=babelHelpers.inherits(r,c('React').Component);k=j&&j.prototype;function r(s){k.constructor.call(this,s);this.state={coordinates:{},isCropping:false,isResizing:false,min:{},max:{},photoDimensions:{},scale:1,screenX:0,screenY:0};this.$SlideshowPhotoCropSelector1=false;this.$SlideshowPhotoCropSelector2=null;this.$SlideshowPhotoCropSelector3=null;this.$SlideshowPhotoCropSelector5={};this.$SlideshowPhotoCropSelector4=null;this.$SlideshowPhotoCropSelector6=null;this.$SlideshowPhotoCropSelector7=this.$SlideshowPhotoCropSelector7.bind(this);this.$SlideshowPhotoCropSelector8=this.$SlideshowPhotoCropSelector8.bind(this);this.$SlideshowPhotoCropSelector9=this.$SlideshowPhotoCropSelector9.bind(this);this.$SlideshowPhotoCropSelector10=this.$SlideshowPhotoCropSelector10.bind(this);this.$SlideshowPhotoCropSelector11=this.$SlideshowPhotoCropSelector11.bind(this);this.$SlideshowPhotoCropSelector12=this.$SlideshowPhotoCropSelector12.bind(this);}r.prototype.componentWillMount=function(){this.$SlideshowPhotoCropSelector13(this.props);};r.prototype.componentWillReceiveProps=function(s){this.$SlideshowPhotoCropSelector13(s);};r.prototype.componentWillUnmount=function(){if(this.$SlideshowPhotoCropSelector2)this.$SlideshowPhotoCropSelector2.remove();if(this.$SlideshowPhotoCropSelector6)this.$SlideshowPhotoCropSelector6.remove();};r.prototype.$SlideshowPhotoCropSelector13=function(s){var t=s.photoToEdit.width,u=s.photoToEdit.height;!(t&&u)?i(0):void 0;var v=Math.min(l/t,m/u),w={height:u,scaledWidth:Math.round(t*v),scaledHeight:Math.round(u*v),width:t},x={scale:1,x:(l-w.scaledWidth)/2,y:(m-w.scaledHeight)/2},y={scale:1,x:x.x+w.scaledWidth,y:x.y+w.scaledHeight},z=this.props.photosCrops[0],aa=Object.keys(z)[0],ba=z[aa],ca={};ca.top=x.y+ba[0][1]*v;ca.left=x.x+ba[0][0]*v;ca.bottom=x.y+(u-ba[1][1])*v;ca.right=x.x+(t-ba[1][0])*v;ca.width=l-ca.right-ca.left;ca.height=m-ca.bottom-ca.top;x.scale=Math.min(n*v/ca.width,o*v/ca.height);y.scale=Math.min(w.scaledWidth/ca.width,w.scaledHeight/ca.height);this.setState({max:y,min:x,photoDimensions:w,scale:v,coordinates:ca});};r.prototype.$SlideshowPhotoCropSelector14=function(){var s=c('React').createElement('td',{className:"_47uq"}),t=c('React').createElement('tr',null,s,s,s);return (c('React').createElement('table',{className:"_47ur"},c('React').createElement('tbody',null,t,t,t)));};r.prototype.$SlideshowPhotoCropSelector15=function(s){var t=this.state.min.y,u=this.state.min.x,v=Math.floor(s.top-t),w=Math.floor(s.left-u),x=Math.floor(s.right-u),y=Math.floor(s.bottom-t);return v+'px '+x+'px '+y+'px '+w+'px';};r.prototype.$SlideshowPhotoCropSelector16=function(){return (c('React').createElement('div',{className:"_47us",ref:'handles'},c('React').createElement('div',{className:"_47ut _47vn",key:'top_left',onMouseDown:this.$SlideshowPhotoCropSelector11}),c('React').createElement('div',{className:"_47ut _47vo",key:'top_right',onMouseDown:this.$SlideshowPhotoCropSelector11}),c('React').createElement('div',{className:"_47ut _47vp",key:'bottom_right',onMouseDown:this.$SlideshowPhotoCropSelector11}),c('React').createElement('div',{className:"_47ut _47vq",key:'bottom_left',onMouseDown:this.$SlideshowPhotoCropSelector11})));};r.prototype.$SlideshowPhotoCropSelector11=function(event){this.$SlideshowPhotoCropSelector17(event,true);};r.prototype.$SlideshowPhotoCropSelector17=function(event,s){event.preventDefault();this.$SlideshowPhotoCropSelector18();if(!this.$SlideshowPhotoCropSelector1){this.$SlideshowPhotoCropSelector3=this.$SlideshowPhotoCropSelector19(s);var t=c('ReactDOM').findDOMNode(this.refs.handles);!t?i(0):void 0;var u=t.getBoundingClientRect(),v=u.left,w=u.top,x=u.width,y=u.height;this.$SlideshowPhotoCropSelector5={x:v+x/2,y:w+y/2};this.$SlideshowPhotoCropSelector2=c('Event').listen(window,'mousemove',this.$SlideshowPhotoCropSelector8);this.$SlideshowPhotoCropSelector6=c('Event').listen(window,'mouseup',this.$SlideshowPhotoCropSelector7);this.setState({isCropping:true,isResizing:s,screenX:event.pageX,screenY:event.pageY});this.$SlideshowPhotoCropSelector1=true;this.$SlideshowPhotoCropSelector20(this.state.coordinates.left,this.state.coordinates.top,this.state.coordinates.width,this.state.coordinates.height);}};r.prototype.$SlideshowPhotoCropSelector19=function(s){return s?this.$SlideshowPhotoCropSelector12:this.$SlideshowPhotoCropSelector10;};r.prototype.$SlideshowPhotoCropSelector12=function(s,t){var u=Math.sqrt(q(this.state.screenX-this.$SlideshowPhotoCropSelector5.x)+q(this.state.screenY-this.$SlideshowPhotoCropSelector5.y)),v={x:s/2+this.state.screenX,y:t/2+this.state.screenY},w=Math.sqrt(q(this.$SlideshowPhotoCropSelector5.x-v.x)+q(this.$SlideshowPhotoCropSelector5.y-v.y)),x=p(w/u,this.state.min.scale,this.state.max.scale),y=Math.round(this.state.coordinates.width*x),z=Math.round(this.state.coordinates.height*x),aa=this.state.screenX<this.$SlideshowPhotoCropSelector5.x?this.state.coordinates.width-y:0,ba=this.state.screenY<this.$SlideshowPhotoCropSelector5.y?this.state.coordinates.height-z:0,ca=p(this.state.coordinates.left+aa,this.state.min.x,this.state.max.x-y),da=p(this.state.coordinates.top+ba,this.state.min.y,this.state.max.y-z);this.$SlideshowPhotoCropSelector20(ca,da,y,z);};r.prototype.$SlideshowPhotoCropSelector20=function(s,t,u,v){var w=m-t-v,x=l-s-u,y=this.$SlideshowPhotoCropSelector15({top:t,left:s,bottom:w,right:x});!this.$SlideshowPhotoCropSelector4?i(0):void 0;this.$SlideshowPhotoCropSelector4.style.borderWidth=y;this.$SlideshowPhotoCropSelector4.style.width=u+'px';this.$SlideshowPhotoCropSelector4.style.height=v+'px';if(!this.$SlideshowPhotoCropSelector1){this.setState({coordinates:{top:t,left:s,bottom:w,right:x,width:u,height:v}});var z=this.state.min;z.scale=Math.min(n*this.state.scale/u,o*this.state.scale/v);var aa=this.state.max;aa.scale=Math.min(this.state.photoDimensions.scaledWidth/u,this.state.photoDimensions.scaledHeight/v);this.setState({min:z,max:aa});}};r.prototype.$SlideshowPhotoCropSelector10=function(s,t){var u=this.state.coordinates.width,v=this.state.coordinates.height,w=p(this.state.coordinates.left+s,this.state.min.x,this.state.max.x-u),x=p(this.state.coordinates.top+t,this.state.min.y,this.state.max.y-v);this.$SlideshowPhotoCropSelector20(w,x,u,v);};r.prototype.$SlideshowPhotoCropSelector18=function(){!!this.$SlideshowPhotoCropSelector4?i(0):void 0;this.$SlideshowPhotoCropSelector4=c('ReactDOM').findDOMNode(this.refs.selector);!this.$SlideshowPhotoCropSelector4?i(0):void 0;};r.prototype.$SlideshowPhotoCropSelector9=function(event){this.$SlideshowPhotoCropSelector17(event,false);};r.prototype.$SlideshowPhotoCropSelector8=function(event){if(this.$SlideshowPhotoCropSelector1){event.prevent();!this.$SlideshowPhotoCropSelector3?i(0):void 0;this.$SlideshowPhotoCropSelector3(event.pageX-this.state.screenX,event.pageY-this.state.screenY);}};r.prototype.$SlideshowPhotoCropSelector7=function(event){if(this.$SlideshowPhotoCropSelector1){this.$SlideshowPhotoCropSelector1=false;this.setState({isCropping:false,isResizing:false});!this.$SlideshowPhotoCropSelector3?i(0):void 0;this.$SlideshowPhotoCropSelector3(event.pageX-this.state.screenX,event.pageY-this.state.screenY);this.$SlideshowPhotoCropSelector2&&this.$SlideshowPhotoCropSelector2.remove();this.$SlideshowPhotoCropSelector2=null;this.$SlideshowPhotoCropSelector6&&this.$SlideshowPhotoCropSelector6.remove();this.$SlideshowPhotoCropSelector6=null;this.$SlideshowPhotoCropSelector3=null;}this.$SlideshowPhotoCropSelector21();};r.prototype.$SlideshowPhotoCropSelector21=function(){delete this.$SlideshowPhotoCropSelector4;};r.prototype.$SlideshowPhotoCropSelector22=function(){var s=this.state.coordinates.width+'px',t=this.state.coordinates.height+'px',u=this.$SlideshowPhotoCropSelector15(this.state.coordinates);return (c('React').createElement('div',null,c('React').createElement('div',{className:"_47vr",style:{width:this.state.photoDimensions.scaledWidth+2,height:this.state.photoDimensions.scaledHeight+2,top:this.state.min.y-1,left:this.state.min.x-1}}),c('React').createElement('div',null,c('React').createElement('div',{className:"_47vs",ref:'selector',style:{borderWidth:u,height:t,left:this.state.min.x,top:this.state.min.y,width:s}},this.$SlideshowPhotoCropSelector14(),this.$SlideshowPhotoCropSelector16(),c('React').createElement(c('SlideshowPhotoCropperWindow.react'),{className:"_ms8",format:this.props.format,height:this.state.coordinates.height,isCropping:this.state.isCropping&&this.$SlideshowPhotoCropSelector1,onMouseDown:this.$SlideshowPhotoCropSelector9,width:this.state.coordinates.width})))));};r.prototype.render=function(){return (c('React').createElement('div',{className:"_118z"},c('React').createElement('div',{className:"_47vt"},c('React').createElement(c('BackgroundImage.react'),{backgroundSize:'contain',height:m,loadingIndicatorStyle:'large',src:this.props.photoToEdit.url,width:l}),this.$SlideshowPhotoCropSelector22())));};f.exports=r;}),null);
__d('SlideshowPhotoEditOptionConstants',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={Text:'TEXT',Crop:'CROP'};}),null);
__d('SlideshowPhotoEditOptionSelector.react',['ix','cx','fbt','Image.react','React','SlideshowPhotoEditOptionConstants','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('SlideshowPhotoEditOptionConstants').Text,n=c('SlideshowPhotoEditOptionConstants').Crop;k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;function o(){var p;(p=l.constructor).call.apply(p,[this].concat(Array.prototype.slice.call(arguments)));this.$SlideshowPhotoEditOptionSelector1=this.$SlideshowPhotoEditOptionSelector1.bind(this);this.$SlideshowPhotoEditOptionSelector2=this.$SlideshowPhotoEditOptionSelector2.bind(this);}o.prototype.$SlideshowPhotoEditOptionSelector3=function(p){if(p!==this.props.editOptionType)return null;return (c('React').createElement(c('Image.react'),{className:p===m?"_3rqm":"_3rqn",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/triangle-left_24_fig-white.png")}));};o.prototype.$SlideshowPhotoEditOptionSelector4=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:this.props.editOptionType===m?"_4bna":"_3rqo",onClick:this.$SlideshowPhotoEditOptionSelector2},c('React').createElement(c('Image.react'),{className:"_3rqp",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/text-helvetica_24_fig-blue.png")}),c('React').createElement('span',{className:"_3rqq"},j._("Text"))),this.$SlideshowPhotoEditOptionSelector3(m)));};o.prototype.$SlideshowPhotoEditOptionSelector5=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:this.props.editOptionType===n?"_4bnb":"_3rqr",onClick:this.$SlideshowPhotoEditOptionSelector1},c('React').createElement(c('Image.react'),{className:"_3rqp",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/crop_24_fig-blue.png")}),c('React').createElement('span',{className:"_3rqq"},j._("Crop"))),this.$SlideshowPhotoEditOptionSelector3(n)));};o.prototype.$SlideshowPhotoEditOptionSelector2=function(){if(this.props.editOptionType!==m)this.props.onChangeEditOption(m);};o.prototype.$SlideshowPhotoEditOptionSelector1=function(){if(this.props.editOptionType!==n)this.props.onChangeEditOption(n);};o.prototype.render=function(){return (c('React').createElement('div',{className:"_3rqs"},this.$SlideshowPhotoEditOptionSelector4(),this.$SlideshowPhotoEditOptionSelector5()));};f.exports=o;}),null);
__d("SlideshowPreviewConstants",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={WWW_PREVIEW_CONTAINER_SIZE:450,WWW_PREVIEW_CONTAINER_SIZE_COMPOSER:478,WWW_COMPOSER_LEFT_MARGIN:12,WWW_PLAY_ICON_SIZE:64,WWW_PLAYER_SIZE:350,WWW_PLAYER_SIZE_COMPOSER:478,WWW_WIDE_ASPECT_RATIO:1.7766};}),null);
__d('SlideshowTextoverlayAlignmentConstants',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={Horizontal:['left','center','right'],Vertical:['top','center','bottom']};}),null);
__d('SlideshowPhotoEditDialog.react',['invariant','cx','fbt','colr','color-picker','LayerHideOnBlur','LayerFadeOnHide','React','SlideshowAlignmentBox.react','SlideshowColorBox.react','SlideshowConstants','SlideshowFrameImage.react','SlideshowPhotoCropSelector.react','SlideshowImageUtil','SlideshowPhotoEditOptionConstants','SlideshowPhotoEditOptionSelector.react','SlideshowPreviewConstants','SlideshowTextoverlayAlignmentConstants','SlideshowTextoverlayColorPickerConstants','XUIButton.react','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIContextualDialogFooter.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogSaveButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIRadioButtonGroup.react','XUISingleSelector.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('XUISingleSelector.react').Option,n=204,o=730,p=810,q=460,r=60;k=babelHelpers.inherits(s,c('React').Component);l=k&&k.prototype;function s(t){l.constructor.call(this,t);this.$SlideshowPhotoEditDialog1=function(u){this.props.onChangeTextoverlayFont(u.value);}.bind(this);this.$SlideshowPhotoEditDialog2=function(u){this.props.onChangeTextoverlayFontBold(u);}.bind(this);this.$SlideshowPhotoEditDialog3=function(u){this.props.onSetTextoverlayContent(u.target.value);}.bind(this);this.state={colorInput:t.textoverlayColor.background_color};this.$SlideshowPhotoEditDialog1=this.$SlideshowPhotoEditDialog1.bind(this);this.$SlideshowPhotoEditDialog2=this.$SlideshowPhotoEditDialog2.bind(this);this.$SlideshowPhotoEditDialog3=this.$SlideshowPhotoEditDialog3.bind(this);this.$SlideshowPhotoEditDialog4=this.$SlideshowPhotoEditDialog4.bind(this);this.$SlideshowPhotoEditDialog5=this.$SlideshowPhotoEditDialog5.bind(this);this.$SlideshowPhotoEditDialog6=this.$SlideshowPhotoEditDialog6.bind(this);this.$SlideshowPhotoEditDialog7=this.$SlideshowPhotoEditDialog7.bind(this);}s.prototype.$SlideshowPhotoEditDialog7=function(t){if(this.props.colorPickerDialogShown&&!t)this.props.onSaveColor();};s.prototype.$SlideshowPhotoEditDialog8=function(){var t=c('SlideshowConstants').textoverlays_fonts;return Object.keys(t).map(function(u){return c('React').createElement(m,{key:u,value:u},t[u]);});};s.prototype.$SlideshowPhotoEditDialog9=function(){return c('React').createElement('div',{className:"_bsi"},c('React').createElement('div',{className:"_bsj"},j._("Font")),c('React').createElement(c('XUISingleSelector.react'),{className:"_bsm",maxwidth:138,name:'font',size:'large',value:this.props.textoverlayFont,onChange:this.$SlideshowPhotoEditDialog1},this.$SlideshowPhotoEditDialog8()),c('React').createElement(c('XUIRadioButtonGroup.react'),{className:"_46un",selectedValue:this.props.isTextoverlayFontBold,selectedDepressed:true,onValueChange:this.$SlideshowPhotoEditDialog2},c('React').createElement(c('XUIButton.react'),{label:j._("Regular"),value:false}),c('React').createElement(c('XUIButton.react'),{label:j._("Bold"),value:true})));};s.prototype.$SlideshowPhotoEditDialog10=function(){return c('React').createElement('div',{className:"_47dr"},c('React').createElement('span',{className:"_bsj"},j._("Colors")),c('React').createElement(c('SlideshowColorBox.react'),{className:"_458a",ref:'colorBox',style:{color:this.props.textoverlayColor.font_color,backgroundColor:this.props.textoverlayColor.background_color},onClick:this.props.onOpenColorPicker}),this.$SlideshowPhotoEditDialog11());};s.prototype.$SlideshowPhotoEditDialog12=function(){var t=c('SlideshowConstants').textoverlays_colors,u=this.props.textoverlayColor;return c('React').createElement('div',{className:"_3pya"},t.map(function(v){return c('React').createElement(c('SlideshowColorBox.react'),{className:"_47ds"+(v.background_color==u.background_color&&v.font_color==u.font_color?' '+"_auk":''),color:v,key:v.font_color+v.background_color,style:{color:v.font_color,backgroundColor:v.background_color},onClick:this.$SlideshowPhotoEditDialog6});}.bind(this)));};s.prototype.$SlideshowPhotoEditDialog6=function(t){this.setState({colorInput:t.background_color});this.props.onSelectTextoverlayColor(t);};s.prototype.$SlideshowPhotoEditDialog13=function(){var t=this.props.textoverlayColor;return c('React').createElement('div',null,c('React').createElement('div',{className:"_3pyb"},c('React').createElement(c('color-picker'),{color:t.background_color,onChange:this.$SlideshowPhotoEditDialog4})),c('React').createElement(c('SlideshowColorBox.react'),{className:"_47ds _3pyc",color:t,style:{color:t.font_color,backgroundColor:t.background_color}}),c('React').createElement('div',{className:"_3pyd"},c('React').createElement('input',{maxLength:7,value:this.state.colorInput,onChange:this.$SlideshowPhotoEditDialog5})));};s.prototype.$SlideshowPhotoEditDialog11=function(){var t=this.props,u=t.colorPickerDialogShown,v=t.colorPickerType,w=v==c('SlideshowTextoverlayColorPickerConstants').Basic;return c('React').createElement(c('XUIContextualDialog.react'),{alignment:'right',behaviors:{LayerHideOnBlur:c('LayerHideOnBlur')},contextRef:function(){return this.refs.colorBox;}.bind(this),shown:u,position:'below',width:n,onToggle:this.$SlideshowPhotoEditDialog7},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement('div',{className:"_3pye"+(' '+"_2d75")+(w?' '+"_3pyf":''),onClick:this.props.onClickBasicColorPicker},j._("Basic")),c('React').createElement('div',{className:"_3pye"+(' '+"_2d76")+(!w?' '+"_3pyf":''),onClick:this.props.onClickAdvancedColorPicker},j._("Advanced")),w?this.$SlideshowPhotoEditDialog12():this.$SlideshowPhotoEditDialog13()),c('React').createElement(c('XUIContextualDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{use:'confirm',label:j._("Done"),onClick:this.props.onSaveColor})));};s.prototype.$SlideshowPhotoEditDialog5=function(t){var u=t.target;!(u instanceof HTMLInputElement)?h(0):void 0;this.setState({colorInput:u.value});var v=void 0;try{v=c('colr').fromHex(u.value).toHex();if(v)this.props.onSelectTextoverlayColor({background_color:v,font_color:this.props.textoverlayColor.font_color});}catch(w){}};s.prototype.$SlideshowPhotoEditDialog4=function(t){this.setState({colorInput:t});this.props.onSelectTextoverlayColor({background_color:t,font_color:this.props.textoverlayColor.font_color});};s.prototype.$SlideshowPhotoEditDialog14=function(){var t=c('SlideshowTextoverlayAlignmentConstants').Horizontal,u=c('SlideshowTextoverlayAlignmentConstants').Vertical;return c('React').createElement('div',{className:"_b3r"},c('React').createElement('span',{className:"_bsj"},j._("Alignment")),c('React').createElement('div',{className:"_b3s"},u.map(function(v){return t.map(function(w){return c('React').createElement(c('SlideshowAlignmentBox.react'),{key:v+'-'+w,selectedValue:this.props.textoverlayAlignment,horizontalAlignment:w,verticalAlignment:v,onValueChange:this.props.onChangeTextoverlayAlignment});}.bind(this));}.bind(this))));};s.prototype.$SlideshowPhotoEditDialog15=function(){return c('React').createElement('div',{className:"_32zp"},this.$SlideshowPhotoEditDialog16(),this.$SlideshowPhotoEditDialog9(),this.$SlideshowPhotoEditDialog10(),this.$SlideshowPhotoEditDialog14());};s.prototype.$SlideshowPhotoEditDialog17=function(){if(!this.props.dialogShown)return null;var t=c('SlideshowImageUtil').getPreviewBoxDimensions(this.props.photosCrops,q,c('SlideshowPreviewConstants').WWW_WIDE_ASPECT_RATIO),u={marginLeft:(q-t.width)/2,marginTop:(q-t.height)/2},v=this.props.photoToEdit;!v?h(0):void 0;return c('React').createElement('div',{className:"_4ry3"},c('React').createElement('div',{style:u},c('React').createElement(c('SlideshowFrameImage.react'),{croppingSpec:c('SlideshowImageUtil').getFullSizeImageBoxCroppingSpec({width:v.width||0,height:v.height||0},{width:t.width,height:t.height}),imageSrc:v.url,imageWidth:v.width,imageHeight:v.height,maxWidth:t.width,maxHeight:t.height,positionStyle:'relative',textoverlay:{background_color:this.props.textoverlayColor.background_color,bold:this.props.isTextoverlayFontBold,font:this.props.textoverlayFont,font_color:this.props.textoverlayColor.font_color,text_alignment:this.props.textoverlayAlignment,textoverlay_content:this.props.textoverlayContent}})));};s.prototype.$SlideshowPhotoEditDialog18=function(){switch(this.props.editOptionType){case c('SlideshowPhotoEditOptionConstants').Crop:if(!this.props.photoToEdit)return null;return c('React').createElement('div',{className:"_2m0d"},c('React').createElement(c('SlideshowPhotoCropSelector.react'),{format:this.props.format,photosCrops:this.props.photosCrops,photoToEdit:this.props.photoToEdit}));case c('SlideshowPhotoEditOptionConstants').Text:return c('React').createElement('div',{className:"_2m0d"},this.$SlideshowPhotoEditDialog15(),c('React').createElement('div',{className:"_4ry4"},this.$SlideshowPhotoEditDialog17()));default:return null;}};s.prototype.$SlideshowPhotoEditDialog16=function(){var t=this.props.textoverlayContent,u=r-(t?t.length:0);return c('React').createElement('div',null,c('React').createElement('textarea',{className:"_32zq",placeholder:j._("Your text..."),maxLength:r,onChange:this.$SlideshowPhotoEditDialog3,value:t||''}),c('React').createElement('div',{className:"_2nyn"+(u<=0?' '+"_2d77":'')},u));};s.prototype.$SlideshowPhotoEditDialog19=function(){if(!this.props.showSlideshowImageCroppingEditOption)return null;return (c('React').createElement(c('SlideshowPhotoEditOptionSelector.react'),{editOptionType:this.props.editOptionType,onChangeEditOption:this.props.onChangeEditOption}));};s.prototype.render=function(){return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},layerHideOnBlur:false,shown:this.props.dialogShown,width:this.props.showSlideshowImageCroppingEditOption?p:o},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},j._("Edit Photo")),c('React').createElement(c('XUIDialogBody.react'),{className:"_5emm",useCustomPadding:true},this.$SlideshowPhotoEditDialog19(),this.$SlideshowPhotoEditDialog18()),c('React').createElement(c('XUIDialogFooter.react'),{className:"_vc3"},c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.props.onCancel}),c('React').createElement(c('XUIDialogSaveButton.react'),{disabled:this.props.textoverlayContent&&this.props.textoverlayContent.length>r,use:'confirm',onClick:this.props.onSave}))));};f.exports=s;}),null);
__d('SlideshowPhotoEditStore',['SlideshowConstants','SlideshowPhotoEditOptionConstants','SlideshowTextoverlayColorPickerConstants','FluxReduceStore','immutable','SlideshowActionTypes','SlideshowDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k;if(c.__markCompiled)c.__markCompiled();var l=c('immutable').Record({colorPickerType:c('SlideshowTextoverlayColorPickerConstants').Basic,isColorPickerDialogShown:false,isPhotoEditDialogShown:false,isTextoverlayFontBold:false,editOptionType:c('SlideshowPhotoEditOptionConstants').Text,photoToEdit:null,textoverlayAlignment:'center-center',textoverlayColor:c('SlideshowConstants').textoverlays_colors[0],textoverlayContent:null,textoverlayFont:Object.keys(c('SlideshowConstants').textoverlays_fonts)[0]});h=babelHelpers.inherits(m,l);i=h&&h.prototype;function m(){h.apply(this,arguments);}j=babelHelpers.inherits(n,c('FluxReduceStore'));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m();};n.prototype.getPhotoToEdit=function(){return this.getState().get('photoToEdit');};n.prototype.reduce=function(o,p){switch(p.type){case c('SlideshowActionTypes').SHOW_PHOTO_EDIT_DIALOG:return o.set('isColorPickerDialogShown',p.isColorPickerDialogShown).set('isPhotoEditDialogShown',p.isPhotoEditDialogShown).set('photoToEdit',p.photoToEdit).set('textoverlayAlignment',p.textoverlayAlignment).set('textoverlayColor',p.textoverlayColor).set('textoverlayContent',p.textoverlayContent).set('textoverlayFont',p.textoverlayFont).set('isTextoverlayFontBold',p.isTextoverlayFontBold);case c('SlideshowActionTypes').CLOSE_PHOTO_EDIT_DIALOG:return o.set('isPhotoEditDialogShown',p.isPhotoEditDialogShown).set('photoToEdit',p.photoToEdit);case c('SlideshowActionTypes').TOGGLE_COLOR_PICKER_DIALOG:return o.set('isColorPickerDialogShown',!o.get('isColorPickerDialogShown'));case c('SlideshowActionTypes').CHANGE_COLOR_PICKER_TYPE:return o.set('colorPickerType',p.colorPickerType);case c('SlideshowActionTypes').CHANGE_EDIT_OPTION_TYPE:return o.set('editOptionType',p.editOptionType);case c('SlideshowActionTypes').SELECT_TEXTOVERLAY_COLOR:return o.set('textoverlayColor',p.textoverlayColor);case c('SlideshowActionTypes').SET_TEXTOVERLAY_CONTENT:var q=p.textoverlayContent?p.textoverlayContent.trimLeft():null;return o.set('textoverlayContent',q);case c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_ALIGNMENT:return o.set('textoverlayAlignment',p.textoverlayAlignment);case c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_FONT:return o.set('textoverlayFont',p.textoverlayFont);case c('SlideshowActionTypes').CHANGE_TEXTOVERLAY_FONT_BOLD:return o.set('isTextoverlayFontBold',p.isTextoverlayFontBold);}return o;};n.prototype.getColorPickerType=function(){return this.getState().get('colorPickerType');};n.prototype.getEditOptionType=function(){return this.getState().get('editOptionType');};n.prototype.getTextoverlayAlignment=function(){return this.getState().get('textoverlayAlignment');};n.prototype.getTextoverlayColor=function(){return this.getState().get('textoverlayColor');};n.prototype.getTextoverlayContent=function(){return this.getState().get('textoverlayContent');};n.prototype.getTextoverlayFont=function(){return this.getState().get('textoverlayFont');};n.prototype.shouldShowColorPickerDialog=function(){return this.getState().get('isColorPickerDialogShown');};n.prototype.shouldShowPhotoEditDialog=function(){return this.getState().get('isPhotoEditDialogShown');};n.prototype.isTextoverlayFontBold=function(){return this.getState().get('isTextoverlayFontBold');};function n(){j.apply(this,arguments);}f.exports=new n(c('SlideshowDispatcher'));}),null);
__d('SlideshowPhotoEditDialogContainer.react',['FluxContainer','FluxStore','React','SlideshowActions','SlideshowDispatcher','SlideshowPhotoEditDialog.react','SlideshowPhotoEditStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$SlideshowPhotoEditDialogContainer1=function(){this.props.onSaveTextoverlay&&this.props.onSaveTextoverlay(this.state.photoToEdit,{textoverlay_content:this.state.textoverlayContent,font_color:this.state.textoverlayColor.font_color,background_color:this.state.textoverlayColor.background_color,text_alignment:this.state.textoverlayAlignment,font:this.state.textoverlayFont,bold:this.state.isTextoverlayFontBold});c('SlideshowActions').closePhotoEditDialog();}.bind(this);this.$SlideshowPhotoEditDialogContainer1=this.$SlideshowPhotoEditDialogContainer1.bind(this);}j.getStores=function(){return [c('SlideshowPhotoEditStore')];};j.calculateState=function(){return {colorPickerType:c('SlideshowPhotoEditStore').getColorPickerType(),editOptionType:c('SlideshowPhotoEditStore').getEditOptionType(),isColorPickerDialogShown:c('SlideshowPhotoEditStore').shouldShowColorPickerDialog(),isPhotoEditDialogShown:c('SlideshowPhotoEditStore').shouldShowPhotoEditDialog(),isTextoverlayFontBold:c('SlideshowPhotoEditStore').isTextoverlayFontBold(),textoverlayAlignment:c('SlideshowPhotoEditStore').getTextoverlayAlignment(),textoverlayColor:c('SlideshowPhotoEditStore').getTextoverlayColor(),textoverlayContent:c('SlideshowPhotoEditStore').getTextoverlayContent(),textoverlayFont:c('SlideshowPhotoEditStore').getTextoverlayFont(),photoToEdit:c('SlideshowPhotoEditStore').getPhotoToEdit()};};j.prototype.componentWillMount=function(){c('SlideshowDispatcher').explicitlyRegisterStores([c('SlideshowPhotoEditStore')]);};j.prototype.render=function(){return (c('React').createElement(c('SlideshowPhotoEditDialog.react'),{colorPickerDialogShown:this.state.isColorPickerDialogShown,colorPickerType:this.state.colorPickerType,dialogShown:this.state.isPhotoEditDialogShown,editOptionType:this.state.editOptionType,format:this.props.format,isTextoverlayFontBold:this.state.isTextoverlayFontBold,photosCrops:this.props.photosCrops,photoToEdit:this.state.photoToEdit,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,textoverlayAlignment:this.state.textoverlayAlignment,textoverlayColor:this.state.textoverlayColor,textoverlayContent:this.state.textoverlayContent,textoverlayFont:this.state.textoverlayFont,onCancel:c('SlideshowActions').closePhotoEditDialog,onChangeEditOption:c('SlideshowActions').changeEditOptionType,onChangeTextoverlayAlignment:c('SlideshowActions').changeTextoverlayAlignment,onChangeTextoverlayFont:c('SlideshowActions').changeTextoverlayFont,onChangeTextoverlayFontBold:c('SlideshowActions').changeTextoverlayFontBold,onClickAdvancedColorPicker:c('SlideshowActions').showAdvancedColorPicker,onClickBasicColorPicker:c('SlideshowActions').showBasicColorPicker,onOpenColorPicker:c('SlideshowActions').toggleColorPickerDialog,onSave:this.$SlideshowPhotoEditDialogContainer1,onSaveColor:c('SlideshowActions').toggleColorPickerDialog,onSelectTextoverlayColor:c('SlideshowActions').selectTextoverlayColor,onSetTextoverlayContent:c('SlideshowActions').setTextoverlayContent}));};f.exports=c('FluxContainer').create(j);}),null);
__d('SlideshowPlayer.react',['cx','fbt','ix','Animation','Event','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','Image.react','Link.react','React','ReactDOM','Style','SlideshowConstants','SlideshowImageUtil','SlideshowPreviewConstants','XUICloseButton.react','XUIOverlayButton.react','ge','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=1000,m=100,n=c('React').createClass({displayName:'SlideshowPlayer',_animation:null,_timeout:0,_audioEndedEvent:c('Event'),_audioref:'slideshow_audio_player',_fadeTimeOut:0,_fadeInterval:0,propTypes:{durationInMS:k.number.isRequired,imagesAllLoaded:k.bool.isRequired,imagesCrops:k.arrayOf(k.object.isRequired).isRequired,isPreviewPlaying:k.bool.isRequired,previewBoxContainerSize:k.number.isRequired,previewBoxSize:k.number.isRequired,transitionInMS:k.number.isRequired,audioFileSource:k.string.isRequired,showStorylineMood:k.bool.isRequired,storylineMoodIDSource:k.oneOfType([k.oneOf([null,undefined]),k.string]),onClose:k.func,onPreviewStateChange:k.func.isRequired},getInitialState:function o(){return {currIndex:0,nextIndex:1,playing:false};},componentDidMount:function o(){this._timeout=0;this._audioEndedEvent=null;},componentWillUnmount:function o(){this._clearTimeout();},componentDidUpdate:function o(p){if(this.props.isPreviewPlaying&&!p.isPreviewPlaying){this._startPlaying();}else if(!this.props.isPreviewPlaying&&p.isPreviewPlaying)this._stopPlaying();},_clearTimeout:function o(){if(this._timeout){clearTimeout(this._timeout);this._timeout=0;}if(this._animation){this._animation.stop();this._animation=null;}if(this._fadeTimeOut)clearTimeout(this._fadeTimeOut);if(this._fadeInterval)clearInterval(this._fadeInterval);},_getItemCount:function o(){return c('React').Children.count(this.props.children);},_moveNext:function o(){if(this.state.nextIndex>=this._getItemCount()){this._stopPlaying();}else this._fadeImage();},_setTimeout:function o(){this._timeout=setTimeout(this._moveNext,this.props.durationInMS);},_fadeImage:function o(){var p=this.state,q=p.currIndex,r=p.nextIndex,s=c('ReactDOM').findDOMNode(this.refs[q]);if(!s){this._stopPlaying();return;}this._animation=new (c('Animation'))(c('ReactDOM').findDOMNode(this.refs[q])).from('opacity',1).to('opacity',0).duration(this.props.transitionInMS).ondone(function(){this.setState({currIndex:r,nextIndex:r+1},this._setTimeout);}.bind(this)).go();},_resetImages:function o(){this.setState({currIndex:0,nextIndex:1});for(var p=0;p<this._getItemCount();p++)c('Style').set(c('ReactDOM').findDOMNode(this.refs[p]),'opacity',1);},_fadeAudio:function o(){var p=c('ge')(this._audioref),q=c('SlideshowConstants').audio_fadeout*(l/m),r=1/q;this._fadeInterval=setInterval(function(){var s=p.volume;if(s-r>=0){s-=r;p.volume=s;}else clearInterval(this._fadeInterval);},m);},_startPlaying:function o(){if(this._timeout)return;this.setState({playing:true},this._setTimeout);this._audioEndedEvent=null;var p=this.props.showStorylineMood?this.props.storylineMoodIDSource:this.props.audioFileSource;if(!p||p===c('SlideshowConstants').audio_source_none)return;var q=c('ge')(this._audioref);if(!q)return;q.src=p;q.currentTime=0;q.volume=1;q.play();this._audioEndedEvent=c('Event').listen(q,'ended',function(){q.play();});var r=this._getItemCount()*(this.props.durationInMS+this.props.transitionInMS);this._fadeTimeOut=setTimeout(this._fadeAudio,r-l*c('SlideshowConstants').audio_fadeout);},_stopPlaying:function o(){this.props.onPreviewStateChange(false);if(this._timeout){this.setState({playing:false});var p=c('ge')(this._audioref);if(p!=null)p.pause();if(this._audioEndedEvent!==null)this._audioEndedEvent.remove();this._clearTimeout();this._resetImages();}},_getCurrentImages:function o(){return this.props.children.map(function(p,q){return (c('React').createElement('div',{ref:q,key:q,style:{position:'absolute'}},p));}).reverse();},_getPlayerStyle:function o(){return {height:this.props.previewBoxSize,margin:(this.props.previewBoxContainerSize-this.props.previewBoxSize)/2,width:this.props.previewBoxSize};},_getOverlayButtonStyle:function o(){var p=c('SlideshowImageUtil').getPreviewBoxDimensions(this.props.imagesCrops,this.props.previewBoxSize,c('SlideshowPreviewConstants').WWW_WIDE_ASPECT_RATIO);return {marginLeft:(this.props.previewBoxSize-p.width)/2,marginTop:(this.props.previewBoxSize-p.height)/2};},_getCloseButton:function o(){if(!this.props.onClose)return null;return (c('React').createElement(c('XUICloseButton.react'),{className:"_4xxs",onClick:this.props.onClose,size:'medium',shade:'light',style:this._getOverlayButtonStyle()}));},_playButtonClick:function o(){this.props.onPreviewStateChange(true);},_getEditButton:function o(){if(!this.props.onEdit)return null;var p=i._("Edit");return (c('React').createElement(c('XUIOverlayButton.react'),{className:"_4xxt",image:c('React').createElement(c('Image.react'),{src:j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/pencil_16_fig-white.png")}),label:p,style:this._getOverlayButtonStyle(),onClick:this.props.onEdit}));},render:function o(){var p=this._getItemCount();if(p===0)return (c('React').createElement('div',{className:"_4xxu"},c('React').createElement(c('Image.react'),{className:"_4xxv",src:j('/images/ads/video/play-na.png')}),i._("Add images to see a preview of your slideshow")));var q={marginLeft:(this.props.previewBoxContainerSize-c('SlideshowPreviewConstants').WWW_PLAY_ICON_SIZE)/2,marginTop:(this.props.previewBoxContainerSize-c('SlideshowPreviewConstants').WWW_PLAY_ICON_SIZE)/2};return (c('React').createElement(c('FBOverlayContainer.react'),null,c('React').createElement(c('FBOverlayBase.react'),null,c('React').createElement('div',{className:"_4xxx",style:this._getPlayerStyle()},p===1?c('React').createElement('div',{ref:0,style:{position:'absolute'}},this.props.children):this._getCurrentImages(),this._getCloseButton(),this._getEditButton(),c('React').createElement('audio',{id:this._audioref,className:'hidden_elem'},c('React').createElement('source',{type:'audio/mpeg'})))),c('React').createElement(c('FBOverlayElement.react'),null,c('React').createElement('div',{className:this.state.playing||!this.props.imagesAllLoaded?"_4xxy":'',style:q},c('React').createElement(c('Link.react'),{onClick:this._playButtonClick},c('React').createElement(c('Image.react'),{src:j('/images/calltoaction/videoendscreen/play_64dp.png')}))))));}});f.exports=n;}),null);
__d('SlideshowPreview.react',['cx','invariant','LoadingImageBox.react','React','SlideshowFrameImage.react','SlideshowImageUtil','SlideshowPlayer.react','SlideshowPreviewConstants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$SlideshowPreview1=function(){var r=c('SlideshowImageUtil').getPreviewBoxDimensions(this.props.imagesCrops,this.props.previewBoxSize,c('SlideshowPreviewConstants').WWW_WIDE_ASPECT_RATIO),s={marginLeft:(this.props.previewBoxSize-r.width)/2,marginTop:(this.props.previewBoxSize-r.height)/2};return (this.props.selectedImages.map(function(t,u){!(t.width!=null&&t.height!=null)?i(0):void 0;return (c('React').createElement('div',{style:s,key:t.key},c('React').createElement(c('SlideshowFrameImage.react'),{className:"_590x",croppingSpec:c('SlideshowImageUtil').getFullSizeImageBoxCroppingSpec({width:t.width?t.width:0,height:t.height?t.height:0},{width:r.width,height:r.height}),imageSrc:t.url,imageWidth:t.width,imageHeight:t.height,maxWidth:r.width,maxHeight:r.height,positionStyle:'relative',textoverlay:this.props.imagesTextoverlays&&this.props.imagesTextoverlays[u].textoverlay_content?this.props.imagesTextoverlays[u]:null})));}.bind(this)).slice(0,this.props.maxSelectedImages));}.bind(this),n;}l.prototype.render=function(){return (c('React').createElement('div',this.props,c('React').createElement(c('SlideshowPlayer.react'),{durationInMS:this.props.durationWithTransitionInMS-this.props.transitionInMS,audioFileSource:this.props.audioFileSource,imagesAllLoaded:this.props.imagesAllLoaded,imagesCrops:this.props.imagesCrops,isPreviewPlaying:this.props.isPreviewPlaying,previewBoxContainerSize:this.props.previewBoxContainerSize,previewBoxSize:this.props.previewBoxSize,showStorylineMood:this.props.showStorylineMood,storylineMoodIDSource:this.props.storylineMoodIDSource,transitionInMS:this.props.transitionInMS,onClose:this.props.onClose,onEdit:this.props.onEdit,onPreviewStateChange:this.props.onPreviewStateChange},this.props.imagesAllLoaded?this.$SlideshowPreview1():c('React').createElement(c('LoadingImageBox.react'),{className:"_590x",height:this.props.previewBoxSize,width:this.props.previewBoxSize}))));};f.exports=l;}),null);
__d('SlideshowSettingsPanel.react',['cx','fbt','SlideshowConstants','SlideshowFbtUtils','AdsHelpLink.react','React','XUIButton.react','XUIRadioButtonGroup.react','XUISingleSelector.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('XUISingleSelector.react').Option,m=c('SlideshowConstants').image_duration_in_sec_options,n=1000;j=babelHelpers.inherits(o,c('React').PureComponent);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$SlideshowSettingsPanel9=function(event){this.props.onPreviewStateChange(false);this.props.onChangeStorylineMood(event.value);}.bind(this),q;}o.prototype.$SlideshowSettingsPanel1=function(){return c('React').createElement('div',{className:"_315i"},c('React').createElement('span',{className:"_315k"},i._("ASPECT RATIO")),c('React').createElement(c('AdsHelpLink.react'),{width:360},i._("Choose the aspect ratio for your video. Let the first image of your slideshow determine the ratio, or set it to square (1:1), rectangle (16:9) or vertical (2:3)")),c('React').createElement('div',{className:"_2i2r"},c('React').createElement(c('XUISingleSelector.react'),{defaultValue:this.props.format,name:'format',size:'xlarge',onChange:this.props.onChangeFormat},this.$SlideshowSettingsPanel2())));};o.prototype.$SlideshowSettingsPanel2=function(){var p=c('SlideshowConstants').formats;return Object.keys(p).map(function(q){return c('React').createElement(l,{key:q,value:p[q]},c('SlideshowFbtUtils').getFormatFbtString(q));});};o.prototype.$SlideshowSettingsPanel3=function(){return c('React').createElement('div',{className:"_315i"},c('React').createElement('span',{className:"_315k"},i._("IMAGE DURATION")),c('React').createElement(c('AdsHelpLink.react'),null,i._("Set the total number of seconds you show each image in your slideshow.")),c('React').createElement('div',{className:"_2i2r"},c('React').createElement(c('XUISingleSelector.react'),{defaultValue:this.props.durationWithTransitionInMS,name:'duration',size:'xlarge',onChange:this.props.onChangeDuration},this.$SlideshowSettingsPanel4())));};o.prototype.$SlideshowSettingsPanel4=function(){return m.map(function(p){return c('React').createElement(l,{key:p,value:p*n},c('SlideshowFbtUtils').getDurationFbtString(p));});};o.prototype.$SlideshowSettingsPanel5=function(){var p=c('SlideshowConstants').transitions;return c('React').createElement('div',{className:"_315i"},c('React').createElement('span',{className:"_315k"},i._("TRANSITION")),c('React').createElement(c('AdsHelpLink.react'),null,i._("Choose how your slideshow switches from one image to the next.")),c('React').createElement('div',{className:"_2i2r"},c('React').createElement(c('XUIRadioButtonGroup.react'),{selectedDepressed:true,selectedValue:this.props.transitionInMS,onValueChange:this.props.onChangeTransition},Object.keys(p).map(function(q){return c('React').createElement(c('XUIButton.react'),{key:q,label:c('SlideshowFbtUtils').getTransitionFbtString(q),size:'xlarge',value:p[q]});}))));};o.prototype.$SlideshowSettingsPanel6=function(){if(!this.props.showAudioSelector)return null;return c('React').createElement('div',{className:"_315i"},c('React').createElement('span',{className:"_315k"},i._("MUSIC")),c('React').createElement(c('AdsHelpLink.react'),null,i._("Add sound, such as narration or music, to your slideshow.")),c('React').createElement('div',{className:"_2i2r"},this.props.showStorylineMood?this.$SlideshowSettingsPanel7():this.$SlideshowSettingsPanel8()));};o.prototype.$SlideshowSettingsPanel8=function(){var p=c('SlideshowConstants').audio_files,q=Object.keys(p).map(function(r){return c('React').createElement(l,{key:p[r],value:p[r]},c('SlideshowFbtUtils').getAudioFbtString(r));});return c('React').createElement(c('XUISingleSelector.react'),{defaultValue:this.props.audioFile,name:'audio_file',size:'xlarge',onChange:this.props.onChangeAudio},q);};o.prototype.$SlideshowSettingsPanel7=function(){var p=[];this.props.storylineMoodFiles.forEach(function(r){p.push(c('React').createElement(l,{key:r.moodID,value:r},r.fileName));});var q=[c('React').createElement(l,{key:c('SlideshowConstants').storyline_mood_id_none,value:null},c('SlideshowFbtUtils').getAudioFbtString('None'))];return c('React').createElement(c('XUISingleSelector.react'),{defaultValue:null,name:'storyline_mood_file',size:'xlarge',onChange:this.$SlideshowSettingsPanel9},q.concat(p));};o.prototype.render=function(){return (c('React').createElement('div',babelHelpers['extends']({className:"_2bot"+(this.props.showTabs?' '+"_2bou":'')},this.props),this.$SlideshowSettingsPanel1(),this.$SlideshowSettingsPanel3(),this.$SlideshowSettingsPanel5(),this.$SlideshowSettingsPanel6()));};f.exports=o;}),null);
__d('SlideshowTabBar.react',['cx','LayerFadeOnHide','React','ReactFragment','SimpleNUXMessage','SimpleNUXMessageTypes','SlideshowFbtUtils','SlideshowFlowTypes','XUIAmbientNUX.react','XUICardSection.react','XUIPageNavigation.react'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('SlideshowFlowTypes').SlideshowTabKey,l=c('XUIPageNavigation.react').Group,m=c('XUIPageNavigation.react').Item;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(o){'use strict';j.constructor.call(this,o);this.$SlideshowTabBar1=function(p){var q;if(p!==k.FRAMES_TAB){this.setState({showFramesTabNux:false});}else if(p!==k.MUSIC_TAB)this.setState({showMusicTabNux:false});for(var r=arguments.length,s=Array(r>1?r-1:0),t=1;t<r;t++)s[t-1]=arguments[t];(q=this.props).onSelect.apply(q,[p].concat(s));}.bind(this);this.$SlideshowTabBar3=function(p,q){return (c('React').createElement(m,{key:p,ref:q},c('SlideshowFbtUtils').getTabNameFbtString(p)));};this.state={showFramesTabNux:!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').SLIDESHOW_FRAMES_TAB_NUX),showMusicTabNux:!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').SLIDESHOW_MUSIC_TAB_NUX)};}n.prototype.renderLayers=function(){'use strict';var o=this.props.tabKeys.indexOf(k.FRAMES_TAB)!==-1,p=this.props.tabKeys.indexOf(k.MUSIC_TAB)!==-1,q=null,r=null;if(o){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').SLIDESHOW_FRAMES_TAB_NUX);q=c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'left',behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},contextRef:function(){return this.refs.framesTab;}.bind(this),offsetX:14,position:'below',shown:this.state.showFramesTabNux,width:'normal',onCloseButtonClick:function(){this.setState({showFramesTabNux:false});}.bind(this)},c('SlideshowFbtUtils').getFramesTabNuxFbtString());}if(p){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').SLIDESHOW_MUSIC_TAB_NUX);r=c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'left',behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},contextRef:function(){return this.refs.musicTab;}.bind(this),offsetX:14,position:'below',shown:this.state.showMusicTabNux,width:'normal',onCloseButtonClick:function(){this.setState({showMusicTabNux:false});}.bind(this)},c('SlideshowFbtUtils').getMusicTabNuxFbtString());}return c('ReactFragment').create({framesTabNUX:q,musicTabNUX:r});};n.prototype.render=function(){'use strict';return c('React').createElement(c('XUICardSection.react'),{className:"_5vx1"},c('React').createElement(c('XUIPageNavigation.react'),{activeTabKey:this.props.selected,defaultActiveTabKey:this.props.tabKeys[0],onTabClick:this.$SlideshowTabBar1},this.$SlideshowTabBar2()),this.renderLayers());};n.prototype.$SlideshowTabBar2=function(){'use strict';return (c('React').createElement(l,null,this.props.tabKeys.map(function(o){switch(o){case k.FRAMES_TAB:return this.$SlideshowTabBar3(k.FRAMES_TAB,'framesTab');case k.MUSIC_TAB:return this.$SlideshowTabBar3(k.MUSIC_TAB,'musicTab');default:return this.$SlideshowTabBar3(o);}}.bind(this))));};f.exports=n;}),null);
__d('SlideshowTopLeftPanelFrame.react',['cx','React','SlideshowTabBar.react','SlideshowFlowTypes','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('SlideshowFlowTypes').SlideshowTabKey;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$SlideshowTopLeftPanelFrame1=function(){var r=[k.SETTINGS_TAB];if(this.props.showMusicTab)r.push(k.MUSIC_TAB);if(this.props.showFramesTab)r.push(k.FRAMES_TAB);return r;}.bind(this),n;}l.prototype.render=function(){var m=this.$SlideshowTopLeftPanelFrame1();return (c('React').createElement('div',{className:"_3mt1"},c('React').createElement(c('SlideshowTabBar.react'),{selected:this.props.selectedTab,tabKeys:m,onSelect:this.props.onTabSelect}),c('React').createElement('div',{className:"_3mt2"},c('React').createElement('div',{className:"_3mtc"+(this.props.selectedTab===m[0]?' '+"_3mtd":'')+(this.props.selectedTab===m[1]?' '+"_3mte":'')+(this.props.selectedTab===m[2]?' '+"_1ovn":'')},c('React').Children.map(this.props.children,function(n){return (c('React').createElement('div',{className:"_3mtf"},n));})))));};l.defaultProps={selectedTab:k.SETTINGS_TAB,onTabSelect:c('emptyFunction')};f.exports=l;}),null);
__d('SlideshowDialog.react',['cx','fbt','LayerFadeOnHide','LeftRight.react','Link.react','QE','React','SlideshowConstants','SlideshowFramesPanel.react','SlideshowImageUploadsContainer.react','SlideshowMusicPanel.react','SlideshowPhotoEditDialogContainer.react','SlideshowPreview.react','SlideshowPreviewConstants','SlideshowSettingsPanel.react','SlideshowTopLeftPanelFrame.react','XUIDialog.react','XUIDialogButton.react','XUIDialogBody.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=900;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.$SlideshowDialog1=function(){if(this.props.selectedImages.length>=c('SlideshowConstants').min_photo_num)return null;return i._({"*":"You'll need to add at least {Minimum number of images} images to create a slideshow"},[i.param('Minimum number of images',c('SlideshowConstants').min_photo_num,[0])]);};m.prototype.$SlideshowDialog2=function(n){return (c('React').createElement(c('SlideshowSettingsPanel.react'),{audioFile:this.props.audioFile,durationWithTransitionInMS:this.props.durationWithTransitionInMS,format:this.props.format,selectedStorylineMood:this.props.selectedStorylineMood,showAudioSelector:this.props.showAudioSelector&&!this.props.showAudioRedesign,showStorylineMood:this.props.showStorylineMood,showTabs:n,storylineMoodFiles:this.props.storylineMoodFiles,transitionInMS:this.props.transitionInMS,onChangeAudio:this.props.onChangeAudio,onChangeDuration:this.props.onChangeDuration,onChangeFormat:this.props.onChangeFormat,onChangeStorylineMood:this.props.onChangeStorylineMood,onChangeTransition:this.props.onChangeTransition,onPreviewStateChange:this.props.onPreviewStateChange}));};m.prototype.$SlideshowDialog3=function(){return (c('React').createElement(c('SlideshowMusicPanel.react'),{audioFileUploadInfo:this.props.audioFileUploadInfo,isPreviewPlaying:this.props.isPreviewPlaying,recentlyUsedStorylineMoods:this.props.recentlyUsedStorylineMoods,selectedMusicCategory:this.props.selectedMusicCategory,selectedStorylineMood:this.props.selectedStorylineMood,storylineMoodFiles:this.props.storylineMoodFiles,targetID:this.props.targetID,onAudioFileUpload:this.props.onAudioFileUpload,onAudioFileUploadError:this.props.onAudioFileUploadError,onAudioFileUploadSuccess:this.props.onAudioFileUploadSuccess,onChangeStorylineMood:this.props.onChangeStorylineMood,onDeleteStorylineMood:this.props.onDeleteStorylineMood,onMusicCategorySelect:this.props.onMusicCategorySelect,onPreviewStateChange:this.props.onPreviewStateChange}));};m.prototype.$SlideshowDialog4=function(){return (c('React').createElement(c('SlideshowFramesPanel.react'),{frameImages:this.props.frameImages,onFrameImageSelected:this.props.onFrameImageSelected}));};m.prototype.$SlideshowDialog5=function(){var n=this.props.frameImages&&this.props.frameImages.length>0;if(n){return (c('React').createElement(c('SlideshowTopLeftPanelFrame.react'),{selectedTab:this.props.selectedTab,showFramesTab:true,showMusicTab:false,onTabSelect:this.props.onTabSelect},this.$SlideshowDialog2(true),this.$SlideshowDialog4()));}else return (c('React').createElement('div',{className:"_315q"},this.$SlideshowDialog2(false)));};m.prototype.$SlideshowDialog6=function(){var n=this.props.showAudioRedesign,o=this.props.frameImages&&this.props.frameImages.length>0;if(this.props.showAudioSelector){c('QE').logExposure('slideshow_audio_redesign');if(n){if(o){return (c('React').createElement(c('SlideshowTopLeftPanelFrame.react'),{selectedTab:this.props.selectedTab,showFramesTab:true,showMusicTab:true,onTabSelect:this.props.onTabSelect},this.$SlideshowDialog2(true),this.$SlideshowDialog3(),this.$SlideshowDialog4()));}else return (c('React').createElement(c('SlideshowTopLeftPanelFrame.react'),{selectedTab:this.props.selectedTab,showFramesTab:false,showMusicTab:true,onTabSelect:this.props.onTabSelect},this.$SlideshowDialog2(true),this.$SlideshowDialog3()));}else return this.$SlideshowDialog5();}else return this.$SlideshowDialog5();};m.prototype.render=function(){return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},layerHideOnBlur:false,shown:this.props.dialogShown,width:l},c('React').createElement(c('XUIDialogBody.react'),{className:"_5z0a",useCustomPadding:true},this.$SlideshowDialog6(),c('React').createElement('div',{className:"_2ldm"},c('React').createElement(c('SlideshowPreview.react'),{audioFileSource:this.props.audioFileSource,durationWithTransitionInMS:this.props.durationWithTransitionInMS,hidden:!this.props.showPreview,imagesAllLoaded:this.props.imagesAllLoaded,imagesCrops:this.props.imagesCrops,imagesTextoverlays:this.props.imagesTextoverlays,isPreviewPlaying:this.props.isPreviewPlaying,maxSelectedImages:this.props.maxSelectedImages,previewBoxContainerSize:c('SlideshowPreviewConstants').WWW_PREVIEW_CONTAINER_SIZE,previewBoxSize:c('SlideshowPreviewConstants').WWW_PLAYER_SIZE,selectedImages:this.props.selectedImages,showStorylineMood:this.props.showStorylineMood,storylineMoodIDSource:this.props.selectedStorylineMood?this.props.selectedStorylineMood.source:null,transitionInMS:this.props.transitionInMS,onPreviewStateChange:this.props.onPreviewStateChange}),this.props.children[2],this.props.children[1]),c('React').createElement(c('SlideshowImageUploadsContainer.react'),{durationWithTransitionInMS:this.props.durationWithTransitionInMS,imagesTextoverlays:this.props.imagesTextoverlays,maxSelectedImages:this.props.maxSelectedImages,selectedImages:this.props.selectedImages,showSlideshowPhotoEditButton:this.props.showSlideshowPhotoEditButton,onImageRemove:this.props.onImageRemove,onImageReorder:this.props.onImageReorder},this.props.children[0])),c('React').createElement(c('LeftRight.react'),{className:"_5z0b"},c('React').createElement('div',null,c('React').createElement(c('Link.react'),{href:'/business/learn/facebook-create-ad-slideshow-ads',target:'_blank'},i._("Guidelines")),c('React').createElement('span',{className:"_5z0c"},c('React').createElement(c('Link.react'),{href:'/help/503502689826117',target:'_blank'},i._("Help Center"))),c('React').createElement(c('Link.react'),{href:'/business/help/search/?query=slideshow',target:'_blank'},i._("FAQ"))),c('React').createElement('div',null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Cancel"),onClick:this.props.onCloseDialog}),c('React').createElement(c('XUIDialogButton.react'),{'data-hover':'tooltip','data-tooltip-content':this.$SlideshowDialog1(),'data-tooltip-position':'above',disabled:this.props.selectedImages.length<c('SlideshowConstants').min_photo_num,label:i._("Create Slideshow"),use:'confirm',onClick:this.props.onCreateSlideshow}))),c('React').createElement(c('SlideshowPhotoEditDialogContainer.react'),{format:this.props.format,photosCrops:this.props.imagesCrops,showSlideshowImageCroppingEditOption:this.props.showSlideshowImageCroppingEditOption,onSaveTextoverlay:this.props.onSaveTextoverlay})));};function m(){j.apply(this,arguments);}m.defaultProps={adgroupIDs:[]};f.exports=m;}),null);
__d('ReactComposerSlideshowDialogContainer.react',['ReactComposerMediaUploadStore','ReactComposerMediaUploadActions','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerSelectedImagesStore','ReactComposerSlideshowActions','ReactComposerSlideshowAudioStore','ReactComposerSlideshowLoggingStore','ReactComposerSlideshowStore','React','SlideshowDataManager','ReactComposerSlideshowImageUploadsContainer.react','SlideshowDialog.react','SlideshowMediaUploadContainer.react','immutable'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerSlideshowDialogContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerSelectedImagesStore'),c('ReactComposerSlideshowAudioStore'),c('ReactComposerSlideshowLoggingStore'),c('ReactComposerSlideshowStore'))],propTypes:{dialogShown:h.bool,maxSelectedImages:h.number,mediaAcceptParam:h.string.isRequired,pageID:h.string.isRequired,showAudioRedesign:h.bool,showAudioSelector:h.bool,showSlideshowPhotoEditButton:h.bool,showStorylineMood:h.bool,onCloseDialog:h.func,onFilesSelected:h.func.isRequired},statics:{calculateState:function j(k,l){var m=!c('ReactComposerMediaUploadStore').isUploading(k);return {audioFile:c('ReactComposerSlideshowAudioStore').getAudioFile(k),audioFileSource:c('ReactComposerSlideshowAudioStore').getAudioFileSource(k),audioFileUploadInfo:c('ReactComposerSlideshowAudioStore').getAudioFileUploadInfo(k),durationWithTransitionInMS:c('ReactComposerSlideshowStore').getDurationInMS(k),format:c('ReactComposerSelectedImagesStore').getFormat(k),imagesAllLoaded:m,imagesCrops:c('ReactComposerSelectedImagesStore').getImagesCrops(k),isPreviewPlaying:c('ReactComposerSlideshowAudioStore').getIsPreviewPlaying(k),recentlyUsedStorylineMoods:c('ReactComposerSlideshowAudioStore').getRecentlyUsedStorylineMoods(k),selectedImages:c('ReactComposerSelectedImagesStore').getSelectedImages(k),selectedMusicCategory:c('ReactComposerSlideshowAudioStore').getSelectedMusicCategory(k),selectedStorylineMood:c('ReactComposerSlideshowAudioStore').getSelectedStorylineMood(k),selectedTab:c('ReactComposerSlideshowStore').getSelectedTab(k),storylineMoodFiles:c('ReactComposerSlideshowAudioStore').getStorylineMoodFiles(k),transitionInMS:c('ReactComposerSlideshowStore').getTransitionInMS(k)};}},componentDidMount:function j(){var k=this.context.composerID;c('SlideshowDataManager').fetchStorylineMoodFiles(function(l){c('ReactComposerSlideshowActions').setStorylineMoodFiles(k,l);},this.props.pageID);},_onChangeAudio:function j(event){c('ReactComposerSlideshowActions').changeAudioFile(this.context.composerID,event.value);},_onChangeDuration:function j(event){c('ReactComposerSlideshowActions').changeDuration(this.context.composerID,event.value);},_onChangeTransition:function j(k){c('ReactComposerSlideshowActions').changeTransition(this.context.composerID,k);},_onChangeStorylineMood:function j(k){c('ReactComposerSlideshowActions').changeStorylineMoodFile(this.context.composerID,k);},_onDeleteStorylineMood:function j(k){c('ReactComposerSlideshowActions').deleteStorylineMoodFile(this.context.composerID,k);},_onCreateSlideshow:function j(){var k=this.context.composerID;if(c('ReactComposerSlideshowStore').isEditing(k)){var l=c('ReactComposerSelectedImagesStore').getRemovedUploadIDs(k);l.forEach(function(m){if(c('ReactComposerMediaUploadStore').getMediaUploadExists(k,m)){var n=c('ReactComposerMediaUploadStore').getMediaUpload(k,m);c('ReactComposerMediaUploadActions').removePhotoAndPhotoUpload(k,n);}});}c('ReactComposerSlideshowActions').createSlideshow(this.context.composerID);},_onChangeFormat:function j(k){c('ReactComposerSlideshowActions').changeFormat(this.context.composerID,k);},_onImageRemove:function j(k){var l=this.context.composerID;c('ReactComposerSlideshowActions').removeImage(l,k);if(!c('ReactComposerSlideshowStore').isEditing(l)&&c('ReactComposerMediaUploadStore').getMediaUploadExists(l,k.key)){var m=c('ReactComposerMediaUploadStore').getMediaUpload(l,k.key);c('ReactComposerMediaUploadActions').removePhotoAndPhotoUpload(l,m);}},_onImageReorder:function j(k,l){c('ReactComposerSlideshowActions').reorderImages(this.context.composerID,k,l);},_onTabSelect:function j(k){c('ReactComposerSlideshowActions').selectTab(this.context.composerID,k);},_getImageUploadContainer:function j(k){return (c('React').createElement(c('ReactComposerSlideshowImageUploadsContainer.react'),{composerID:this.context.composerID,imageUploadButtonType:k,mediaAcceptParam:this.props.mediaAcceptParam,pageID:this.props.pageID,pageImages:this.state.pageImages,onFilesSelected:this.props.onFilesSelected}));},_onMusicCategorySelect:function j(k){c('ReactComposerSlideshowActions').musicCategorySelect(this.context.composerID,k);},_onPreviewStateChange:function j(k){c('ReactComposerSlideshowActions').previewStateChange(this.context.composerID,k);},_onAudioFileUploadStarted:function j(){c('ReactComposerSlideshowActions').audioFileUploadStarted(this.context.composerID);},_onAudioFileUploadError:function j(){c('ReactComposerSlideshowActions').audioFileUploadError(this.context.composerID);},_onAudioFileUploadSuccess:function j(k){c('ReactComposerSlideshowActions').audioFileUploadSuccess(this.context.composerID,k);},render:function j(){return (c('React').createElement(c('SlideshowDialog.react'),{audioFile:this.state.audioFile,audioFileSource:this.state.audioFileSource,audioFileUploadInfo:this.state.audioFileUploadInfo,dialogShown:this.props.dialogShown,durationWithTransitionInMS:this.state.durationWithTransitionInMS,format:this.state.format,imagesAllLoaded:this.state.imagesAllLoaded,imagesCrops:this.state.imagesCrops,isPreviewPlaying:this.state.isPreviewPlaying,maxSelectedImages:this.props.maxSelectedImages,recentlyUsedStorylineMoods:this.state.recentlyUsedStorylineMoods,selectedImages:this.state.selectedImages,selectedMusicCategory:this.state.selectedMusicCategory,selectedStorylineMood:this.state.selectedStorylineMood,selectedTab:this.state.selectedTab,showAudioRedesign:this.props.showAudioRedesign,showAudioSelector:this.props.showAudioSelector,showPreview:true,showSlideshowPhotoEditButton:false,showStorylineMood:this.props.showStorylineMood,storylineMoodFiles:this.state.storylineMoodFiles,targetID:this.props.pageID,transitionInMS:this.state.transitionInMS,onAudioFileUpload:this._onAudioFileUploadStarted,onAudioFileUploadError:this._onAudioFileUploadError,onAudioFileUploadSuccess:this._onAudioFileUploadSuccess,onChangeAudio:this._onChangeAudio,onChangeDuration:this._onChangeDuration,onChangeFormat:this._onChangeFormat,onChangeTransition:this._onChangeTransition,onChangeStorylineMood:this._onChangeStorylineMood,onCloseDialog:this.props.onCloseDialog,onCreateSlideshow:this._onCreateSlideshow,onDeleteStorylineMood:this._onDeleteStorylineMood,onImageRemove:this._onImageRemove,onImageReorder:this._onImageReorder,onMusicCategorySelect:this._onMusicCategorySelect,onPreviewStateChange:this._onPreviewStateChange,onTabSelect:this._onTabSelect},this._getImageUploadContainer('more_link'),c('React').createElement(c('SlideshowMediaUploadContainer.react'),{hidden:true},this._getImageUploadContainer('add_button'))));}});f.exports=i;}),null);
__d('ReactComposerSlideshowPostButton.react',['ReactComposerSlideshowDialogContainer.react','React','ReactFragment'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.renderLayers=function(){var q=null;if(this.props.dialogShown)q=c('React').createElement(c('ReactComposerSlideshowDialogContainer.react'),babelHelpers['extends']({},this.props,{onCloseDialog:this.props.onCancel}));return c('ReactFragment').create({dialog:q});}.bind(this),m;}k.prototype.render=function(){return c('React').createElement('div',{className:this.props.className,onClick:this.props.onShowDialog},this.props.children,this.renderLayers());};k.propTypes={className:j.string,dialogShown:j.bool.isRequired,maxSelectedImages:j.number.isRequired,mediaAcceptParam:j.string.isRequired,pageID:j.string.isRequired,showAudioRedesign:j.bool.isRequired,showAudioSelector:j.bool.isRequired,showStorylineMood:j.bool.isRequired,onCancel:j.func.isRequired,onShowDialog:j.func.isRequired,onFilesSelected:j.func.isRequired};f.exports=k;}),null);
__d('ReactComposerSlideshowPostButtonContainer.react',['ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerPropsAndStoreBasedStateMixin','React','ReactComposerSlideshowActions','ReactComposerSlideshowPostButton.react','ReactComposerSlideshowStore','SlideshowEntrypoint'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerSlideshowPostButtonContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerSlideshowStore'))],propTypes:{className:h.string,maxSelectedImages:h.number.isRequired,mediaAcceptParam:h.string.isRequired,pageID:h.string.isRequired,showAudioRedesign:h.bool.isRequired,showAudioSelector:h.bool.isRequired,showStorylineMood:h.bool.isRequired,onFilesSelected:h.func.isRequired},statics:{calculateState:function j(k,l){var m=c('ReactComposerSlideshowStore').shouldShowSlideshowDialog(k);return {dialogShown:m};}},render:function j(){return (c('React').createElement(c('ReactComposerSlideshowPostButton.react'),{className:this.props.className,dialogShown:this.state.dialogShown,maxSelectedImages:this.props.maxSelectedImages,mediaAcceptParam:this.props.mediaAcceptParam,pageID:this.props.pageID,showAudioRedesign:this.props.showAudioRedesign,showAudioSelector:this.props.showAudioSelector,showStorylineMood:this.props.showStorylineMood,onCancel:this._onCancel,onFilesSelected:this.props.onFilesSelected,onShowDialog:this._onShowDialog},this.props.children));},_onShowDialog:function j(){c('ReactComposerSlideshowActions').showSlideshowDialog(this.context.composerID,c('SlideshowEntrypoint').COMPOSER_PHOTO_VIDEO_TAB);},_onCancel:function j(){c('ReactComposerMediaUploadActions').removeAllPhotoUploads(this.context.composerID,c('ReactComposerMediaUploadStore').getUploadsOfType(this.context.composerID,c('ReactComposerMediaUploadType').PHOTO));c('ReactComposerSlideshowActions').closeSlideshowDialog(this.context.composerID);}});f.exports=i;}),null);
__d("XCarouselPageComposerPhotoUploadFirstController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composer\/photouploadfirst\/",{composer_id:{type:"String"},target_id:{type:"Int"}});}),null);
__d('ReactComposerMediaAttachmentButtonsWithOptions.react',['cx','fbt','ix','ActorURI','ReactComposerAttachmentStore','ReactComposerCanvasActions','ReactComposerContextMixin','ReactComposerLoggingActions','ReactComposerLoggingName','ReactComposerMediaUtils','ReactComposerPhotoCarouselActions','ComposerTargetData','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger','ReactComposerSlideshowPostButtonContainer.react','XCarouselPageComposerPhotoUploadFirstController','AsyncRequest','DOMContainer.react','FileInput.react','Grid.react','Image.react','Link.react','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('Grid.react').GridItem,l=c('React').PropTypes,m=c('React').createClass({displayName:'ReactComposerMediaAttachmentButtonsWithOptions',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{carouselConfig:l.object,createAlbumLink:l.any,mediaAcceptParam:l.shape({photos:l.string,both:l.string}).isRequired,onFilesSelected:l.func.isRequired,showCanvasEntryPoint:l.bool,showCarouselEntryPoint:l.bool,showPhotoAlbumEntryPoint:l.bool,showSlideshowEntryPoint:l.bool,showUploadPhotosButton:l.bool,slideshowConfig:l.object,targetData:l.instanceOf(c('ComposerTargetData')).isRequired},getDefaultProps:function o(){return {mediaAcceptParam:{}};},componentDidMount:function o(){if(c('ReactComposerAttachmentStore').getSelectedAttachmentID(this.context.composerID))c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').SHOW_PHOTO_CAROUSEL_CREATE_TAB,target_id:parseInt(this.context.targetID,10)});},render:function o(){var p=[];p.push(this._getUploadPhotosButton());var q=null,r=null;if(this.props.showPhotoAlbumEntryPoint&&this.props.createAlbumLink){var s=c('React').createElement(c('DOMContainer.react'),{className:"_3m1x",display:'block'},this.props.createAlbumLink);q=c('React').createElement(k,{className:"_3m1y",key:'createAlbum'},c('React').createElement(c('Link.react'),{className:"_3m1z _5xvh",onClick:this._onClickPhotoAlbumOption},s));}if(this.props.showCarouselEntryPoint)r=this._getCarouselPostButton();p.push(q);p.push(r);if(this.props.showSlideshowEntryPoint)p.push(this._getSlideshowPostButton());if(this.props.showCanvasEntryPoint)p.push(this._getCanvasPostButton());return (c('React').createElement('div',{className:"_3m1_"},c('React').createElement(c('Grid.react'),{className:"_3m20",cols:1},p.filter(function(t){return t!=null;}))));},_getUploadPhotosButton:function o(){if(!this.props.showUploadPhotosButton)return null;var p=this.props.targetData.targetSupportsMultiplePhotos,q=this.props.mediaAcceptParam.both,r=p?i._("Upload Photos\/Video"):i._("Upload Photo\/Video"),s=i._("Add photos or video to your status.");return (c('React').createElement(k,{className:"_3m1y",key:'uploadPhoto'},c('React').createElement(c('FileInput.react'),{accept:q,multiple:p,name:'composer_photo',onChange:this._onFilesSelected,onClick:this._onUploadPhotosClick,ref:'fileInput','data-testid':'media-attachment-add-photo'},c('React').createElement(c('Link.react'),{className:"_3m1z"},this._renderPhotoPostOption(n.PHOTOVIDEO,r,s)))));},_onUploadPhotosClick:function o(){c('ReactComposerLoggingActions').mediaUploadInputClicked(this.context.composerID,c('ReactComposerLoggingName').MEDIA_ATTACHMENT_UPLOAD_BUTTON);c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').CLICK_UPLOAD_PHOTO_OPTION,target_id:parseInt(this.context.targetID,10)});},_onClickPhotoAlbumOption:function o(){c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').CLICK_PHOTO_ALBUM_OPTION,target_id:parseInt(this.context.targetID,10)});},_onFilesSelected:function o(event){this.props.onFilesSelected(event,this.refs.fileInput.getFileInput());c('ReactComposerMediaUtils').clearInput(this.refs.fileInput.getFileInput());},_getCarouselPostButton:function o(){if(!this.props.showUploadPhotosButton)return null;var p=i._("Create a Photo Carousel");if(this.props.carouselConfig&&this.props.carouselConfig.supportVideoCarousel)p=i._("Create a Photo\/Video Carousel");var q=i._("Build a scrolling photo carousel with a link.");return (c('React').createElement(k,{className:"_3m1y",key:'carousel'},c('React').createElement(c('Link.react'),{onClick:this._onCarouselClick,className:"_3m1z _5xvh"},this._renderPhotoPostOption(n.CAROUSEL,p,q))));},_onCarouselClick:function o(){c('ReactComposerPhotoCarouselActions').selectPhotoCarouselEntryPoint(this.context.composerID);if(!this.props.carouselConfig||!this.props.carouselConfig.ComposerPhotoCarouselUploadFirst){c('ReactComposerPhotoCarouselActions').showPhotoCarouselUrlEditArea(this.context.composerID);}else{var p=c('XCarouselPageComposerPhotoUploadFirstController').getURIBuilder().setString('composer_id',this.context.composerID).setInt('target_id',parseInt(this.context.targetID,10)).getURI();p=c('ActorURI').create(p,this.context.targetID);var q=new (c('AsyncRequest'))().setURI(p);q.send();c('ReactComposerPhotoCarouselActions').setPreviewIncompleted(this.context.composerID);}var r={event:c('PagesComposerPostActionsLoggerEvent').CLICK_PHOTO_CAROUSEL_CREATE_TAB,target_id:parseInt(this.context.targetID,10)};c('PagesComposerActionsLogger').log(r);},_getSlideshowPostButton:function o(){var p=this.props.slideshowConfig;if(!p)return null;var q=i._("Create Slideshow"),r=i._({"*":{"*":"Add {Minimum number of images} to {Maximum number of images} photos to create a video."}},[i.param('Minimum number of images',p?p.minPhotoNum:3,[0]),i.param('Maximum number of images',p?p.maxPhotoNum:7,[0])]),s=c('React').createElement(c('Link.react'),{className:"_3m1z _5xvh"},this._renderPhotoPostOption(n.SLIDESHOW,q,r));return (c('React').createElement(k,{className:"_3m1y",key:'slideshow'},c('React').createElement(c('ReactComposerSlideshowPostButtonContainer.react'),{className:"_3-8-",maxSelectedImages:p.maxPhotoNum,mediaAcceptParam:this.props.mediaAcceptParam.photos,pageID:p.pageID,showAudioRedesign:p.showAudioRedesign,showAudioSelector:p.showAudioSelector,showStorylineMood:p.showStorylineMood,onFilesSelected:this._onSlideshowFilesUpload},s)));},_onSlideshowFilesUpload:function o(event,p){this.props.onFilesSelected(event,p);c('ReactComposerMediaUtils').clearInput(p);},_getCanvasPostButton:function o(){var p=i._("Create a Canvas"),q=i._("Now you can tell a more immersive story by combining images and videos.");return (c('React').createElement(k,{className:"_3m1y",key:'canvas'},c('React').createElement(c('Link.react'),{onClick:this._onCanvasClick,className:"_3m1z _5xvh"},this._renderPhotoPostOption(n.CANVAS,p,q))));},_onCanvasClick:function o(){c('ReactComposerCanvasActions').showCanvasSelector(this.context.composerID);var p={event:c('PagesComposerPostActionsLoggerEvent').CLICK_CANVAS_CREATE_TAB,target_id:parseInt(this.context.targetID,10)};c('PagesComposerActionsLogger').log(p);},_renderPhotoPostOption:function o(p,q,r){var s=null;if(p===n.CAROUSEL&&this.props.carouselConfig&&this.props.carouselConfig.showCarouselOptionSuperscript){var t=i._("NEW");s=c('React').createElement('sup',{className:"_9td"},t);}return (c('React').createElement(c('Grid.react'),{className:"_3m1-",cols:2},c('React').createElement(k,{className:"_5xvi"},c('React').createElement(c('Image.react'),{className:"_5xvj",src:this._getIconSource(p)})),c('React').createElement(k,{className:"_5xvk"},c('React').createElement('div',{className:"_5xvl"},q,s),c('React').createElement('div',{className:"_5xvm"},r))));},_getIconSource:function o(p){switch(p){case n.PHOTOVIDEO:return j('/images/composer/carousel/photo_video_upload.png');case n.PHOTOALBUM:return j('/images/composer/carousel/photo_album_icon.png');case n.CAROUSEL:return j('/images/composer/carousel/carousel_photo_tab_icon.png');case n.SLIDESHOW:return j('/images/composer/carousel/slideshow_video_icon.png');case n.CANVAS:return j('/images/composer/carousel/pages_canvas_icon.png');default:return null;}}}),n={PHOTOVIDEO:'photo_video',PHOTOALBUM:'photo_album',CAROUSEL:'carousel',SLIDESHOW:'slideshow',CANVAS:'canvas'};f.exports=m;}),null);
__d('ReactComposerScrapedAttachmentActions',['ReactComposerScrapedAttachmentActionType','ReactComposerDispatcher','ReactComposerScrapedAttachmentStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerScrapedAttachmentStore');h.prototype.enabled=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_ENABLED,enabled:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setScrapedAttachment=function(i,j,k,l){'use strict';var m={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED,markup:j,attachmentConfig:k,sourceLoggingName:l};c('ReactComposerDispatcher').dispatch(m);};h.prototype.setScrapedAttachmentWithoutLogging=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED,markup:j,attachmentConfig:k,suppressWaterfallLogging:true};c('ReactComposerDispatcher').dispatch(l);};h.prototype.setPermissiveMatch=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_PERMISSIVE_MATCH_SETTED,permissiveMatch:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.scrapeAttachment=function(i,j,k,l,m,n){'use strict';var o={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_INTENDED,targetID:j,value:k,entryPoint:l,actorID:m,sourceLoggingName:n};c('ReactComposerDispatcher').dispatch(o);};h.prototype.setShareAttachment=function(i,j,k,l,m){'use strict';var n={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SHARE_SELECTED,targetID:j,actorID:k,shareType:l,shareParams:m};c('ReactComposerDispatcher').dispatch(n);};h.prototype.uploadImagesForCarousel=function(i){'use strict';var j={composerID:i.composerID,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_CAROUSEL_UPLOAD,targetID:i.targetID,scrapeUrl:i.scrapeUrl,carouselParams:i.carouselParams,entryPoint:i.entryPoint,actorID:i.actorID};c('ReactComposerDispatcher').dispatch(j);};function h(){'use strict';}f.exports=new h();}),null);
__d('ReactComposerCanvasTypeaheadContainer.react',['cx','fbt','AdsCanvasEditorFunnelLogging','CanvasCreationEvent','CanvasCreationWaterfallTypedLogger','ReactComposerCanvasActions','ReactComposerContextMixin','ReactComposerLoggingName','ReactComposerScrapedAttachmentActions','AdsCanvasComposerDialogStore','AdsCanvasSearchSource','AdsCanvasTypeahead.react','CanvasSource','RichMediaEditorActions','RichMediaLoggingStoreUtils','SearchableEntry','StoreAndPropBasedStateMixin','XUICloseButton.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerCanvasTypeaheadContainer',mixins:[c('ReactComposerContextMixin'),c('StoreAndPropBasedStateMixin')(c('AdsCanvasComposerDialogStore'))],propTypes:{config:j.shape({accessToken:j.string.isRequired,businessID:j.string,canAddProductSet:j.bool.isRequired,canUseLinkedCanvas:j.bool.isRequired}).isRequired},statics:{calculateState:function l(m){return {selectedCanvas:c('AdsCanvasComposerDialogStore').getSelectedCanvas(),unpublishedCanvas:c('AdsCanvasComposerDialogStore').getUnpublishedCanvas()};}},render:function l(){var m=new (c('AdsCanvasSearchSource'))({pageID:this.context.targetID,accessToken:this.props.config.accessToken,onlyPublished:true});m.bootstrap();var n=this.state.unpublishedCanvas||this.state.selectedCanvas,o=n?n.id:null,p=this.state.selectedCanvas?new (c('SearchableEntry'))({subtile:'',title:this.state.selectedCanvas.name,uniqueID:0}):null,q=i._("Select a Canvas"),r=i._("Close"),s={accessToken:this.props.config.accessToken,businessID:this.props.config.businessID,canAddProductSet:this.props.config.canAddProductSet,canUseLinkedCanvas:this.props.config.canUseLinkedCanvas,disabled:false,error:null,focusedOnInit:false,mustPublish:true,pageID:this.context.targetID,placeholder:q,searchSource:m,onCloseReset:this._onCloseReset,onDuplicateReload:this._onDuplicateReload,onEntrySelect:this._onEntrySelect,onSaveCanvasSuccess:this._onSaveCanvasSuccess};return (c('React').createElement('div',{className:"_3uyo"},c('React').createElement(c('XUICloseButton.react'),{className:"_3uyp",label:r,onClick:this._onClickCloseButton,size:'medium'}),c('React').createElement(c('AdsCanvasTypeahead.react'),babelHelpers['extends']({canvasID:o,selectedEntry:p,source:c('CanvasSource').PAGE_COMPOSER},s))));},_onClickCloseButton:function l(){c('ReactComposerCanvasActions').hideCanvasSelector(this.context.composerID);},_onCloseReset:function l(){c('RichMediaEditorActions').resetUnpublishedCanvas();},_onDuplicateReload:function l(m,n){c('RichMediaEditorActions').setDialogShown(m,false);c('RichMediaEditorActions').setDialogCanvas(n.id,n);c('RichMediaEditorActions').setDialogShown(n.id,true);c('RichMediaEditorActions').setUnpublishedCanvas(n);},_onEntrySelect:function l(m,n){var o=m.getUniqueID(),p=m.getAuxiliaryData();c('RichMediaEditorActions').setDialogCanvas(o,p);c('RichMediaEditorActions').setSelectedCanvas(p);this._scrapeURL(p.canvas_link);},_onSaveCanvasSuccess:function l(m,n,o,p,q){if(p){c('RichMediaEditorActions').resetUnpublishedCanvas();c('AdsCanvasEditorFunnelLogging').endFunnel();c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').EDITOR_EXIT));c('RichMediaEditorActions').setDialogShown(o.id,false);c('RichMediaEditorActions').setSelectedCanvas(o);this._scrapeURL(o.canvas_link);}else{c('RichMediaEditorActions').setDialogCanvas(o.id,o);c('RichMediaEditorActions').setUnpublishedCanvas(o);}},_scrapeURL:function l(m){c('ReactComposerScrapedAttachmentActions').scrapeAttachment(this.context.composerID,this.context.targetID,m,this.context.composerType,this.context.actorID,c('ReactComposerLoggingName').CANVAS_EDITOR);}});f.exports=k;}),null);
__d('ReactComposerPhotoCarouselStore',['CarouselPagesComposerSource','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerPhotoCarouselActionType','ReactComposerScrapedAttachmentActionType','ReactComposerStoreBase','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isPhotoCarouselSelected:false,isCarouselPreviewCompleted:true,shouldShowURLEditArea:false,seenNux:false};},function(l){switch(l.type){case c('ReactComposerPhotoCarouselActionType').SELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore1(l);break;case c('ReactComposerPhotoCarouselActionType').UNSELECT_PHOTO_CAROUSEL:k&&k.$ReactComposerPhotoCarouselStore2(l);break;case c('ReactComposerPhotoCarouselActionType').PREVIEW_COMPLETED:k&&k.$ReactComposerPhotoCarouselStore3(l);break;case c('ReactComposerPhotoCarouselActionType').PREVIEW_INCOMPLETED:k&&k.$ReactComposerPhotoCarouselStore4(l);break;case c('ReactComposerPhotoCarouselActionType').SHOW_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore5(l);break;case c('ReactComposerPhotoCarouselActionType').HIDE_CAROUSEL_URL_INPUT_AREA:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerPhotoCarouselStore7(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:k&&k.$ReactComposerPhotoCarouselStore6(l);break;case c('ReactComposerPhotoCarouselActionType').SEEN_NUX:k&&k.$ReactComposerPhotoCarouselStore8(l);break;default:}});k=this;}j.prototype.$ReactComposerPhotoCarouselStore1=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=true;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore2=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isPhotoCarouselSelected=false;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore3=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=true;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore4=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isCarouselPreviewCompleted=false;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore5=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=true;var n=k.source;if(n===c('CarouselPagesComposerSource').CAROUSEL_CAMERA_ICON)c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').CLICK_CAROUSEL_CAMERA_ICON,target_id:k.targetID});this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore6=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.shouldShowURLEditArea=false;this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore7=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=c('ReactComposerAttachmentStore').getSelectedAttachmentID(l);if(m.shouldShowURLEditArea&&n!==c('ReactComposerAttachmentType').MEDIA)m.shouldShowURLEditArea=false;if(m.isPhotoCarouselSelected&&n!==c('ReactComposerAttachmentType').MEDIA){m.isPhotoCarouselSelected=false;m.isCarouselPreviewCompleted=false;}this.emitChange(l);};j.prototype.$ReactComposerPhotoCarouselStore8=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.seenNux=true;this.emitChange(l);};j.prototype.shouldShowURLEditArea=function(k){'use strict';return this.getComposerData(k).shouldShowURLEditArea;};j.prototype.seenNux=function(k){'use strict';return this.getComposerData(k).seenNux;};j.prototype.isPhotoCarouselSelected=function(k){'use strict';return this.getComposerData(k).isPhotoCarouselSelected;};j.prototype.isCarouselPreviewCompleted=function(k){'use strict';return this.getComposerData(k).isCarouselPreviewCompleted;};f.exports=new j();}),null);
__d("XCarouselPageComposerSeenNuxController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composer\/carouselseennux\/",{type:{type:"String"}});}),null);
__d('ReactComposerPhotoCarouselUrlInput.react',['cx','fbt','ix','AsyncRequest','ReactComposerContextMixin','ReactComposerPhotoCarouselActions','ReactComposerPhotoCarouselStore','CSS','Keys','Locale','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger','PagesComposerCarouselPostNuxType','ReactComponentWithPureRenderMixin','React','Image.react','ReactDOM','URLMatcher','URLScraper','XCarouselPageComposerSeenNuxController','XUIAmbientNUX.react','XUICloseButton.react','XUITextInput.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerPhotoCarouselUrlInput',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{onChange:k.func.isRequired,onClickRemoveButton:k.func.isRequired,prefillURL:k.string,showUrlInputAreaNux:k.bool},getInitialState:function m(){return {disableArrow:true,showUrlInputAreaNux:this.props.showUrlInputAreaNux&&!c('ReactComposerPhotoCarouselStore').seenNux(this.context.composerID)};},componentDidMount:function m(){var n=c('ReactDOM').findDOMNode(this.refs.inputArea);n.focus();c('CSS').addClass(n,"_47_s");var o=this.props.prefillURL?this.props.prefillURL:'',p=!this._checkValidUrl(o);this.setState({disableArrow:p});c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').PREFILL_SCRAPE_URL,target_id:parseInt(this.context.targetID,10),prefill_scrape_url:this.props.prefillURL});},renderLayers:function m(){var n=i._("Photos are taken from a website you choose. Enter a website to build your photo carousel.");return (c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.inputArea;}.bind(this),shown:this.state.showUrlInputAreaNux,onCloseButtonClick:this._onCloseButtonClick,position:'below',key:'notice'},n));},_onCloseButtonClick:function m(){var n=c('XCarouselPageComposerSeenNuxController').getURIBuilder().setString('type',c('PagesComposerCarouselPostNuxType').MEDIA_ATTACHEMENT_URL_INPUT_AREA_NUX).getURI(),o=new (c('AsyncRequest'))().setURI(n);o.send();this.setState({showUrlInputAreaNux:false});c('ReactComposerPhotoCarouselActions').seenNux(this.context.composerID);},render:function m(){var n=i._("Photo Carousel"),o=i._("Remove"),p=i._("Destination URL"),q=null,r=null,s=null,t=c('Locale').isRTL();if(t){r=j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/arrow-left_20_bluegray-10.png");s=j('/images/composer/carousel/arrow_left_blue.png');}else{r=j("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/arrow-right_20_bluegray-10.png");s=j('/images/composer/carousel/arrow_right_blue.png');}if(this.state.disableArrow){q=c('React').createElement(c('Image.react'),{className:"_3ev6",size:'small',src:r,onClick:this._handleScrapeLink});}else q=c('React').createElement(c('Image.react'),{className:"_3ev7",size:'small',src:s,onClick:this._handleScrapeLink});var u=i._("Enter a URL");return (c('React').createElement('div',{className:"_d67"},c('React').createElement('div',{className:"_d68"},c('React').createElement('div',{className:"_d69"},n),c('React').createElement(c('XUICloseButton.react'),{className:"_d6a",label:o,onClick:this.props.onClickRemoveButton,size:'medium'})),c('React').createElement('div',{className:"_d6b"},c('React').createElement('div',{className:"_px7"},c('React').createElement('span',{className:"_2do6"},p),c('React').createElement('div',{className:"_px8"},c('React').createElement(c('XUITextInput.react'),{className:"_d6c",defaultValue:this.props.prefillURL,onBlur:this._onBlur,onChange:this._onChange,onKeyUp:this._handleKeyUp,placeholder:u,ref:'inputArea'}))),q),this.renderLayers()));},_handleScrapeLink:function m(event){var n=c('ReactDOM').findDOMNode(this.refs.inputArea),o=n.childNodes[0].value+'\n';this.setState({inputValue:o});this.props.onChange&&this.props.onChange(o);},_onBlur:function m(event){c('CSS').removeClass(c('ReactDOM').findDOMNode(this.refs.inputArea),"_47_s");},_onChange:function m(event){this.setState({inputValue:event.target.value});this.props.onChange&&this.props.onChange(event.target.value);var n=!this._checkValidUrl(event.target.value);this.setState({disableArrow:n});c('CSS').removeClass(c('ReactDOM').findDOMNode(this.refs.inputArea),"_47_s");},_handleKeyUp:function m(event){if(event.keyCode===c('Keys').RETURN){var n=event.target.value+'\n';this.setState({inputValue:n});this.props.onChange&&this.props.onChange(n);}},_checkValidUrl:function m(n){return c('URLScraper').match(n)||c('URLMatcher').permissiveMatch(n);}});f.exports=l;}),null);
__d('ReactComposerStatusUtils',['Bootloader','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerLoggingActions','ReactComposerLoggingName','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','EditorState','PUWMethods','URLMatcher','URLScraper','uniqueID'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={scrapeLink:function i(j,k,l,m,n,o){if(!c('ReactComposerScrapedAttachmentStore').isEnabled(j))return;if(c('ReactComposerScrapedAttachmentStore').getMarkup(j))return;var p=c('URLMatcher').permissiveMatch(l);if(p!==c('ReactComposerScrapedAttachmentStore').getPermissiveMatch(j)){c('ReactComposerScrapedAttachmentActions').setPermissiveMatch(j,p);var q=c('URLScraper').match(l)||p;if(q)c('ReactComposerScrapedAttachmentActions').scrapeAttachment(j,k,q,m,n,o);}},uploadPastedFile:function i(j,k,l){c('ReactComposerLoggingActions').mediaFilePasted(j);k.uploadID=c('uniqueID')();k.name='';l&&l.enqueueAsyncUploadRequest(j,[k],{},{},false);c('ReactComposerLoggingActions').mediaFilePasteFinished(j);},uploadDroppedFiles:function i(j,k,l,m,n,o){c('ReactComposerLoggingActions').mediaFileDropped(j);c('ReactComposerAttachmentActions').selectAttachment(j,c('ReactComposerAttachmentType').MEDIA,true,c('ReactComposerLoggingName').MEDIA_FILE_DROPPED);c('Bootloader').loadModules(["ReactComposerMediaUtils"],function(p){var q=p.getFileNames(k),r=p.hasVideos(q);if(n.enableVideoUploadDialogForDropppedFiles&&k.length==1&&r){p.handleVideoUploadForDroppedFiles(k,n,o);}else p.uploadPhotosOrVideo(j,k,l,true,c('PUWMethods').DRAGDROP,m);c('ReactComposerLoggingActions').mediaFileDropFinished(j);},'ReactComposerStatusUtils');},handleMarkdownPreview:function i(j,k,l,m){if(!l)return;var n=l.action;if(!m)m=c('ReactComposerStatusStore').getEditorState(j);if(!m)return;var o=!!c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').MARKDOWN).isMarkdown;if(o)n.updatePreview(j,k,m.getCurrentContent());}};f.exports=h;}),null);
__d('ReactComposerPhotoCarouselUrlInputContainer.react',['ReactComposerContextMixin','ReactComposerLoggingName','ReactComposerPhotoCarouselActions','ReactComposerPhotoCarouselUrlInput.react','ReactComposerStatusUtils','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger','ReactComponentWithPureRenderMixin','React','URLScraper'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerPhotoCarouselUrlInputContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{prefillURL:h.string,showUrlInputAreaNux:h.bool},render:function j(){return (c('React').createElement(c('ReactComposerPhotoCarouselUrlInput.react'),{onChange:this._onMentionsInputChange,onClickRemoveButton:this._onClickRemoveButton,prefillURL:this.props.prefillURL,showUrlInputAreaNux:this.props.showUrlInputAreaNux}));},_onClickRemoveButton:function j(){c('ReactComposerPhotoCarouselActions').hidePhotoCarouselUrlEditArea(this.context.composerID);c('PagesComposerActionsLogger').log({event:c('PagesComposerPostActionsLoggerEvent').REMOVE_PHOTO_CAROUSEL_URL_INPUT,target_id:parseInt(this.context.targetID,10)});},_onMentionsInputChange:function j(k){if(!c('URLScraper').trigger(k))c('ReactComposerStatusUtils').scrapeLink(this.context.composerID,this.context.targetID,k,this.context.composerType,this.context.actorID,c('ReactComposerLoggingName').INLINE_COMPOSER);}});f.exports=i;}),null);
__d('ReactComposerPhotoCarouselUtils',['fbt','ReactComposerPhotoCarouselStore','React'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={getPhotoCarouselMediaContent:function j(k,l){var m=null;if(!k)return m;if(k.ComposerPhotoCarouselPlaceHolder){var n=k.ComposerPhotoCarouselPlaceHolder;m=c('React').createElement(n,null);}else{var o=k.ComposerPhotoCarouselUrlInputContainer;m=c('React').createElement(o,{showUrlInputAreaNux:l.showUrlInputAreaNux,prefillURL:k.preFillURL});}return m;},getInputPlaceHolder:function j(k,l){var m=h._("Write something...");if(l||!k||!k.ComposerPhotoCarouselPlaceHolder)return m;return h._("Enter a URL");},isPagePostButtonDisabled:function j(k){if(!c('ReactComposerPhotoCarouselStore').isPhotoCarouselSelected(k))return false;if(c('ReactComposerPhotoCarouselStore').shouldShowURLEditArea(k))return true;if(!c('ReactComposerPhotoCarouselStore').isCarouselPreviewCompleted(k))return true;return false;}};f.exports=i;}),null);
__d('ReactComposerSlideshowThumbnailViewContainer.react',['cx','ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerSelectedImagesStore','ReactComposerSlideshowActions','ReactComposerSlideshowAudioStore','ReactComposerSlideshowDialogContainer.react','ReactComposerSlideshowStore','React','ReactComponentWithPureRenderMixin','ReactFragment','SlideshowPreview.react','SlideshowPreviewConstants','SlideshowImageUtil'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerSlideshowThumbnailViewContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerSlideshowAudioStore'),c('ReactComposerSlideshowStore'),c('ReactComposerSelectedImagesStore')),c('ReactComponentWithPureRenderMixin')],propTypes:{maxSelectedImages:i.number.isRequired,mediaAcceptParam:i.string.isRequired,pageID:i.string.isRequired,showAudioRedesign:i.bool.isRequired,showAudioSelector:i.bool.isRequired,showStorylineMood:i.bool.isRequired,onFilesSelected:i.func.isRequired},statics:{calculateState:function k(l,m){return {audioFileSource:c('ReactComposerSlideshowAudioStore').getAudioFileSource(l),dialogShown:c('ReactComposerSlideshowStore').shouldShowSlideshowDialog(l),durationWithTransitionInMS:c('ReactComposerSlideshowStore').getDurationInMS(l),imagesAllLoaded:!c('ReactComposerMediaUploadStore').isUploading(l),imagesCrops:c('ReactComposerSelectedImagesStore').getImagesCrops(l),isPreviewPlaying:c('ReactComposerSlideshowAudioStore').getIsPreviewPlaying(l),selectedImages:c('ReactComposerSelectedImagesStore').getSelectedImages(l),selectedStorylineMood:c('ReactComposerSlideshowAudioStore').getSelectedStorylineMood(l),transitionInMS:c('ReactComposerSlideshowStore').getTransitionInMS(l)};}},_renderPreview:function k(){var l=c('SlideshowPreviewConstants').WWW_PREVIEW_CONTAINER_SIZE_COMPOSER,m=c('SlideshowPreviewConstants').WWW_PLAYER_SIZE_COMPOSER,n=c('SlideshowImageUtil').getPreviewBoxDimensions(this.state.imagesCrops,m,c('SlideshowPreviewConstants').WWW_WIDE_ASPECT_RATIO),o={marginBottom:(n.height-l)/2,marginLeft:c('SlideshowPreviewConstants').WWW_COMPOSER_LEFT_MARGIN,marginTop:(n.height-l)/2};return (c('React').createElement('div',{className:"_3-95",style:{overflow:'hidden'}},c('React').createElement(c('SlideshowPreview.react'),{audioFileSource:this.state.audioFileSource,durationWithTransitionInMS:this.state.durationWithTransitionInMS,hidden:false,imagesAllLoaded:this.state.imagesAllLoaded,imagesCrops:this.state.imagesCrops,isPreviewPlaying:this.state.isPreviewPlaying,maxSelectedImages:this.props.maxSelectedImages,previewBoxContainerSize:l,previewBoxSize:m,selectedImages:this.state.selectedImages,showStorylineMood:this.props.showStorylineMood,storylineMoodIDSource:this.state.selectedStorylineMood?this.state.selectedStorylineMood.source:null,style:o,transitionInMS:this.state.transitionInMS,onClose:this._onXout,onEdit:this._onShowDialog,onPreviewStateChange:this._onPreviewStateChange})));},render:function k(){return (c('React').createElement('div',null,this._renderPreview(),this.renderLayers()));},renderLayers:function k(){var l=null;if(this.state.dialogShown)l=c('React').createElement(c('ReactComposerSlideshowDialogContainer.react'),{dialogShown:this.state.dialogShown,maxSelectedImages:this.props.maxSelectedImages,mediaAcceptParam:this.props.mediaAcceptParam,pageID:this.props.pageID,showAudioRedesign:this.props.showAudioRedesign,showAudioSelector:this.props.showAudioSelector,showStorylineMood:this.props.showStorylineMood,onCloseDialog:this._onCloseDialog,onFilesSelected:this.props.onFilesSelected});return c('ReactFragment').create({dialog:l});},_onShowDialog:function k(){c('ReactComposerSlideshowActions').showEditSlideshowDialog(this.context.composerID);},_onPreviewStateChange:function k(l){c('ReactComposerSlideshowActions').previewStateChange(this.context.composerID,l);},_onXout:function k(){var l=c('ReactComposerSelectedImagesStore').getNumberOfImages(this.context.composerID);c('ReactComposerMediaUploadActions').removeAllPhotoUploads(this.context.composerID,c('ReactComposerMediaUploadStore').getUploadsOfType(this.context.composerID,c('ReactComposerMediaUploadType').PHOTO));c('ReactComposerSlideshowActions').hideSlideshowEditField(this.context.composerID,l);},_onCloseDialog:function k(){var l=c('ReactComposerSelectedImagesStore').getAddedUploadIDs(this.context.composerID);l.forEach(function(m){var n=c('ReactComposerMediaUploadStore').getMediaUpload(this.context.composerID,m);c('ReactComposerMediaUploadActions').removePhotoAndPhotoUpload(this.context.composerID,n);}.bind(this));c('ReactComposerSlideshowActions').closeEditSlideshowDialog(this.context.composerID);}});f.exports=j;}),null);
__d('ReactComposerAttachmentPreview.react',['DOMContainer.react','React'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.render=function(){'use strict';if(!this.props.markup)return c('React').createElement('noscript',null);return (c('React').createElement(c('DOMContainer.react'),null,this.props.markup));};function k(){'use strict';h.apply(this,arguments);}k.propTypes={markup:j.instanceOf(HTMLElement).isRequired};f.exports=k;}),null);
__d('ReactComposerLocationAttachmentActions',['ReactComposerLocationAttachmentActionType','ReactComposerDispatcher','ReactComposerLocationAttachmentStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerLocationAttachmentStore');h.prototype.enabled=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLocationAttachmentActionType').LOCATION_ATTACHMENT_ENABLED,enabled:j});};h.prototype.fetchLocationAttachment=function(i,j,k){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLocationAttachmentActionType').FETCH_LOCATION_ATTACHMENT,locationID:j,targetID:k});};h.prototype.setMinutiaeActionContext=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerLocationAttachmentActionType').SET_MINUTIAE_ACTION_CONTEXT,objectID:j,isTimeline:k};c('ReactComposerDispatcher').dispatch(l);};h.prototype.setMarkup=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerLocationAttachmentActionType').SET_LOCATION_MARKUP,markup:j});};function h(){'use strict';}f.exports=new h();}),null);
__d('ReactComposerMinutiaeAttachmentActions',['ReactComposerMinutiaeAttachmentActionType','ReactComposerDispatcher','ReactComposerMinutiaeAttachmentStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerMinutiaeAttachmentStore');h.prototype.fetchMinutiaeAttachment=function(i,j,k,l,m){'use strict';var n={composerID:i,type:c('ReactComposerMinutiaeAttachmentActionType').FETCH_ATTACHMENT,actionID:j,objectID:k,targetID:l,isTimeline:m};c('ReactComposerDispatcher').dispatch(n);};h.prototype.setExplicitLocation=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerMinutiaeAttachmentActionType').SET_EXPLICIT_LOCATION,explicitLocation:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setMarkup=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerMinutiaeAttachmentActionType').SET_MARKUP,markup:j};c('ReactComposerDispatcher').dispatch(k);};function h(){'use strict';}f.exports=new h();}),null);
__d('ReactComposerAttachmentPreviewContainer.react',['csx','cx','ReactComposerEvents','ReactComposerLocationAttachmentActions','ReactComposerLocationAttachmentStore','ReactComposerLoggingName','ReactComposerMinutiaeAttachmentActions','ReactComposerMinutiaeAttachmentStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerAttachmentPreview.react','ReactComposerPrefillStore','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','Arbiter','DOM','Event','ReactComponentWithPureRenderMixin','React','ReactDOM','XUICloseButton.react'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerAttachmentPreviewContainer',_buttonEvent:undefined,_prefillSubscription:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerScrapedAttachmentStore'),c('ReactComposerMinutiaeAttachmentStore'),c('ReactComposerLocationAttachmentStore'))],propTypes:{markup:j.instanceOf(HTMLElement)},statics:{calculateState:function l(m,n){var o=c('ReactComposerScrapedAttachmentStore').getMarkup(m),p=c('ReactComposerScrapedAttachmentStore').isReadOnly(m),q=c('ReactComposerMinutiaeAttachmentStore').getMarkup(m),r=c('ReactComposerLocationAttachmentStore').getMarkup(m);return {markup:o||q||r,showRemoveButton:o&&p};}},componentDidMount:function l(){this._prefillSubscription=c('Arbiter').subscribe(c('ReactComposerEvents').SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this._cleanupButtonEvent();this._setButtonEvent();},componentDidUpdate:function l(){this._setButtonEvent();},componentWillUnmount:function l(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._cleanupButtonEvent();},render:function l(){if(!this.state.markup)return null;var m=this.state.showRemoveButton?this._renderRemoveButton():null;return (c('React').createElement('div',{className:"_2ane"},c('React').createElement(c('ReactComposerAttachmentPreview.react'),{ref:'attachment',markup:this.state.markup}),m));},_handlePrefill:function l(){var m=c('ReactComposerPrefillStore').getAndEraseField(this.context.composerID,'attachmentPreviewData');if(m)if(m.scrapedAttachment){if(m.scrapedAttachment.markup){c('ReactComposerScrapedAttachmentActions').setScrapedAttachmentWithoutLogging(this.context.composerID,m.scrapedAttachment.markup,m.scrapedAttachment.attachmentConfig);}else if(m.minutiaeAttachment.markup)c('ReactComposerMinutiaeAttachmentActions').setMarkup(this.context.composerID,m.minutiaeAttachment.markup);}else if(m.scrapedURL)c('ReactComposerScrapedAttachmentActions').scrapeAttachment(this.context.composerID,this.context.targetID,m.scrapedURL,this.context.composerType,this.context.actorID,c('ReactComposerLoggingName').INLINE_COMPOSER);},_renderRemoveButton:function l(){return (c('React').createElement('div',{className:"_2anf"},c('React').createElement(c('XUICloseButton.react'),{className:"_2anh",size:'medium',shade:'light',onClick:this._clearAttachment})));},_setButtonEvent:function l(){if(this.refs.attachment){var m=c('DOM').scry(c('ReactDOM').findDOMNode(this.refs.attachment),"._9s")[0];if(m)this._buttonEvent=c('Event').listen(m,'click',function(event){this._clearAttachment();this._buttonEvent&&this._buttonEvent.remove();this._buttonEvent=null;}.bind(this));c('Arbiter').inform('react_composer_dom_ready/'+this.context.composerID);}},_clearAttachment:function l(){c('ReactComposerScrapedAttachmentActions').setScrapedAttachment(this.context.composerID,null,{},c('ReactComposerLoggingName').LINK_REMOVE_BUTTON);c('ReactComposerMinutiaeAttachmentActions').setMarkup(this.context.composerID,null);c('ReactComposerLocationAttachmentActions').setMarkup(this.context.composerID,null);},_cleanupButtonEvent:function l(){this._buttonEvent&&this._buttonEvent.remove();}});f.exports=k;}),null);