if (self.CavalryLogger) { CavalryLogger.start_js(["tnhrb"]); }

__d("BasicTypeaheadLoggerJSConstants",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={EventNames:{ADS_TARGETING:"ads_targeting",MENTIONS:"mentions",TINDER_MENTIONS:"tinder_mentions",REACT_COMPOSER_MENTIONS:"react_composer_mentions",PHOTO_TAGGER:"photo-tagger",PROFILE:"profile",TIMELINE_COLLECTION:"timeline_collection",OGCOMPOSER_TAGGER:"ogcomposer-tagger",PLACES_TYPEAHEAD:"places_typeahead",CHAT_MENTIONS_ENTITIES:"chat_mentions_entities",REACT_COMPOSER_OG_TAGGER:"react_composer_og_tagger",REACT_SHARE_DIALOG_OG_TAGGER:"react_share_dialog_og_tagger",REACT_COMPOSER_LOCATION_TAGGER:"react_composer_location_tagger",REACT_SHARE_DIALOG_LOCATION_TAGGER:"react_share_dialog_location_tagger",GROUP_SEARCH_TA:"group_search_ta"},Fields:{EVENT:"event",STRATEGY_NAME:"strategy_name",HAS_INTENT_MENTION:"has_intent_mention",USER_ID:"userid",SELECTED_POSITION:"selected_position",SELECTED_ID:"selected_id",QUERIES_HISTORY:"queries_history",NUM_QUERIES:"num_queries",CANDIDATE_RESULTS:"candidate_results",CANDIDATE_RESULTS_ADS:"candidate_results_ads",QUERY:"query",LAST_NOT_BACKSPACED_QUERY:"last_not_backspaced_query",REQUEST_ID:"request_id",REQUEST_IDS_HISTORY:"request_ids_history",SESSION_ID:"session_id",SESSION_TIME:"session_time",NORMALIZED_BACKEND_QUERY:"normalized_backend_query",SELECTED_TYPE:"selected_type",SELECTED_QUERY:"selected_query",SELECTED_ORIGINAL_ID:"selected_original_id",SELECTED_SCORE:"selected_score",PLACE_ID:"place_id",CLIENT_TIME:"client_time",TIMEZONE:"timezone",TIMEZONE_ID:"timezone_id",ACTION_TYPE_ID:"action_type_id",SELECTED_ID_INT:"selected_id_int",CLICK:"click",FILTERED_CANDIDATE_RESULTS:"filtered_candidate_results",FBTYPE:"fbtype",PAGE:"page",PAGE_VISIBILITY_DUMMY:"page_visibility_dummy",SEARCH_VERSION:"search_version",GK_STATUS:"gk_status",QE_GROUP:"qe_group",EVENT_SPECIFIC_DATA:"event_specific_data",REF:"ref",SOURCE:"source",GEO_PROFILE_COUNTRY:"geo_profile_country",CURRENT_GEO_PROFILE:"current_geo_profile",CURRENT_CITY_GLOBAL_ID:"current_city_global_id",CURRENT_REGION_ID:"current_region_id",CURRENT_COUNTRY:"current_country",COLLECTION_DATA:"collection_data",FILTERED_COUNT:"filtered_count",GOOD_CLICK:"good_click",GOOD_CLICK_INT:"good_click_int",FALLBACK_CLICK:"fallback_click",ENTITY_CLICK:"entity_click",ENTITY_CLICK_INT:"entity_click_int",HAD_RESULTS:"had_results",NUM_RESULTS:"num_results",PAGE_CATEGORY:"page_category",PAGE_VISIBILITY:"page_visibility",PAGE_IS_AUTHENTIC:"page_is_authentic",PRECISION:"precision",EVENT_CONTEXT:"event_context",PAGE_SOURCE:"page_source",ENTITY_TYPE:"entity_type",EVENT_VALID:"event_valid",QUERY_LENGTH:"query_length",FIRST_RESULT:"first_result",HAD_DUPLICATES:"had_duplicates",COMPLETE_APP_COUNT:"complete_app_count",APP_COLLECTION_SIZE:"app_collection_size",COLLECTION_SIZE:"collection_size",NON_EMPTY_FRIENDS_COUNT:"non_empty_friends_count",CAROUSEL_COLLECTION_SIZE:"carousel_collection_size",QUALITY_ACCURACY:"quality_accuracy",SELECTED_WITH_MOUSE:"selected_with_mouse",AVG_QUERY_LATENCY:"avg_query_latency",IS_EMPLOYEE:"is_employee",PROFILE_SECTION:"profile_section",TYPEAHEAD_SOURCE:"typeahead_source",MINUTIAE_COMPOSER_VERSION:"minutiae_composer_version",LAST_QUERY_LATENCY:"last_query_latency",AD_ACCOUNT_ID:"ad_account_id",SUGGESTION_MODE:"suggestion_mode",NEXT_SUGGESTION_MODE:"next_suggestion_mode"},MinutiaeComposerVersions:{LEGACY:"legacy",LEGACY_TOKENIZED:"legacy_tokenized",REACT:"react"}};}),null);
__d("PlaceSearchConstants",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SOURCE_INTERN:"intern",SOURCE_W_COMPOSER:"web_composer",SOURCE_W_COMPOSER_MEDIA:"web_composer_media",SOURCE_ALBUM_CREATION:"album_creation",SOURCE_ALBUM_EDIT:"album_edit",SOURCE_PHOTO_EDIT:"photo_edit",SOURCE_ALBUM_ADD_PHOTOS:"album_add_photos",SOURCE_PLAN_EDIT:"plan_edit",SOURCE_GROUP_EDIT:"group_edit",SOURCE_DISSIMILARITY:"dissimilarity",SOURCE_TEST:"test",SOURCE_FQL:"fql",SOURCE_EVENTS:"events_create",SOURCE_PAGES:"pages_create",SOURCE_TOUCH:"touch",SOURCE_M:"m",SOURCE_M_PLAN:"m_plan",SOURCE_M_NO_GPS:"m_no_gps",SOURCE_PROFILE_MAP:"profile_map",SOURCE_WEB_DASH:"web_dashboard",SOURCE_MOBILE_DASH:"mobile_dashboard",SOURCE_UNKNOWN:"unknown",SOURCE_PHOTO_EDIT_EXIF:"photo_edit_exif",SOURCE_TIMELINE_LOCATION_EDIT:"timeline_location_edit",SOURCE_NETEGO_TAGGING:"netego_tagging",SOURCE_PPS_NETEGO:"netego_pps",SOURCE_PPS_SNOWLIFT:"snowlift_pps",SOURCE_PROXIMITY_GUESSER:"proximity_guesser",SOURCE_SEARCH_RESULTS_PAGE:"detailedsearch",SOURCE_PLACES_EDITOR:"places_editor",SOURCE_MAP_COMPOSER:"map_composer",SOURCE_NEARBY:"nearby",SOURCE_SEARCH_MAP:"searchmap",SOURCE_TIMELINE_COMPOSER:"timeline_composer",SOURCE_M_EDIT_PROFILE:"m_edit_profile",SOURCE_M_EDIT_PAGE_INFO:"m_edit_page_info",SOURCE_PYML_NEARBY:"pyml_nearby",SOURCE_MOBILE_PLACE_COMPOSER:"mobile_place_composer",SOURCE_NEARBY_CHAT_ROOM:"nearby_chat_room",SOURCE_GRAPHQL:"graphql",SOURCE_CURRENT_PLACE:"current_place",SOURCE_AURA_PUSH_NOTIF:"aura_push_notif",SOURCE_SUGGESTIFIER:"suggestifier",SOURCE_PLACE_ADDRESS_LOCATED_IN:"place_address_located_in",SOURCE_IG_MEDIA_TAGGING:"instagram.media_tagging.place_search",SOURCE_MOBILE_STATUS:"mobile_status",SOURCE_MOBILE_CHECKIN:"mobile_checkin",SOURCE_MOBILE_PHOTO:"mobile_photo",SOURCE_CAMERA_MEDIA_EFFECT_UPLOAD:"camera_media_effect_upload",SOURCE_GEO_ADMIN_AREA_MATCHER:"geo_admin_area_matcher",PREDICTIONS_APPID:106712229428223};}),null);
__d("ReactComposerTypeaheadSearchSourceConfig",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTIVITY:{action:{auxiliaryFields:{default_icon:"default_icon",icon:"icon",original_id:"original_id",prompt:"prompt"}},object:{auxiliaryFields:{icon:"icon",icon_src:"icon_src",original_id:"original_id",verified:"is_verified"}}},LOCATION:{include_likes:false,include_subtext:true,include_address:1,exact_match:false,map_height:null,map_width:null,use_unicorn:true,allow_places:true,allow_cities:true,render_map:false,limit:15,use_searchable_entries:true}};}),null);
__d("ReactComposerTypeaheadSearchSourceType",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTIVITY:"ACTIVITY",LOCATION:"LOCATION"};}),null);
__d("TaggingLimits",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MAX_WITH_TAGS:100};}),null);
__d('ScaledImage.react',['cx','Image.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props,n=m.className,o=m.height,p=m.imageSize,q=m.width,r=babelHelpers.objectWithoutProperties(m,['className','height','imageSize','width']),s={height:o,width:q},t=p.width/p.height,u=q/o,v=void 0;if(t>u){var w=o/p.height,x=p.width*w;v={height:o,left:-Math.floor((x-q)/2),width:x};}else{var y=q/p.width,z=p.height*y;v={height:z,top:-Math.floor((z-o)/2),width:q};}return (c('React').createElement('div',{className:c('joinClasses')(n,"uiScaledImageContainer"),style:s},c('React').createElement(c('Image.react'),babelHelpers['extends']({style:v},r))));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={height:k.number.isRequired,imageSize:k.shape({height:k.number.isRequired,width:k.number.isRequired}).isRequired,width:k.number.isRequired};f.exports=l;}),null);
__d('ComposerDraftTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:ComposerDraftLoggerConfig',this.$ComposerDraftTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:ComposerDraftLoggerConfig',this.$ComposerDraftTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$ComposerDraftTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$ComposerDraftTypedLogger1=babelHelpers['extends']({},this.$ComposerDraftTypedLogger1,j);return this;};h.prototype.setEventType=function(j){this.$ComposerDraftTypedLogger1.event_type=j;return this;};var i={event_type:true};f.exports=h;}),null);
__d('ReactComposerAudienceActions',['ReactComposerAudienceActionTypes','ReactComposerDispatcher','ReactComposerAudienceStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerAudienceStore');var h={setAudience:function i(j,k,l,m){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerAudienceActionTypes').SET_AUDIENCE,audience:k,legacyAudience:l,sourceLoggingName:m});},setAudienceWithoutLogging:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerAudienceActionTypes').SET_AUDIENCE,audience:k,legacyAudience:l,suppressWaterfallLogging:true});},setAudienceElement:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerAudienceActionTypes').SET_AUDIENCE_ELEMENT,audienceElement:k});},setAudienceInstance:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerAudienceActionTypes').SET_AUDIENCE_INSTANCE,audienceInstance:k});},setPrivacyxNullDangerous:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerAudienceActionTypes').SET_PRIVACYX_NULL_DANGEROUS,privacyxNullDangerous:k});}};f.exports=h;}),null);
__d('ReactComposerAudienceSelector.react',['cx','DOM','PrivacySelector','ReactComponentWithPureRenderMixin','React','ReactDOM'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerAudienceSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{audienceXHP:i.instanceOf(HTMLElement).isRequired,onChange:i.func.isRequired,viewerIsTarget:i.bool.isRequired},componentDidMount:function k(){if(this.props.viewerIsTarget)setTimeout(function(){var l=c('PrivacySelector').get(this.props.audienceXHP);if(l)l.subscribe('changed',this._onChange);}.bind(this),0);if(this.refs&&this.refs.audienceSelector){c('DOM').setContent(c('ReactDOM').findDOMNode(this.refs.audienceSelector),this.props.audienceXHP);}else this._layerHack();},render:function k(){return (c('React').createElement('div',{ref:'audienceSelector',className:"_5dd8"}));},_onChange:function k(l,m){if(this.isMounted())this.props.onChange(m);},_layerHack:function k(){setTimeout(function(){if(this.refs&&this.refs.audienceSelector){c('DOM').setContent(c('ReactDOM').findDOMNode(this.refs.audienceSelector),this.props.audienceXHP);}else this._layerHack();}.bind(this),100);}});f.exports=j;}),null);
__d('ReactComposerAudienceSelectorContainer.react',['csx','invariant','Arbiter','ReactComposerAudienceActions','ReactComposerAudienceSelector.react','ReactComposerLoggingName','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','CSS','DOM','DataStore','PrivacySelector','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerAudienceSelectorContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStatusStore'),c('ReactComposerTaggerStore'))],propTypes:{audienceXHP:j.instanceOf(HTMLElement).isRequired,viewerIsTarget:j.bool.isRequired},statics:{beforeCalculateInitialState:function l(m,n,o){var p=n.audienceXHP,q,r=c('PrivacySelector').getAdamaSelectorInstance(p);c('ReactComposerAudienceActions').setAudienceElement(m,n.audienceXHP);c('ReactComposerAudienceActions').setAudienceInstance(m,r);if(!p||!n.viewerIsTarget)return;if(r)q=r.getPostParam();var s;if(!r)s=c('DOM').scry(p,'select option[selected="1"]').pop();if(!r&&!s){var t=c('DOM').scry(p,'input[name="privacyx"]')[0];if(t)q=t.value;}!(!!(q||s)||c('PrivacySelector').isFakeOrUneditableSelector(p)||o.actorID)?i(0):void 0;c('ReactComposerAudienceActions').setAudienceWithoutLogging(m,q,s?s.value:null);},calculateState:function l(m,n){var o=c('ReactComposerStatusStore').getMentions(m),p=c('ReactComposerTaggerStore').getTaggerData(m,c('ReactComposerTaggerType').PEOPLE)||[],q=p.map(function(u){return {info:{type:u.getType(),uid:u.getUniqueID(),text:u.getTitle()}};}),r=c('CSS').matchesSelector(n.audienceXHP,"._43_1")?n.audienceXHP:c('DOM').scry(n.audienceXHP,"._43_1")[0],s=r?c('DataStore').get(r,'selector'):null,t={withTags:q,mention:o};if(s&&s.informTagsChanged){s.informTagsChanged(t);}else c('Arbiter').inform('Composer/changedtags',t);return {};}},render:function l(){return (c('React').createElement(c('ReactComposerAudienceSelector.react'),babelHelpers['extends']({},this.props,{onChange:this._onAudienceChanged})));},_onAudienceChanged:function l(m){c('ReactComposerAudienceActions').setAudience(this.context.composerID,m.post_param,m.privacy_base,c('ReactComposerLoggingName').AUDIENCE_SELECTOR);}});f.exports=k;}),null);
__d('ReactComposerStatusAttachmentMentionsInput.react',['cx','ReactComposerConfig','ReactComposerContextMixin','ReactComposerEvents','ReactComposerInit','ReactComposerTaggerType','Arbiter','EditorState','Keys','MentionsInput.react','ReactComponentWithPureRenderMixin','React','SubscriptionsHandler','UserAgent_DEPRECATED','XUITypeaheadView.react','getMentionsInputDecorator','joinClasses'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerStatusAttachmentMentionsInput',_subscriptions:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{config:c('ReactComposerConfig'),mentionsSource:i.object,typeaheadReporter:i.object,onChange:i.func,onFocus:i.func,onPasteFiles:i.func,onPostIntent:i.func},getInitialState:function k(){return {editorState:this.props.editorState};},componentWillUnmount:function k(){this.props.onBlur&&this.props.onBlur(this.state.editorState);this._subscriptions&&this._subscriptions.release();},componentWillMount:function k(){var l=new (c('SubscriptionsHandler'))();l.addSubscriptions(c('Arbiter').subscribe([c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID],function(){return this.focus();}.bind(this)));this._subscriptions=l;},componentWillReceiveProps:function k(l){if(l.editorState===null)this.setState({editorState:c('EditorState').createEmpty(c('getMentionsInputDecorator')())});},render:function k(){var l=this.props.config&&this.props.taggersConfig&&this.props.config.taggersConfig[c('ReactComposerTaggerType').PEOPLE],m=l&&l.typeaheadView?l.typeaheadView:c('XUITypeaheadView.react'),n=l&&l.typeaheadViewProps?l.typeaheadViewProps:{},o=Object.assign({},{typeaheadView:m,typeaheadViewProps:n,selectOnTab:false,spellCheck:true},this.props,{className:c('joinClasses')("_1mwp",this.props.className),editorState:this.state.editorState,handleContentReturn:this._handleContentReturn,handlePastedFiles:this._handlePastedFiles,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,maxResults:10});return (c('React').createElement(c('MentionsInput.react'),babelHelpers['extends']({ref:'mentionsInput'},o,{webDriverTestID:'status-attachment-mentions-input'})));},forceSetEditorState:function k(l){this.setState({editorState:l});},focus:function k(){if(!c('ReactComposerInit').isInstanceMounted(this.context.composerID)){c('Arbiter').subscribeOnce([c('ReactComposerEvents').INSTANCE_MOUNTED+this.context.composerID],function(){return this.refs.mentionsInput.focus();}.bind(this));}else this.refs.mentionsInput.focus();},_onAddMention:function k(l,m,n){var o=this.props.typeaheadReporter;if(o){o.reportSelect(l.getUniqueID(),l.getType(),m,n.button>=0);o.sessionEnd();o.sessionStart();}},_onShowMentions:function k(l,m){var n=this.props.typeaheadReporter;if(n)n.reportResults(l.map(function(o){return o.getUniqueID();}));},_onFocus:function k(){var l=this.props.typeaheadReporter;if(l)l.sessionStart();this.props.onFocus&&this.props.onFocus();},_handlePastedFiles:function k(l){var m=/^image\//;l=l.filter(function(n){return m.test(n.type);});if(l.length>0&&this.props.onPasteFiles){this.props.onPasteFiles(l);return true;}return false;},_handleContentReturn:function k(event){var l=c('UserAgent_DEPRECATED').osx()?event.metaKey:event.controlKey;if(event.keyCode===c('Keys').RETURN&&l){this.refs.mentionsInput.blur();setTimeout(this.props.onPostIntent,0);return true;}return false;},_onChange:function k(l){this.setState({editorState:l});this.props.onChange&&this.props.onChange(l);},_onBlur:function k(){this.props.typeaheadReporter&&this.props.typeaheadReporter.sessionEnd();this.props.onBlur&&this.props.onBlur(this.state.editorState);}});f.exports=j;}),null);
__d('ReactComposerHandleUnsavedChanges',['fbt','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerInit','ReactComposerPhotoStore','ReactComposerMediaUploadStore','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerTaggerStore','ReactComposerVideoUploadStore','Map','ComposerEntryPointRef','PageTransitions','Run','URI'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={customChecks:new (c('Map'))(),handler:function j(k,l){var m=c('URI').getMostRecentURI(),n=c('URI').getNextURI(),o=m.getQueryData().hasOwnProperty('theater')&&!n.getQueryData().hasOwnProperty('theater')&&l.toString()===n.toString(),p=l.toString()===m.toString()&&!m.getQueryData().hasOwnProperty('theater')&&n.getQueryData().hasOwnProperty('theater'),q=m.getQueryData().hasOwnProperty('theater')&&n.getQueryData().hasOwnProperty('theater')&&m.toString()!==n.toString();if(p||o||q)c('Run').onAfterLoad(function(){return (c('Run').onBeforeUnload(function(){return (i.handler(k,l));}));});if(p||o||q||c('ReactComposerStore').hasPostSucceeded(k)||c('ReactComposerStore').isPublishing(k))return null;var r=i.hasUnsavedChanges(k);if(r&&!(b.Dialog&&b.Dialog.getCurrent())){return i.getUnsavedChangesMessage(k);}else return null;},addCustomCheck:function j(k,l){var m=[];if(i.customChecks.has(k))m=i.customChecks.get(k);if(m){m.push(l);i.customChecks.set(k,m);}},hasUnsavedChanges:function j(k){if(!c('ReactComposerInit').isInstanceMounted(k))return false;var l=c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,c('ReactComposerAttachmentType').MEDIA),m=c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,c('ReactComposerAttachmentType').LIVE_BROADCAST),n=c('ReactComposerStatusStore').getTextLength(k)>0,o=l&&(c('ReactComposerMediaUploadStore').isUploading(k)||c('ReactComposerPhotoStore').isRecognizing(k)||c('ReactComposerPhotoStore').getPhotos(k).size>0),p=l&&c('ReactComposerVideoUploadStore').getVideo(k),q=!c('ReactComposerTaggerStore').areAllTaggersEmpty(k),r=c('ReactComposerScrapedAttachmentStore').hasAttachment(k),s=i.customChecks.get(k),t=false;if(s)for(var u=s,v=Array.isArray(u),w=0,u=v?u:u[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var x;if(v){if(w>=u.length)break;x=u[w++];}else{w=u.next();if(w.done)break;x=w.value;}var y=x;t=t||y();}var z=n||o||p||q||r||m||t;return !!z;},getUnsavedChangesMessage:function j(k){var l=c('ReactComposerStore').getRef(k);switch(l){case c('ComposerEntryPointRef').EDIT_DIALOG:return h._("Are you sure you want to discard your changes?");default:return h._("You haven't finished your post yet. Do you want to leave without finishing?");}}};f.exports=i;}),null);
__d('getBlockNumberAndOffsetFromText',['splitTextIntoTextBlocks'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=i.slice(0,j),l=c('splitTextIntoTextBlocks')(k),m=l.map(function(o){return o.length;}).slice(0,-1),n=m.reduce(function(o,p){return o+p+1;},0);return {block:l.length-1,offset:j-n};}f.exports=h;}),null);
__d('ReactComposerPrefillMentionsInput',['DraftEntity','EditorState','SelectionState','createEditorStateWithEntities','getBlockNumberAndOffsetFromText','getMentionsInputDecorator'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={createEditorState:function i(j,k){if(!j||!j.text)return c('EditorState').createEmpty();var l=c('createEditorStateWithEntities')({text:j.text,ranges:j.ranges||[],decorator:c('getMentionsInputDecorator')(),entityCreationFn:function p(q){return c('DraftEntity').create('MENTION','IMMUTABLE',{id:q.id,isWeak:!!q.weakreference,type:q.type});}});if(k){var m=l.getCurrentContent().getBlockMap(),n=c('getBlockNumberAndOffsetFromText')(j.text,k.start),o=c('getBlockNumberAndOffsetFromText')(j.text,k.end);l=c('EditorState').acceptSelection(l,new (c('SelectionState'))({anchorKey:m.skip(n.block).first().getKey(),anchorOffset:n.offset,focusKey:m.skip(o.block).first().getKey(),focusOffset:o.offset,isBackward:false}));}else l=c('EditorState').moveSelectionToEnd(l);return l;},getMentionsFromEditorState:function i(j){var k=j.getCurrentContent(),l=[],m=0;k.getBlockMap().forEach(function(n){n.findEntityRanges(function(){return true;},function(o,p){var q=n.getEntityAt(o);if(!q)return;var r=c('DraftEntity').get(q);l.push({entity:{id:Number(r.getData().id),noncoworker:false,type:r.getData().type,url:''},length:p-o,offset:o+m});});m+=n.getLength()+1;});return l;}};f.exports=h;}),null);
__d('ReactComposerStatusAttachmentMentionsInputContainer.react',['cx','errorCode','ReactComposerActions','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerEvents','ReactComposerMediaUploadStore','ReactComposerPrefillMentionsInput','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusActions','ReactComposerStatusAttachmentMentionsInput.react','ReactComposerStatusStore','ReactComposerStore','ReactComposerScrapedAttachmentStore','ReactComposerTaggerStore','EditorState','LitestandStoryInsertionStatus','ReactComponentWithPureRenderMixin','ReactComposerHandleUnsavedChanges','ReactComposerStatusUtils','React','UnicodeUtils','XUIError.react','Arbiter','getMentionsInputDecorator','joinClasses'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ComposerStatusAttachmentMentionsInputContainer',_rerenderSubscription:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'),c('ReactComposerMediaUploadStore'),c('ReactComposerScrapedAttachmentStore'),c('ReactComposerStatusStore'),c('ReactComposerStore'),c('ReactComposerTaggerStore'))],propTypes:{config:c('ReactComposerConfig'),mentionsEnabled:j.bool,mentionsSource:j.object,onChange:j.func,onFocus:j.func,onPasteFiles:j.func,handlePastedText:j.func},getDefaultProps:function l(){return {mentionsEnabled:true};},getInitialState:function l(){return {isFocused:false};},statics:{calculateState:function l(m,n){var o=c('ReactComposerStatusStore').getEditorState(m),p=n.mentionsEnabled?c('getMentionsInputDecorator')():null,q;if(o){if(o.getDecorator()!==p){q=c('EditorState').set(o,{decorator:p});c('ReactComposerStatusActions').setEditorState(m,q);}else q=o;}else{q=c('EditorState').createEmpty(p);c('ReactComposerStatusActions').setEditorState(m,q);}var r=n.config&&n.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],s=false,t=c('ReactComposerStatusStore').getTextLength(m),u=c('ReactComposerAttachmentStore').isSelectedAttachmentActive(m);if(r&&r.largeTextThreshold&&c('ReactComposerMediaUploadStore').getUploadsCount(m)===0&&!c('ReactComposerScrapedAttachmentStore').hasAttachment(m)&&!c('ReactComposerTaggerStore').hasExplicitLocation(m)){if(!t&&o){var v=o.getCurrentContent();t=c('UnicodeUtils').strlen(v.getPlainText());}if(t===0&&u||t!==0&&t<=r.largeTextThreshold)s=true;}return {editorState:q,isSelectedAttachmentActive:c('ReactComposerAttachmentStore').isSelectedAttachmentActive(m),mentionsSource:n.mentionsEnabled?c('ReactComposerStatusStore').getMentionsSource(m):null,posting:c('ReactComposerStore').isPosting(m),serverErrorResponse:c('ReactComposerStore').getServerErrorResponse(m),typeaheadReporter:c('ReactComposerStatusStore').getTypeaheadReporter(m),shouldUseLargeText:s};}},componentWillMount:function l(){if(this.props.mentionsSource)c('ReactComposerStatusActions').setMentionsSource(this.context.composerID,this.props.mentionsSource);this._storyInsertionBlocker=c('LitestandStoryInsertionStatus').registerBlocker(function(){return c('ReactComposerHandleUnsavedChanges').hasUnsavedChanges(this.context.composerID)||this.state.isFocused;}.bind(this));},componentDidMount:function l(){this._rerenderSubscription=c('Arbiter').subscribe(c('ReactComposerEvents').RERENDER_MENTION_INPUT+this.context.composerID,function(){this.refs.mentionsInput.forceSetEditorState(c('ReactComposerStatusStore').getEditorState(this.context.composerID));}.bind(this));},componentWillReceiveProps:function l(m){if(this.props.mentionsSource!==m.mentionsSource)c('ReactComposerStatusActions').setMentionsSource(this.context.composerID,m.mentionsSource);if(m.editorState===null)c('ReactComposerStatusActions').setEditorState(this.context.composerID,c('EditorState').createEmpty(c('getMentionsInputDecorator')()));},componentDidUpdate:function l(m,n){if(!n.serverErrorResponse&&this._shouldShowEmptyStatusError(this.state.serverErrorResponse))this.focus();},componentWillUnmount:function l(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;},render:function l(){var m=this.props.config&&this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],n=c('React').createElement(c('ReactComposerStatusAttachmentMentionsInput.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,(this.state.isSelectedAttachmentActive?"_1mwq":'')+(this.props.config&&this.props.config.showExpandedComposer?' '+"_4c_p":'')+(m&&m.showProfilePic?' '+"_5bu_":'')+(this.state.posting?' '+"_1udp":'')+(this.state.shouldUseLargeText?' '+"_17nh":'')),ref:'mentionsInput',readOnly:this.state.posting,editorState:this.state.editorState,mentionsSource:this.state.mentionsSource,typeaheadReporter:this.state.typeaheadReporter,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onPostIntent:this._onPostIntent}));if(this._shouldShowEmptyStatusError())n=c('React').createElement(c('XUIError.react'),{xuiError:this.state.serverErrorResponse.getErrorDescription(),xuiErrorPosition:'below',xuiErrorAlignh:'left'},n);return n;},focus:function l(){this.refs.mentionsInput.focus();},_onFocus:function l(){c('Arbiter').inform(c('ReactComposerEvents').MENTION_INPUT_FOCUS+this.context.composerID);this.setState({isFocused:true});this.props.onFocus&&this.props.onFocus();},_onChange:function l(m){var n=0;if(m){var o=m.getCurrentContent();n=o?c('UnicodeUtils').strlen(o.getPlainText()):0;}if(c('ReactComposerStatusStore').getTextLength(this.context.composerID)!==n){c('ReactComposerStatusActions').setEditorState(this.context.composerID,m);c('ReactComposerStatusActions').setTextLength(this.context.composerID,n);}this._handleMarkdownChange(m);this.props.onChange&&this.props.onChange(m);},_handleMarkdownChange:function l(m){var n=this.props.config?this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS]:null;c('ReactComposerStatusUtils').handleMarkdownPreview(this.context.composerID,this.context.targetID,n?n.markdownPreviewAttachment:null,m);},_onBlur:function l(m){c('ReactComposerStatusActions').setEditorState(this.context.composerID,m);this.setState({isFocused:false});},_onPostIntent:function l(){c('ReactComposerActions').postIntended(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});},_shouldShowEmptyStatusError:function l(){return !!(this.state.serverErrorResponse&&this.state.serverErrorResponse.getError()==1455004&&c('ReactComposerStatusStore').getTextLength(this.context.composerID)===0);}});f.exports=k;}),null);
__d('ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react',['cx','ReactComposerContextMixin','ReactComposerStatusActions','ReactComposerStatusAttachmentMentionsInputContainer.react','DraftEntity','ReactComponentWithPureRenderMixin','React','joinClasses'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'ComposerStatusAttachmentMentionsInputWithTagExpansionContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],render:function j(){var k=c('joinClasses')(this.props.className,"_395");return (c('React').createElement(c('ReactComposerStatusAttachmentMentionsInputContainer.react'),babelHelpers['extends']({},this.props,{className:k,onChange:this._onChange,ref:'mentionsInput'})));},focus:function j(){this.refs.mentionsInput.focus();},_onChange:function j(k){c('ReactComposerStatusActions').setMentions(this.context.composerID,this._getMentionsFromEditorState(k));this.props.onChange&&this.props.onChange(k);},_getMentionsFromEditorState:function j(k){var l=k.getCurrentContent(),m={};l.getBlockMap().forEach(function(n){var o=n.getText();n.findEntityRanges(function(){return true;},function(p,q){var r=n.getEntityAt(p);if(!r)return;var s=c('DraftEntity').get(r);if(s.getType()!=='MENTION'||s.getData().type!=='user')return;var t=s.getData().id;m[t]={type:'user',uid:t,text:o.slice(p,q)};});});return m;}});f.exports=i;}),null);
__d('ReactComposerActivityTaggerButton.react',['cx','fbt','ReactComposerLoggingName','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'ReactComposerActivityTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin')],statics:{taggerID:c('ReactComposerTaggerType').ACTIVITY,loggingName:c('ReactComposerLoggingName').MINUTIAE_TAGGER},getTitle:function k(){return i._("Add what you're doing or how you're feeling");},getTooltip:function k(){return i._("Add what you're doing or how you're feeling");},getClassName:function k(){return "_3tdo";}});f.exports=j;}),null);
__d('ReactComposerActionTaggerItem.react',['cx','React','ImageBlock.react','joinClasses','TypeaheadViewItem'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerActionTaggerItem',mixins:[c('TypeaheadViewItem').Mixin],propTypes:babelHelpers['extends']({customIcon:i.object},c('TypeaheadViewItem').propTypes),render:function k(){var l=this.props.entry,m=l.getAuxiliaryData(),n=c('React').createElement('span',{dangerouslySetInnerHTML:m.icon||this.props.customIcon}),o="_599m"+(' '+"_5mne")+(this.props.highlighted?' '+"_599n":'')+(' '+"_18d1")+(this.props.highlighted?' '+"_18d2":'');o=c('joinClasses')(o,this.props.className);return (c('React').createElement('li',{'aria-selected':this.props.highlighted,className:o,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},n,c('React').createElement('div',{className:"_599p"},l.getTitle())),c('React').createElement('i',{className:"_18d3"})));}});f.exports=j;}),null);
__d('ReactComposerActionTaggerView.react',['ReactComposerTaggerViewMixin','ReactComposerActionTaggerItem.react','React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerActionTaggerView',mixins:[c('ReactComposerTaggerViewMixin')],getItemImpl:function i(){return c('ReactComposerActionTaggerItem.react');}});f.exports=h;}),null);
__d('ReactComposerActionTaggerPresenter',['ReactComposerActionTaggerView.react'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={ViewRenderer:c('ReactComposerActionTaggerView.react'),useLayer:true,maxEntries:20};}),null);
__d('WebAsyncSearchSourceWithMetrics',['AbstractAsyncSearchSource','AbstractSearchSource','AsyncRequest','Map','TypeaheadMetricReporter','WebAsyncSearchSourceUtils','uuid'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);this.$WebAsyncSearchSourceWithMetrics1=new (c('AbstractAsyncSearchSource'))(k,this.$WebAsyncSearchSourceWithMetrics4.bind(this),c('WebAsyncSearchSourceUtils').normalizeResponse);this.$WebAsyncSearchSourceWithMetrics2=new (c('TypeaheadMetricReporter'))(l);this.$WebAsyncSearchSourceWithMetrics3=new (c('Map'))();this.$WebAsyncSearchSourceWithMetrics2.addListener&&this.$WebAsyncSearchSourceWithMetrics2.addListener('reset',function(m){this.$WebAsyncSearchSourceWithMetrics1.setRequestData({sid:m.sid});}.bind(this));}j.prototype.bootstrapImpl=function(k){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportBootstrapBegin();this.$WebAsyncSearchSourceWithMetrics1.bootstrap(function(){this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries(function(l){this.$WebAsyncSearchSourceWithMetrics2.reportBootstrapComplete(l.map(function(m){return m.getType();}));k();}.bind(this));}.bind(this));};j.prototype.searchImpl=function(k,l,m){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportQueryBegin(k);if(m)this.$WebAsyncSearchSourceWithMetrics2.reportStrategyName(m.strategyName);var n=Date.now();this.$WebAsyncSearchSourceWithMetrics1.search(k,function(o,p,q){this.$WebAsyncSearchSourceWithMetrics2.reportQueryComplete(Date.now()-n,0);l(o,p,q);}.bind(this),m);};j.prototype.getBootstrappedEntries=function(k){'use strict';return this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries(k);};j.prototype.getAllEntriesMap=function(){'use strict';return this.$WebAsyncSearchSourceWithMetrics1.getAllEntriesMap();};j.prototype.getTypeaheadSessionID=function(){'use strict';return this.$WebAsyncSearchSourceWithMetrics2.getSID();};j.prototype.setRequestData=function(k){'use strict';this.$WebAsyncSearchSourceWithMetrics1.setRequestData(k);};j.prototype.sessionStart=function(){'use strict';this.$WebAsyncSearchSourceWithMetrics2.sessionStart();};j.prototype.sessionEnd=function(){'use strict';this.$WebAsyncSearchSourceWithMetrics2.sessionEnd();};j.prototype.reportResults=function(k){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportResults(k);};j.prototype.reportSelect=function(k,l,m,n,o,p){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportSelect(k,l,m,n,o,p);};j.prototype.reportRequestID=function(k){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportRequestID(this.$WebAsyncSearchSourceWithMetrics5(k));};j.prototype.$WebAsyncSearchSourceWithMetrics5=function(k){'use strict';var l=k;while(l.length>0){if(this.$WebAsyncSearchSourceWithMetrics3.has(l))return this.$WebAsyncSearchSourceWithMetrics3.get(l);l=l.slice(0,-1);}return this.$WebAsyncSearchSourceWithMetrics3.get('');};j.prototype.$WebAsyncSearchSourceWithMetrics4=function(k,l,m,n){'use strict';var o=k.value||'',p=c('uuid')();new (c('AsyncRequest'))(l.uri).setData(babelHelpers['extends']({request_id:p},k,l.data)).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setInitialHandler(function(){this.$WebAsyncSearchSourceWithMetrics3.set(o,p);}.bind(this)).setHandler(m).setErrorHandler(n).send();};f.exports=j;}),null);
__d('ReactComposerActionTaggerComponent.react',['cx','fbt','ReactComposerActionTaggerPresenter','ReactComposerTaggerViewStyles','DummySearchSource','React','BasicTypeaheadLoggerJSConstants','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('BasicTypeaheadLoggerJSConstants').Fields,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){'use strict';k.constructor.call(this,o);this.$ReactComposerActionTaggerComponent1=function(p,event){var q={};q[l.SELECTED_ORIGINAL_ID]=p.getAuxiliaryData().original_id;q[l.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(p.getUniqueID(),p.getType(),p.getOrder(),!!event&&event.button>=0,this.state.query,q);this.props.taggerSource.sessionEnd();this.setState({query:p.getTitle()});this.props.onSelect&&this.props.onSelect(p);}.bind(this);this.$ReactComposerActionTaggerComponent2=function(){this.setState({query:''});this.props.onSelect&&this.props.onSelect(null);}.bind(this);this.$ReactComposerActionTaggerComponent3=function(event){this.setState({query:event.target.value});}.bind(this);this.$ReactComposerActionTaggerComponent4=function(){this.props.taggerSource.sessionEnd();}.bind(this);this.$ReactComposerActionTaggerComponent5=function(){this.props.taggerSource.sessionStart();}.bind(this);this.$ReactComposerActionTaggerComponent6=function(p,q){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(p.map(function(r){return r.getUniqueID();}));}.bind(this);this.$ReactComposerActionTaggerComponent7=function(){this.props.taggerSource.reportRequestID(this.state.query);}.bind(this);this.$ReactComposerActionTaggerComponent8=function(){var p={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},c('ReactComposerActionTaggerPresenter'),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:p});}.bind(this);o.taggerSource.sessionStart();this.state={query:''};}n.prototype.componentWillUnmount=function(){'use strict';this.props.taggerSource.sessionEnd();};n.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_3uco _5esl"},c('React').createElement(c('XUITypeahead.react'),{presenter:this.$ReactComposerActionTaggerComponent8(),focusedOnInit:this.props.autoFocus,showEntriesOnFocus:true,placeholder:i._("What are you doing?"),className:"_5esx _3ucr",queryString:this.state.query,searchSource:this.props.taggerSource,highlightOnSelect:true,onSelectAttempt:this.$ReactComposerActionTaggerComponent1,onClear:this.$ReactComposerActionTaggerComponent2,onChange:this.$ReactComposerActionTaggerComponent3,onBlur:this.$ReactComposerActionTaggerComponent4,onFocus:this.$ReactComposerActionTaggerComponent5,onEntriesFound:this.$ReactComposerActionTaggerComponent6,onNoEntriesFound:this.$ReactComposerActionTaggerComponent7,tallInput:true,autoHighlight:true}));};n.propTypes={autoFocus:m.bool,onSelect:m.func,placeID:m.string,taggerSource:m.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired,taggerViewStyle:m.shape(c('ReactComposerTaggerViewStyles').Shape)};n.defaultProps={autoFocus:true,onSelect:c('emptyFunction'),taggerSource:new (c('DummySearchSource'))(),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};f.exports=n;}),null);
__d('ReactComposerObjectTaggerItem.react',['cx','BackgroundImage.react','Badge.react','ImageBlock.react','React','TypeaheadViewItem','joinClasses','Locale','UnicodeBidi'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'ReactComposerObjectTaggerItem',mixins:[c('TypeaheadViewItem').Mixin],propTypes:c('TypeaheadViewItem').propTypes,render:function j(){var k=this.props.entry,l=k.getSubtitle()?c('React').createElement('div',{className:"_599q"},k.getSubtitle()):null,m=k.getPhoto()?c('React').createElement(c('BackgroundImage.react'),{width:32,height:32,backgroundSize:'cover',src:k.getPhoto()}):c('React').createElement('span',null),n=k.getAuxiliaryData(),o=n&&n.verified?o=c('React').createElement(c('Badge.react'),null):null,p=n&&n.icon?c('React').createElement('span',{className:"_mbq",dangerouslySetInnerHTML:n.icon}):null,q="_599m"+(!l?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":'');q=c('joinClasses')(q,this.props.className);var r=c('UnicodeBidi').isDirectionRTL(k.getTitle()),s=c('Locale').isRTL(),t=r&&!s?'rtl':!r&&s?'ltr':null;return (c('React').createElement('li',{'aria-selected':this.props.highlighted,className:q,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},m,c('React').createElement('div',null,c('React').createElement('div',{className:"_599p",dir:t},k.getTitle(),o),l),p)));}});f.exports=i;}),null);
__d('ReactComposerObjectTaggerView.react',['ReactComposerActionTaggerItem.react','ReactComposerObjectTaggerItem.react','ReactComposerTaggerViewMixin','React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerObjectTaggerView',mixins:[c('ReactComposerTaggerViewMixin')],getItemImpl:function i(){return c('ReactComposerObjectTaggerItem.react');},getRegexItemImpl:function i(){return c('ReactComposerActionTaggerItem.react');}});f.exports=h;}),null);
__d('ReactComposerObjectTaggerPresenter',['ReactComposerObjectTaggerView.react'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={ViewRenderer:c('ReactComposerObjectTaggerView.react'),useLayer:true,maxEntries:120};}),null);
__d('ReactComposerObjectTaggerComponent.react',['cx','ReactComposerObjectTaggerPresenter','ReactComposerTaggerViewStyles','DummySearchSource','Grid.react','React','RegexMatchSearchSource','BasicTypeaheadLoggerJSConstants','WebAsyncPlusRegexSearchSource','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','emptyFunction'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('Grid.react').GridItem,l=c('BasicTypeaheadLoggerJSConstants').Fields,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(p){'use strict';j.constructor.call(this,p);o.call(this);var q=p.taggerSource,r=p.action.getUniqueID(),s=p.actionTypeIDsWithNoFreeForm,t=!s[r];if(t){var u=new (c('RegexMatchSearchSource'))('.+');q=new (c('WebAsyncPlusRegexSearchSource'))({asyncSource:q,regexSource:u,appendRegexEntries:true});}setTimeout(function(){p.taggerSource.sessionStart();},0);this.state={query:p.object?p.object.getTitle():'',searchSource:q};}n.prototype.componentWillUnmount=function(){'use strict';this.props.taggerSource.sessionEnd();};n.prototype.render=function(){'use strict';var p=this.props.action.getAuxiliaryData(),q=p?p.prompt:'';return (c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(k,{className:"_5esm _4zdy",key:'prefix',role:'presentation',onClick:this.$ReactComposerObjectTaggerComponent5},this.props.action.getTitle()),c('React').createElement(k,{className:"_5esw",key:'suffix',role:'presentation'},c('React').createElement(c('XUITypeahead.react'),{ref:'objectTypeahead',presenter:this.$ReactComposerObjectTaggerComponent10(),clearable:true,focusedOnInit:this.props.autoFocus,autoHighlight:true,showEntriesOnFocus:true,placeholder:q,selectedEntry:this.props.object,className:"_5esx _4zdz",queryString:this.state.query,searchSource:this.state.searchSource,highlightOnSelect:true,onSelectAttempt:this.$ReactComposerObjectTaggerComponent1,onBackspace:this.$ReactComposerObjectTaggerComponent2,onClear:this.$ReactComposerObjectTaggerComponent3,onChange:this.$ReactComposerObjectTaggerComponent4,onBlur:this.$ReactComposerObjectTaggerComponent6,onEntriesFound:this.$ReactComposerObjectTaggerComponent8,onNoEntriesFound:this.$ReactComposerObjectTaggerComponent9,onFocus:this.$ReactComposerObjectTaggerComponent7,tallInput:false}))));};n.propTypes={action:m.object.isRequired,actionTypeIDsWithNoFreeForm:m.object.isRequired,autoFocus:m.bool,object:m.object,onClear:m.func.isRequired,onEmptyBackspace:m.func.isRequired,onPrefixClick:m.func.isRequired,onSelect:m.func.isRequired,placeID:m.string,taggerSource:m.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired,taggerViewStyle:m.shape(c('ReactComposerTaggerViewStyles').Shape)};n.defaultProps={actionTypeIDsWithNoFreeForm:{},autoFocus:true,onClear:c('emptyFunction'),onEmptyBackspace:c('emptyFunction'),onPrefixClick:c('emptyFunction'),onSelect:c('emptyFunction'),taggerSource:new (c('DummySearchSource'))(),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};var o=function p(){this.$ReactComposerObjectTaggerComponent1=function(q,event){var r={};r[l.SELECTED_ORIGINAL_ID]=q.getAuxiliaryData().original_id;r[l.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(q.getUniqueID(),q.getType(),q.getOrder(),!!event&&event.button>=0,this.state.query,r);this.props.taggerSource.sessionEnd();this.setState({query:q.getTitle()});this.props.onSelect(q);}.bind(this);this.$ReactComposerObjectTaggerComponent2=function(event){if(this.props.object&&this.props.object.getTitle()===event.target.value)this.props.onSelect(null);if(event.target.value==='')this.props.onEmptyBackspace();}.bind(this);this.$ReactComposerObjectTaggerComponent3=function(){this.setState({query:''});this.props.onClear();}.bind(this);this.$ReactComposerObjectTaggerComponent4=function(event){this.setState({query:event.target.value});}.bind(this);this.$ReactComposerObjectTaggerComponent5=function(){this.props.onPrefixClick();}.bind(this);this.$ReactComposerObjectTaggerComponent6=function(){this.props.taggerSource.sessionEnd();}.bind(this);this.$ReactComposerObjectTaggerComponent7=function(){setTimeout(function(){this.props.taggerSource.sessionStart();}.bind(this),0);}.bind(this);this.$ReactComposerObjectTaggerComponent8=function(q,r){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(q.map(function(s){return s.getUniqueID();}));}.bind(this);this.$ReactComposerObjectTaggerComponent9=function(){this.props.taggerSource.reportRequestID(this.state.query);}.bind(this);this.focusInput=function(){var q=this.refs.objectTypeahead;if(q)q.focusInput&&q.focusInput();}.bind(this);this.$ReactComposerObjectTaggerComponent10=function(){var q={};q.taggerViewStyle=this.props.taggerViewStyle;q.customIcon=this.props.action.getAuxiliaryData().icon;return Object.assign({},c('ReactComposerObjectTaggerPresenter'),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:q});}.bind(this);};f.exports=n;}),null);
__d('ReactComposerObjectTaggerContainer.react',['ReactComposerObjectTaggerComponent.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTaggerViewStyles','React','emptyFunction'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerObjectTaggerContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],propTypes:{action:h.object.isRequired,autoFocus:h.bool,onClear:h.func.isRequired,onEmptyBackspace:h.func.isRequired,onPrefixClick:h.func.isRequired,onSelect:h.func.isRequired,object:h.object,taggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function j(){return {autoFocus:true,onClear:c('emptyFunction'),onEmptyBackspace:c('emptyFunction'),onPrefixClick:c('emptyFunction'),onSelect:c('emptyFunction'),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};},statics:{calculateState:function j(k,l){var m=c('ReactComposerTaggerStore').getTaggerSource(k,c('ReactComposerTaggerType').OG);return {taggerSource:m};}},render:function j(){return (c('React').createElement(c('ReactComposerObjectTaggerComponent.react'),babelHelpers['extends']({ref:'objectTagger'},this.props,{taggerSource:this.state.taggerSource})));},focusInput:function j(){var k=this.refs.objectTagger;k&&k.focusInput();}});f.exports=i;}),null);
__d('ReactComposerActivityTaggerComponent.react',['ReactComposerActionTaggerComponent.react','ReactComposerObjectTaggerContainer.react','ReactComposerTaggerViewStyles','DummySearchSource','React','WebAsyncSearchSourceWithMetrics','emptyFunction'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={action:this.props.taggerData.action,object:this.props.taggerData.object},this.$ReactComposerActivityTaggerComponent3=function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(q,null));this.setState({action:q});}.bind(this),this.$ReactComposerActivityTaggerComponent2=function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(this.state.action,q));this.setState({object:q});}.bind(this),this.$ReactComposerActivityTaggerComponent1=function(){this.props.onSelect&&this.props.onSelect(this.getTaggerData(null,null));this.setState({action:null,object:null});}.bind(this),this.getTaggerData=function(q,r){var s=this.props.taggerData;s.action=q;s.object=r;return s;}.bind(this),m;}k.prototype.componentDidUpdate=function(){'use strict';if(this.state.action&&!this.state.object){var l=this.refs.objectTagger;l&&l.focusInput();}};k.prototype.componentWillUnmount=function(){'use strict';if(this.state.action&&!this.state.object)this.$ReactComposerActivityTaggerComponent1();};k.prototype.render=function(){'use strict';if(this.state.action)return c('React').createElement(c('ReactComposerObjectTaggerContainer.react'),{ref:'objectTagger',action:this.state.action,actionTypeIDsWithNoFreeForm:this.props.actionTypeIDsWithNoFreeForm,autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,object:this.state.object,onClear:this.$ReactComposerActivityTaggerComponent1,onEmptyBackspace:this.$ReactComposerActivityTaggerComponent1,onPrefixClick:this.$ReactComposerActivityTaggerComponent1,onSelect:this.$ReactComposerActivityTaggerComponent2,placeID:this.props.placeID,taggerViewStyle:this.props.objectTaggerViewStyle});return c('React').createElement(c('ReactComposerActionTaggerComponent.react'),{autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,onSelect:this.$ReactComposerActivityTaggerComponent3,placeID:this.props.placeID,taggerSource:this.props.taggerSource,taggerViewStyle:this.props.actionTaggerViewStyle});};k.propTypes={actionTypeIDsWithNoFreeForm:j.object.isRequired,actorID:j.string.isRequired,autoFocus:j.bool,placeID:j.string,taggerData:j.object.isRequired,taggerSource:j.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired,onSelect:j.func.isRequired,actionTaggerViewStyle:j.shape(c('ReactComposerTaggerViewStyles').Shape),objectTaggerViewStyle:j.shape(c('ReactComposerTaggerViewStyles').Shape)};k.defaultProps={actionTypeIDsWithNoFreeForm:{},autoFocus:true,taggerData:{},taggerSource:new (c('DummySearchSource'))(),onSelect:c('emptyFunction'),actionTaggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT,objectTaggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};f.exports=k;}),null);
__d('ReactComposerActivityTaggerContainer.react',['ReactComposerActivityTaggerComponent.react','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerLocationAttachmentActions','ReactComposerLoggingName','ReactComposerMinutiaeAttachmentActions','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','ReactComposerTaggerViewStyles','ReactComposerTypeaheadSearchSourceConfig','ReactComposerTypeaheadSearchSourceType','BasicTypeaheadLoggerJSConstants','Map','MinutiaeVerbs','React','WebAsyncSearchSourceWithMetrics','getObjectValues'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerActivityTaggerContainer',_actionTypeSearchSources:new (c('Map'))(),_objectSearchSources:new (c('Map'))(),_searchSourceConfig:null,mixins:[c('ReactComposerTaggerContainerMixin')],statics:{taggerID:c('ReactComposerTaggerType').ACTIVITY,loggingName:c('ReactComposerLoggingName').MINUTIAE_TAGGER,taggerComponent:c('ReactComposerActivityTaggerComponent.react'),enableHideOnEscape:true},propTypes:{actionTypeIDsToPrefetch:h.array.isRequired,actionTypeIDsWithNoFreeForm:h.object.isRequired,isPersonalTimeline:h.bool,rankVerbs:h.bool,placeID:h.string,typeaheadLoggerEventName:h.oneOf(c('getObjectValues')(c('BasicTypeaheadLoggerJSConstants').EventNames)).isRequired,actionTaggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape),objectTaggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function j(){return {actionTypeIDsToPrefetch:[],actionTypeIDsWithNoFreeForm:{},isPersonalTimeline:false,placeID:null,rankVerbs:false,actionTaggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT,objectTaggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};},getInitialState:function j(){return {hasDoneInitialObjectPrefetch:false};},componentWillMount:function j(){this._searchSourceConfig=c('ReactComposerTypeaheadSearchSourceConfig')[c('ReactComposerTypeaheadSearchSourceType').ACTIVITY];this._updateActionTypeSearchSource(this.props.placeID);this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData);},componentWillReceiveProps:function j(k){if(k.placeID!==this.props.placeID){this._updateActionTypeSearchSource(k.placeID);this._prefetchObjectSearchSources(k.placeID);}},componentWillUpdate:function j(k,l){if(!this.state.isSelected&&l.isSelected){var m=this._actionTypeSearchSources.get(this.props.placeID).getTypeaheadSessionID();this._createAndBootstrapActionTypeSearchSource(this.props.placeID,{sid:m});var n=this.state.hasDoneInitialObjectPrefetch||l.hasDoneInitialObjectPrefetch;if(!n)this._prefetchObjectSearchSources(this.props.placeID);}},_suppressUpdateLogging:function j(k){return k.action&&!k.object;},__onTaggerDataChanged:function j(k){if(k.action){this._updateObjectSearchSource(k.action.getUniqueID());if(!k.object){var l=this._objectSearchSources.get(k.action.getUniqueID()).getTypeaheadSessionID();this._createAndBootstrapObjectSearchSource(k.action.getUniqueID(),this.props.placeID,{sid:l});}}if(k.action&&k.object){c('ReactComposerTaggerActions').deselectCurrentTagger(this.context.composerID,this.constructor.loggingName);var m=this._shouldFetchMinutiaeAttachment(k.action,k.object);if(m){if(k.action.getUniqueID()==c('MinutiaeVerbs').COMPOSER_TRAVELS.toString()){c('ReactComposerLocationAttachmentActions').setMinutiaeActionContext(this.context.composerID,k.object.getUniqueID(),!!this.props.isPersonalTimeline);}else c('ReactComposerLocationAttachmentActions').setMinutiaeActionContext(this.context.composerID,null,!!this.props.isPersonalTimeline);c('ReactComposerMinutiaeAttachmentActions').fetchMinutiaeAttachment(this.context.composerID,k.action.getUniqueID(),k.object.getUniqueID(),this.context.targetID,!!this.props.isPersonalTimeline);}}else c('ReactComposerMinutiaeAttachmentActions').setMarkup(this.context.composerID,null);},_shouldFetchMinutiaeAttachment:function j(k,l){var m=c('ReactComposerAttachmentStore').getIsAttachmentSelected(this.context.composerID,c('ReactComposerAttachmentType').STATUS);if(!m)return false;if(l.getAuxiliaryData().isRegexEntry)return false;return true;},_updateActionTypeSearchSource:function j(k){var l=null;if(this._actionTypeSearchSources.has(k)){l=this._actionTypeSearchSources.get(k);}else{l=this._createAndBootstrapActionTypeSearchSource(k,{is_prefetching:true});this._actionTypeSearchSources.set(k,l);}c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').ACTIVITY,l);},_createAndBootstrapActionTypeSearchSource:function j(k,l){var m='/ajax/metacomposer/attachment/og/typeahead/bootstrap/action_type_loader',n={place_id:k,rank_verbs:this.props.rankVerbs,viewer:this.props.actorID},o={getAllForEmptyQuery:true,bootstrapRequests:[{uri:m,data:Object.assign({},n)}],queryRequests:[],auxiliaryFields:this._searchSourceConfig.action&&this._searchSourceConfig.action.auxiliaryFields};if(this.props.rankVerbs)o.queryRequests=[{uri:m,data:Object.assign({},n)}];var p={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:c('BasicTypeaheadLoggerJSConstants').MinutiaeComposerVersions.REACT,at_id:c('MinutiaeVerbs').COMPOSER_SELECTS_VERB},q=new (c('WebAsyncSearchSourceWithMetrics'))(o,p),r=q.getTypeaheadSessionID();q.setRequestData(l);q.bootstrap();q.setRequestData({sid:r});return q;},_prefetchObjectSearchSources:function j(k){var l=this.props.actionTypeIDsToPrefetch,m=new (c('Map'))();l.forEach(function(n){var o=this._createAndBootstrapObjectSearchSource(n,k,{is_prefetching:true});m.set(n,o);}.bind(this));this._objectSearchSources=m;this.setState({hasDoneInitialObjectPrefetch:true});},_updateObjectSearchSource:function j(k){var l=null;if(this._objectSearchSources.has(k)){l=this._objectSearchSources.get(k);}else{l=this._createAndBootstrapObjectSearchSource(k,this.props.placeID,{is_prefetching:false});this._objectSearchSources.set(k,l);}c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').OG,l);},_createAndBootstrapObjectSearchSource:function j(k,l,m){var n='/ajax/metacomposer/attachment/og/typeahead/query/object_loader',o={at_id:k,place_id:l,viewer:this.props.actorID},p={getAllForEmptyQuery:true,bootstrapRequests:[{uri:n,data:Object.assign({},o,{is_bootstrap:true})}],queryRequests:[{uri:n,data:Object.assign({},o,{is_bootstrap:false})}],auxiliaryFields:this._searchSourceConfig.object&&this._searchSourceConfig.object.auxiliaryFields},q={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:c('BasicTypeaheadLoggerJSConstants').MinutiaeComposerVersions.REACT,at_id:k},r=new (c('WebAsyncSearchSourceWithMetrics'))(p,q),s=r.getTypeaheadSessionID();r.setRequestData(m);r.bootstrap();r.setRequestData({sid:s});return r;}});f.exports=i;}),null);
__d('ReactComposerDraftActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({SET_DRAFT_DATA:null},'ReactComposerDraftActionType');}),null);
__d('ReactComposerDraftStore',['ReactComposerDraftActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {prefillConfig:null};},function(l){switch(l.type){case c('ReactComposerDraftActionType').SET_DRAFT_DATA:k&&k.$ReactComposerDraftStore1(l);break;}});k=this;}j.prototype.getTheDraft=function(k){'use strict';return this.getComposerData(k).prefillConfig;};j.prototype.$ReactComposerDraftStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','prefillConfig']),m=l[0],n=l[1],o=this.getComposerData(m);o.prefillConfig=n;this.emitChange(k.composerID);};f.exports=new j();}),null);
__d('ReactComposerDraftActions',['ReactComposerDispatcher','ReactComposerDraftActionType','ReactComposerPrefillConfig','ReactComposerDraftStore'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerDraftStore');var h={setDraftData:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerDraftActionType').SET_DRAFT_DATA,prefillConfig:k});}};f.exports=h;}),null);
__d('ReactComposerDraftUtils',['Base64'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='composerLocalDraft/',i={createUserSpecificStorageName:function j(k){return h+k;},encode:function j(k){return c('Base64').encodeObject(k);},decode:function j(k){return c('Base64').decodeObject(k);}};f.exports=i;}),null);
__d('ReactComposerDraftRetrieve',['fbt','ReactComposerDraftActions','ComposerDraftTypedLogger','ReactComposerDraftUtils','ReactComposerTaggerType','SearchableEntry','WebStorage'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=1000*60*60,j=72*i,k={hasDraft:function l(m){try{var o=this._getDraft(m);return this._isNotExpired(o.draftTime);}catch(n){return false;}},retrieveDraft:function l(m,n){try{var p=this._getDraft(m);if(p&&p.prefillConfig&&p.draftTime&&this._isNotExpired(p.draftTime)){this._convertObjectToSearchableEntry(p.prefillConfig.taggersData);c('ReactComposerDraftActions').setDraftData(n,p.prefillConfig);}else this._deleteDraft(m);}catch(o){var q=h._("Sorry, we are unable to retrieve your draft.");alert(q);new (c('ComposerDraftTypedLogger'))().setEventType('error_retrieve_draft').log();}},getDraft:function l(m){try{var o=this._getDraft(m);if(o&&o.prefillConfig&&o.draftTime&&this._isNotExpired(o.draftTime))return o;}catch(n){}return null;},_getDraft:function l(m){var n=c('ReactComposerDraftUtils').createUserSpecificStorageName(m),o=c('WebStorage').getLocalStorage(),p=o.getItem(n);return p?c('ReactComposerDraftUtils').decode(p):null;},_deleteDraft:function l(m){var n=c('ReactComposerDraftUtils').createUserSpecificStorageName(m),o=c('WebStorage').getLocalStorage();o.removeItem(n);},_isNotExpired:function l(m){return Date.now()-m<j;},_convertObjectToSearchableEntry:function l(m){if(m[c('ReactComposerTaggerType').ACTIVITY].action&&m[c('ReactComposerTaggerType').ACTIVITY].object){m[c('ReactComposerTaggerType').ACTIVITY].action=new (c('SearchableEntry'))(m[c('ReactComposerTaggerType').ACTIVITY].action);m[c('ReactComposerTaggerType').ACTIVITY].object=new (c('SearchableEntry'))(m[c('ReactComposerTaggerType').ACTIVITY].object);}if(m[c('ReactComposerTaggerType').LOCATION].place)m[c('ReactComposerTaggerType').LOCATION].place=new (c('SearchableEntry'))(m[c('ReactComposerTaggerType').LOCATION].place);m[c('ReactComposerTaggerType').PEOPLE].forEach(function(n,o,p){p[o]=new (c('SearchableEntry'))(n);});}};f.exports=k;}),null);
__d('ReactComposerDraftSave',['fbt','ReactComposerAttachmentStore','ComposerDraftTypedLogger','ReactComposerDraftUtils','ReactComposerMediaUploadType','ReactComposerMediaUploadStore','ReactComposerMultilingualStatusStore','ReactComposerPhotoStore','ReactComposerPhotoUploadState','ReactComposerPrefillMentionsInput','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTopicFeedsTaggerStore','WebStorage'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={getPrefillConfig:function j(k,l){return {mentionsInput:{textWithEntities:this._getTextWithEntitiesData(k),focusedOnLoad:true},selectedAttachment:c('ReactComposerAttachmentStore').getSelectedAttachmentID(k),shouldActivateSelectedAttachment:true,taggersData:this._getTaggersData(k),mediasData:this._getMediaData(k),attachmentPreviewData:this._getAttachmentPreviewData(k),topicFeedTags:c('ReactComposerTopicFeedsTaggerStore').getTaggedTopics(k).toArray(),multilingualData:this._getMultilingualData(k)};},saveAsDraft:function j(k,l){var m=this.getPrefillConfig(k,l),n={draftTime:Date.now(),prefillConfig:m},o=c('WebStorage').getLocalStorage();try{var q=c('WebStorage').setItemGuarded(o,c('ReactComposerDraftUtils').createUserSpecificStorageName(l),c('ReactComposerDraftUtils').encode(n));if(q)throw q;}catch(p){var r=h._("We are unable to save your post as a draft. If you wish to post this later, you will have to start the post over again.");alert(r);new (c('ComposerDraftTypedLogger'))().setEventType('error_save_draft').log();}},_getMediaData:function j(k){var l=[],m=c('ReactComposerMediaUploadStore').getUploads(k),n=c('ReactComposerPhotoStore').getPhotos(k);m.forEach(function(o){if(o.state==c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE)if(o.mediaType==c('ReactComposerMediaUploadType').VIDEO){l.push({photoID:o.photoID,uploadID:o.photoID,filename:o.filename,mediaType:o.mediaType,fileURL:o.fileURL,thumbSrc:o.thumbSrc,cubestripURI:o.cubestripURI});}else if(o.mediaType==c('ReactComposerMediaUploadType').PHOTO){l.push({photoID:o.photoID,uploadID:o.photoID,filename:o.filename,mediaType:o.mediaType,fileURL:null,thumbSrc:n.get(o.photoID).thumbSrc,cubestripURI:n.get(o.photoID).cubestripURI});}else throw new Error('invalid type');});return l;},_getTextWithEntitiesData:function j(k){var l=c('ReactComposerStatusStore').getComposerData(k),m=l.editorState?c('ReactComposerPrefillMentionsInput').getMentionsFromEditorState(l.editorState):[];return {aggregatedranges:[],ranges:m,text:c('ReactComposerStatusStore').getMessageText(k)};},_getAttachmentPreviewData:function j(k){var l=c('ReactComposerScrapedAttachmentStore').getAttachmentConfig(k);return l?{scrapedURL:l.params.url}:null;},_getMultilingualData:function j(k){var l=[],m=c('ReactComposerMultilingualStatusStore').getLanguageDialects(k),n=c('ReactComposerMultilingualStatusStore').getMessages(k);if(m)for(var o=0;o<m.length;o++)l.push({dialect:m[o],message:n[o]});return {multilingualStatuses:l,specifiedDialect:c('ReactComposerMultilingualStatusStore').getSpecifiedPostLanguage(k)};},_getTaggersData:function j(k){var l=c('ReactComposerTaggerStore').getTaggersData(k),m={};m[c('ReactComposerTaggerType').ACTIVITY]={action:l[c('ReactComposerTaggerType').ACTIVITY].action?l[c('ReactComposerTaggerType').ACTIVITY].action.toPlainObject():null,object:l[c('ReactComposerTaggerType').ACTIVITY].object?l[c('ReactComposerTaggerType').ACTIVITY].object.toPlainObject():null};m[c('ReactComposerTaggerType').LOCATION]={implicitLocation:l[c('ReactComposerTaggerType').LOCATION].implicitLocation,place:l[c('ReactComposerTaggerType').LOCATION].place?l[c('ReactComposerTaggerType').LOCATION].place.toPlainObject():null};var n=[];l[c('ReactComposerTaggerType').PEOPLE].forEach(function(o){n.push(o.toPlainObject());});m[c('ReactComposerTaggerType').PEOPLE]=n;return m;}};f.exports=i;}),null);
__d('ReactComposerDraftAutosaveContainer.react',['ReactComposerDraftRetrieve','ReactComposerDraftSave','React','ReactComposerContextMixin'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('ReactComposerContextMixin').contextTypes,k=1000;h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerDraftAutosaveContainer1=null,n;}l.prototype.componentWillMount=function(){'use strict';c('ReactComposerDraftRetrieve').hasDraft(this.context.actorID);};l.prototype.componentDidMount=function(){'use strict';this.$ReactComposerDraftAutosaveContainer1=setInterval(function(){c('ReactComposerDraftSave').saveAsDraft(this.context.composerID,this.context.actorID);}.bind(this),k);};l.prototype.componentWillUnmount=function(){'use strict';if(this.$ReactComposerDraftAutosaveContainer1!==null)clearInterval(this.$ReactComposerDraftAutosaveContainer1);};l.prototype.shouldComponentUpdate=function(){'use strict';return false;};l.prototype.render=function(){'use strict';return null;};l.contextTypes=j;f.exports=l;}),null);
__d('ReactComposerDraftClearButton.react',['cx','fbt','React','Link.react'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerDraftClearButton',PropTypes:{onClick:j.func.isRequired},render:function l(){return (c('React').createElement(c('Link.react'),{className:"_1d0-",onClick:this.props.onClick},i._("Clear draft")));}});f.exports=k;}),null);
__d('ReactComposerDraftDelete',['ReactComposerDraftUtils','WebStorage'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={deleteDraft:function i(j){var k=c('WebStorage').getLocalStorage();if(k)k.removeItem(c('ReactComposerDraftUtils').createUserSpecificStorageName(j));}};f.exports=h;}),null);
__d('ReactComposerDraftClearButtonContainer.react',['ReactComposerActions','ReactComposerContextMixin','ReactComposerDraftClearButton.react','ReactComposerDraftDelete','ReactComposerDraftStore','ComposerDraftTypedLogger','ReactComposerPropsAndStoreBasedStateMixin','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerDraftClearButtonContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerDraftStore'))],statics:{calculateState:function i(j){return {showClearButton:c('ReactComposerDraftStore').getTheDraft(j)};}},render:function i(){return this.state.showClearButton?c('React').createElement(c('ReactComposerDraftClearButton.react'),{onClick:this._clearDraft}):null;},_clearDraft:function i(){c('ReactComposerDraftDelete').deleteDraft(this.context.actorID);c('ReactComposerActions').reset(this.context.composerID);new (c('ComposerDraftTypedLogger'))().setEventType('clear_button_clicked').log();}});f.exports=h;}),null);
__d('ReactComposerDraftSaveButton.react',['ix','cx','fbt','Image.react','ReactComponentWithPureRenderMixin','React','Tooltip.react','XUIButton.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'ReactComposerDraftSaveButton',mixins:[c('ReactComponentWithPureRenderMixin')],PropTypes:{onClick:k.func.isRequired,disabled:k.bool.isRequired,active:k.bool.isRequired},render:function m(){var n=this.props.active?h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/draft-dot_16_fig-blue.png"):h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/draft-dot_16_fig-light-30.png"),o=this.props.disabled?j._("Saved"):j._("Save draft");return (c('React').createElement(c('Tooltip.react'),{tooltip:o},c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({image:c('React').createElement(c('Image.react'),{src:n}),className:"_5ndo"},this.props))));}});f.exports=l;}),null);
__d('ReactComposerDraftSaveButtonUtils',['ReactComposerDraftRetrieve','ReactComposerDraftSave'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={isComposerSaved:function i(j,k){var l=c('ReactComposerDraftRetrieve').getDraft(k),m=l&&l.prefillConfig,n=!!m&&h.serializeObject(m),o=c('ReactComposerDraftSave').getPrefillConfig(j,k),p=!!o&&h.serializeObject(o);return n===p;},serializeObject:function i(j){var k=h.sortObjectKeys(j);return JSON.stringify(k);},sortObjectKeys:function i(j){var k={},l=Object.keys(j).sort();l.forEach(function(m){k[m]=j[m]!==null&&typeof j[m]==='object'?h.sortObjectKeys(j[m]):j[m];});return k;}};f.exports=h;}),null);
__d('ReactComposerDraftSaveButtonContainer.react',['ReactComposerContextMixin','ReactComposerDraftSave','ReactComposerDraftSaveButton.react','ReactComposerDraftSaveButtonUtils','ComposerDraftTypedLogger','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=100,i=c('React').createClass({displayName:'ReactComposerDraftSaveButtonContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],_checkSavedTimer:null,getInitialState:function j(){return {isSaved:false,isActive:false};},componentDidMount:function j(){this._checkSavedTimer=setInterval(function(){var k=c('ReactComposerDraftSaveButtonUtils').isComposerSaved(this.context.composerID,this.context.actorID);if(k!==this.state.isSaved)this.setState({isSaved:k});}.bind(this),h);},componentWillUnmount:function j(){this._checkSavedTimer&&clearInterval(this._checkSavedTimer);},render:function j(){return (c('React').createElement(c('ReactComposerDraftSaveButton.react'),{disabled:this.state.isSaved,active:this.state.isActive,onClick:this._saveDraft,onMouseDown:this._startActive,onMouseUp:this._endActive,onMouseLeave:this._endActive}));},_saveDraft:function j(){c('ReactComposerDraftSave').saveAsDraft(this.context.composerID,this.context.actorID);new (c('ComposerDraftTypedLogger'))().setEventType('save_button_clicked').log();},_startActive:function j(){this.setState({isActive:true});},_endActive:function j(){this.setState({isActive:false});}});f.exports=i;}),null);
__d('ReactComposerDraftToggleSwitch.react',['cx','fbt','ReactComponentWithPureRenderMixin','React','FBToggleSwitch.react'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerDraftToggleSwitch',mixins:[c('ReactComponentWithPureRenderMixin')],PropTypes:{onToggle:j.func.isRequired,isAutosaving:j.bool.isRequired},render:function l(){var m=this.props.isAutosaving?i._("Don't save drafts"):i._("Save drafts");return (c('React').createElement('div',{className:"_13ue"},c('React').createElement(c('FBToggleSwitch.react'),{className:"_13ug",checked:this.props.isAutosaving,onToggle:this.props.onToggle,tooltip:m})));}});f.exports=k;}),null);
__d('ReactComposerDraftToggleUtils',['ReactComposerActions','ReactComposerDraftDelete','ReactComposerDraftRetrieve','ReactComposerDraftSave','ReactComposerEvents','Arbiter'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=1000,i={deleteDraft:function j(k){c('ReactComposerDraftDelete').deleteDraft(k);},hasDraft:function j(k){return c('ReactComposerDraftRetrieve').hasDraft(k);},setupDraftUpdate:function j(k,l){return setInterval(function(){return c('ReactComposerDraftSave').saveAsDraft(k,l);},h);},setupDraftModeHandler:function j(k,l){return c('Arbiter').subscribe(c('ReactComposerEvents').SET_DRAFT_MODE+k,function(){c('ReactComposerDraftSave').saveAsDraft(k,l);c('ReactComposerActions').reset(k);});}};f.exports=i;}),null);
__d('ReactComposerDraftToggleContainer.react',['ReactComposerContextMixin','ReactComposerDraftToggleSwitch.react','ReactComposerDraftToggleUtils','ComposerDraftTypedLogger','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerDraftToggleContainer',_draftModeHandler:undefined,_draftUpdate:0,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],getInitialState:function i(){return {isAutosaving:c('ReactComposerDraftToggleUtils').hasDraft(this.context.actorID)};},componentWillMount:function i(){this.state.isAutosaving&&this._setupDraftModeHandler();},componentWillUnmount:function i(){this._cleanUp();},render:function i(){return (c('React').createElement(c('ReactComposerDraftToggleSwitch.react'),{onToggle:this._handleToggle,isAutosaving:this.state.isAutosaving}));},_disableAutosave:function i(){c('ReactComposerDraftToggleUtils').deleteDraft(this.context.actorID);this._cleanUp();this.setState({isAutosaving:false});new (c('ComposerDraftTypedLogger'))().setEventType('autosave_disabled').log();},_cleanUp:function i(){clearInterval(this._draftUpdate);this._draftModeHandler&&this._draftModeHandler.unsubscribe();this._draftModeHandler=null;},_enableAutosave:function i(){this._setupDraftModeHandler();this.setState({isAutosaving:true});new (c('ComposerDraftTypedLogger'))().setEventType('autosave_enabled').log();},_setupDraftModeHandler:function i(){this._draftUpdate=c('ReactComposerDraftToggleUtils').setupDraftUpdate(this.context.composerID,this.context.actorID);this._draftModeHandler=c('ReactComposerDraftToggleUtils').setupDraftModeHandler(this.context.composerID,this.context.actorID);},_handleToggle:function i(j){if(j){this._enableAutosave();}else this._disableAutosave();}});f.exports=h;}),null);
__d('ReactComposerImplicitLocationComponent.react',['cx','React','XUICloseButton.react','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerImplicitLocationComponent',propTypes:{caption:i.string.isRequired,hasExplicitLocation:i.bool,onClear:i.func},defaultProps:{onClear:c('emptyFunction')},render:function k(){if(!this.props.caption)return c('React').createElement('noscript',null);var l=this.props.hasExplicitLocation?null:c('React').createElement(c('XUICloseButton.react'),{className:"_3s32",size:'small',onClick:this._onClear}),m="_3s33"+(this.props.hasExplicitLocation?' '+"_3s34":'');return (c('React').createElement('span',{className:m},c('React').createElement('span',null,this.props.caption.split(',')[0]),l));},_onClear:function k(event){event.stopPropagation();this.props.onClear&&this.props.onClear();}});f.exports=j;}),null);
__d('ReactComposerImplicitLocationContainer.react',['ReactComposerImplicitLocationComponent.react','ReactComposerLoggingName','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','AsyncRequest','URI','React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerImplicitLocationContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],statics:{calculateState:function i(j,k){var l=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').LOCATION)||{},m=l.implicitLocation||{};return {caption:m.citystring,hasExplicitLocation:!!l.place};}},render:function i(){if(!this.state.caption)return c('React').createElement('noscript',null);return (c('React').createElement(c('ReactComposerImplicitLocationComponent.react'),babelHelpers['extends']({},this.state,{onClear:this._onClear})));},_onClear:function i(){var j=c('ReactComposerTaggerStore').getTaggerData(this.context.composerID,c('ReactComposerTaggerType').LOCATION)||{};j.implicitLocation=null;c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,c('ReactComposerLoggingName').LOCATION_TAGGER,c('ReactComposerTaggerType').LOCATION,j);var k=new (c('URI'))('/ajax/places/toggle_location_sharing').addQueryData({disable:1,session_id:j.sessionID});new (c('AsyncRequest'))(k).send();}});f.exports=h;}),null);
__d('ReactComposerLocationTaggerButton.react',['cx','fbt','ReactComposerLoggingName','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'ReactComposerLocationTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin')],statics:{taggerID:c('ReactComposerTaggerType').LOCATION,loggingName:c('ReactComposerLoggingName').LOCATION_TAGGER},getTitle:function k(){return i._("Tag a location");},getTooltip:function k(){return i._(["Check In","73e61dd402fed7e38e0f2c041b027a52"]);},getClassName:function k(){return "_3gqo";}});f.exports=j;}),null);
__d('ReactComposerLocationSearchSource',['ReactComposerTypeaheadSearchSourceConfig','ReactComposerTypeaheadSearchSourceType','SearchableEntry','WebAsyncSearchSourceWithMetrics'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){var l=c('ReactComposerTypeaheadSearchSourceConfig')[c('ReactComposerTypeaheadSearchSourceType').LOCATION],m=Object.assign(l,j),n=Object.assign(l,i),l={bootstrapRequests:[{uri:'/ajax/places/typeahead',data:n}],getAllForEmptyQuery:true,queryRequests:[{uri:'/ajax/places/typeahead',data:m}],packageFn:function o(p){return p?new (c('SearchableEntry'))(p):null;}};return new (c('WebAsyncSearchSourceWithMetrics'))(l,k);}f.exports=h;}),null);
__d('ReactComposerLocationTypeaheadComponent.react',['fbt','React','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','emptyFunction'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){'use strict';j.constructor.call(this,m);this.$ReactComposerLocationTypeaheadComponent9=function(){return Object.assign({},this.props.taggerData);}.bind(this);this.$ReactComposerLocationTypeaheadComponent8=function(o,event){this.props.taggerSource.reportSelect(o.getUniqueID(),o.getType(),o.getOrder(),!!event&&event.button>=0,this.state.query);this.props.taggerSource.sessionEnd();var p=this.$ReactComposerLocationTypeaheadComponent9();p.place=o;this.setState({query:o.getTitle()});this.props.onSelect&&this.props.onSelect(p);}.bind(this);this.$ReactComposerLocationTypeaheadComponent3=function(event){this.setState({query:event.target.value});}.bind(this);this.$ReactComposerLocationTypeaheadComponent1=function(event){if(this.state.query===event.target.value)this.$ReactComposerLocationTypeaheadComponent10();}.bind(this);this.$ReactComposerLocationTypeaheadComponent4=function(){this.$ReactComposerLocationTypeaheadComponent10();this.setState({query:''});}.bind(this);this.$ReactComposerLocationTypeaheadComponent10=function(){var o=this.$ReactComposerLocationTypeaheadComponent9();o.place=null;if(!this.props.implicitLocationEnabled)o.implicitLocation=null;this.props.onSelect&&this.props.onSelect(o);}.bind(this);this.$ReactComposerLocationTypeaheadComponent2=function(){this.props.taggerSource.sessionEnd();}.bind(this);this.$ReactComposerLocationTypeaheadComponent6=function(){this.props.taggerSource.sessionStart();}.bind(this);this.$ReactComposerLocationTypeaheadComponent5=function(o,p){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(o.map(function(q){return q.getUniqueID();}));}.bind(this);this.$ReactComposerLocationTypeaheadComponent7=function(){this.props.taggerSource.reportRequestID(this.state.query);}.bind(this);m.taggerSource.sessionStart();var n={};if(m.defaultLocation){n.query=m.defaultLocation;}else n.query=m.taggerData.place?m.taggerData.place.getTitle():'';this.state=n;}l.prototype.componentWillUnmount=function(){'use strict';this.props.taggerSource.sessionEnd();};l.prototype.render=function(){'use strict';return c('React').createElement(c('XUITypeahead.react'),{className:this.props.className,clearable:true,focusedOnInit:this.props.autoFocus,highlightOnSelect:true,initialEntry:this.props.taggerData.place,onBackspace:this.$ReactComposerLocationTypeaheadComponent1,onBlur:this.$ReactComposerLocationTypeaheadComponent2,onChange:this.$ReactComposerLocationTypeaheadComponent3,onClear:this.$ReactComposerLocationTypeaheadComponent4,onEntriesFound:this.$ReactComposerLocationTypeaheadComponent5,onFocus:this.$ReactComposerLocationTypeaheadComponent6,onNoEntriesFound:this.$ReactComposerLocationTypeaheadComponent7,onSelectAttempt:this.$ReactComposerLocationTypeaheadComponent8,placeholder:this.props.placeholder,presenter:this.props.presenter,queryString:this.state.query,searchSource:this.props.taggerSource,selectedEntry:this.props.taggerData.place,showEntriesOnFocus:true,tallInput:false});};l.propTypes={autoFocus:k.bool,defaultLocation:k.string,implicitLocationEnabled:k.bool,onSelect:k.func,placeholder:k.string,presenter:k.object,taggerData:k.object.isRequired,taggerSource:k.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired};l.defaultProps={autoFocus:true,implicitLocationEnabled:false,onSelect:c('emptyFunction'),placeholder:h._("Where are you?"),taggerData:{}};f.exports=l;}),null);
__d('ReactComposerLocationTaggerComponent.react',['cx','fbt','ReactComposerLocationTypeaheadComponent.react','ReactComposerTaggerPresenter','ReactComposerTaggerViewStyles','Grid.react','React','WebAsyncSearchSourceWithMetrics'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerLocationTaggerComponent1=function(){var t={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},c('ReactComposerTaggerPresenter'),{layerPosition:this.props.layerPosition||undefined,extraRendererProps:t,maxEntries:15});}.bind(this),p;}n.prototype.render=function(){'use strict';return c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(l,{key:'prefix',className:"_5esm",role:'presentation'},i._("At")),c('React').createElement(l,{key:'tagger',className:"_5esw",role:'presentation'},c('React').createElement(c('ReactComposerLocationTypeaheadComponent.react'),babelHelpers['extends']({},this.props,{className:"_5esx _1wqz",presenter:this.$ReactComposerLocationTaggerComponent1()}))));};n.propTypes={autoFocus:m.bool,implicitLocationEnabled:m.bool,onSelect:m.func,placeholder:m.string,taggerData:m.object.isRequired,taggerSource:m.instanceOf(c('WebAsyncSearchSourceWithMetrics')).isRequired,taggerViewStyle:m.shape(c('ReactComposerTaggerViewStyles').Shape)};n.defaultProps={taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};f.exports=n;}),null);
__d('ReactComposerLocationTaggerContainer.react',['ReactComposerLocationSearchSource','ReactComposerLocationAttachmentActions','ReactComposerLocationAttachmentStore','ReactComposerLocationTaggerComponent.react','ReactComposerLoggingName','ReactComposerMinutiaeAttachmentActions','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','ReactComposerTaggerViewStyles','BasicTypeaheadLoggerJSConstants','MinutiaeVerbs','PlaceSearchConstants','React','areEqual','emptyFunction','getObjectValues'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('BasicTypeaheadLoggerJSConstants').EventNames,i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerLocationTaggerContainer',_taggerSourceInitialized:false,mixins:[c('ReactComposerTaggerContainerMixin')],propTypes:{hideGeoHubs:i.bool,implicitLocationEnabled:i.bool,mediaLocation:i.shape({latitude:i.number.isRequired,longitude:i.number.isRequired}),onSelect:i.func.isRequired,taggerConfig:i.object,taggerViewStyle:i.shape(c('ReactComposerTaggerViewStyles').Shape),typeaheadLoggerEventName:i.oneOf(c('getObjectValues')(h)).isRequired,typeaheadSearchSource:i.oneOf(c('getObjectValues')(c('PlaceSearchConstants'))).isRequired},getDefaultProps:function k(){return {hideGeoHubs:false,onSelect:c('emptyFunction'),taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};},componentWillMount:function k(){if(!this._taggerSourceInitialized){this._setNewSearchSource(this.props);this._taggerSourceInitialized=true;this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData);}},componentWillReceiveProps:function k(l){if(!c('areEqual')(l.mediaLocation,this.props.mediaLocation))this._setNewSearchSource(l);},statics:{taggerID:c('ReactComposerTaggerType').LOCATION,loggingName:c('ReactComposerLoggingName').LOCATION_TAGGER,taggerComponent:c('ReactComposerLocationTaggerComponent.react'),enableHideOnEscape:true},__onTaggerDataChanged:function k(l){var m=l.place&&l.place.getAuxiliaryData();if(m)l.implicitLocation={cityid:m.cityID,citypageid:m.cityPageID,citystring:m.cityName};var n=c('ReactComposerLocationAttachmentStore').getMinutiaeTaggedPlace(this.context.composerID),o=c('ReactComposerLocationAttachmentStore').getIsTimeline(this.context.composerID),p=function q(r,s,t){c('ReactComposerMinutiaeAttachmentActions').setExplicitLocation(r,t);if(n)c('ReactComposerMinutiaeAttachmentActions').fetchMinutiaeAttachment(r,c('MinutiaeVerbs').COMPOSER_TRAVELS.toString(),n,s,o);};if(l.place){p(this.context.composerID,this.context.targetID,l.place.getUniqueID());c('ReactComposerTaggerActions').deselectCurrentTagger(this.context.composerID,this.constructor.loggingName);c('ReactComposerLocationAttachmentActions').fetchLocationAttachment(this.context.composerID,l.place.getUniqueID(),this.context.targetID);}else{p(this.context.composerID,this.context.targetID,null);c('ReactComposerLocationAttachmentActions').setMarkup(this.context.composerID,null);}},_setNewSearchSource:function k(l){var m={latitude:(l.mediaLocation||{}).latitude,longitude:(l.mediaLocation||{}).longitude},n={hide_geo:l.hideGeoHubs,latitude:(l.mediaLocation||{}).latitude,longitude:(l.mediaLocation||{}).longitude},o={event_name:l.typeaheadLoggerEventName,event_specific_data:{context:'places_typeahead:'+l.typeaheadSearchSource,source:l.typeaheadSearchSource,ref:'ReactComposerLocationTypeaheadComponent.react'}},p=c('ReactComposerLocationSearchSource')(m,n,o);c('ReactComposerTaggerActions').setTaggerSource(this.context.composerID,c('ReactComposerTaggerType').LOCATION,p);}});f.exports=j;}),null);
__d('ReactComposerPeopleTaggerButton.react',['cx','fbt','ReactComposerLoggingName','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React','CurrentUser'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'ReactComposerPeopleTaggerButton',mixins:[c('ReactComposerTaggerButtonMixin')],statics:{taggerID:c('ReactComposerTaggerType').PEOPLE,loggingName:c('ReactComposerLoggingName').PEOPLE_TAGGER},getTitle:function k(){if(c('CurrentUser').isWorkUser())return i._("Tag coworkers");return i._("Tag people");},getTooltip:function k(){if(c('CurrentUser').isWorkUser())return i._("Tag coworkers in your post");return i._("Tag people in your post");},getClassName:function k(){return "_51y3";}});f.exports=j;}),null);
__d('ReactComposerPeopleTaggerComponent.react',['cx','fbt','ReactComposerPeopleTaggerTokenizerToken.react','ReactComposerTaggerPresenter','ReactComposerTaggerViewStyles','TaggingLimits','Grid.react','React','XUITokenizer.react','emptyFunction','CurrentUser'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerPeopleTaggerComponent1=function(t){var u=this.props.taggerData,v=t.getUniqueID(),w=u.some(function(x){return x.getUniqueID()===v;});if(w){return;}else u.push(t);this.props.onSelect&&this.props.onSelect(u);}.bind(this),this.$ReactComposerPeopleTaggerComponent2=function(t){var u=this.props.taggerData,v=u.indexOf(t);if(v==-1)return;u.splice(v,1);this.props.onPeopleTagRemove&&this.props.onPeopleTagRemove(t);this.props.onSelect&&this.props.onSelect(u);}.bind(this),this.$ReactComposerPeopleTaggerComponent3=function(){var t=this.props.taggerConfig&&this.props.taggerConfig.presenter?this.props.taggerConfig.presenter:c('ReactComposerTaggerPresenter'),u={};u.taggerViewStyle=this.props.taggerViewStyle;u.viewProps=this.props.taggerConfig&&this.props.taggerConfig.typeaheadViewProps;return Object.assign({},t,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:u,TokenRenderer:c('ReactComposerPeopleTaggerTokenizerToken.react')});}.bind(this),p;}n.prototype.render=function(){'use strict';var o={};if(this.props.actorID)o[this.props.actorID]=true;return c('React').createElement(c('Grid.react'),{cols:2,className:"_5esl",role:'presentation'},c('React').createElement(l,{key:'label',className:"_5esm",role:'presentation'},i._("With")),c('React').createElement(l,{key:'tokenizer',className:"_5esw",role:'presentation'},c('React').createElement(c('XUITokenizer.react'),babelHelpers['extends']({presenter:this.$ReactComposerPeopleTaggerComponent3(),focusedOnInit:this.props.autoFocus,excludedEntries:o,entries:this.props.taggerData,className:"_5esx _2fzs",placeholder:this.props.placeholder,searchSource:this.props.taggerSource,onAddEntryAttempt:this.$ReactComposerPeopleTaggerComponent1,onRemoveEntryAttempt:this.$ReactComposerPeopleTaggerComponent2,limit:c('TaggingLimits').MAX_WITH_TAGS},this.props))));};n.propTypes={actorID:m.string,autoFocus:m.bool,placeholder:m.string,taggerConfig:m.object,taggerData:m.array.isRequired,taggerSource:m.object.isRequired,onPeopleTagRemove:m.func,onSelect:m.func,taggerViewStyle:m.shape(c('ReactComposerTaggerViewStyles').Shape)};n.defaultProps=function(){var o=i._("Who are you with?");if(c('CurrentUser').isWorkUser())o=i._("Who do you want to tag?");return {autoFocus:true,onSelect:c('emptyFunction'),placeholder:o,taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT,taggerData:[]};}();f.exports=n;}),null);
__d('ReactComposerPeopleTaggerContainer.react',['ReactComposerLoggingName','ReactComposerPeopleTaggerComponent.react','ReactComposerPhotoActions','ReactComposerTaggerActions','ReactComposerTaggerContainerStateMixin','ReactComposerTaggerHideOnEscapeKeyPress.react','ReactComposerTaggerType','ReactComposerTaggerViewStyles','React'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerPeopleTaggerContainer',mixins:[c('ReactComposerTaggerContainerStateMixin')],propTypes:{actorID:h.string,taggerConfig:h.object,taggerViewStyle:h.shape(c('ReactComposerTaggerViewStyles').Shape)},getDefaultProps:function j(){return {taggerViewStyle:c('ReactComposerTaggerViewStyles').DEFAULT};},statics:{taggerID:c('ReactComposerTaggerType').PEOPLE},render:function j(){if(!this.state.isSelected)return c('React').createElement('noscript',null);return (c('React').createElement(c('ReactComposerTaggerHideOnEscapeKeyPress.react'),{shouldHideOnEscape:this.state.isSelected},c('React').createElement(c('ReactComposerPeopleTaggerComponent.react'),babelHelpers['extends']({},this.props,{autoFocus:this.state.autoFocus,onPeopleTagRemove:this._onPeopleTagRemove,onSelect:this._onTaggerDataChanged,taggerData:this.state.taggerData,taggerSource:this.state.taggerSource}))));},_onTaggerDataChanged:function j(k){c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,c('ReactComposerLoggingName').PEOPLE_TAGGER,c('ReactComposerTaggerType').PEOPLE,k);this.props.onSelect&&this.props.onSelect(k);},_onPeopleTagRemove:function j(k){c('ReactComposerPhotoActions').untagSubjectFromAllPhotos(this.context.composerID,k.getUniqueID());}});f.exports=i;}),null);
__d('ReactComposerPhotoTaggerButtonContainer.react',['cx','ReactComposerAttachmentStore','ReactComposerAttachmentType','ComposerEntryPointRef','ReactComposerLoggingName','ReactComposerMediaFilePickerController.react','ReactComposerMediaUploadType','ReactComposerPhotoTaggerButton.react','ReactComposerMediaUploadStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentStore','ComposerTargetData','ReactComposerVideoUploadStore','React','SimpleNUXMessage','SimpleNUXMessageTypes','VideoUploadConfig','QE'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerPhotoTaggerButtonContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'),c('ReactComposerMediaUploadStore'),c('ReactComposerScrapedAttachmentStore'))],propTypes:{customPhotoTaggerButton:i.any,disableFaceRecognition:i.bool.isRequired,mediaAcceptParam:i.shape({photos:i.string,both:i.string}),photoLimit:i.number.isRequired,targetData:i.instanceOf(c('ComposerTargetData')).isRequired,mediaConfig:i.object.isRequired},getDefaultProps:function k(){return {disableFaceRecognition:false};},statics:{calculateState:function k(l,m){var n=c('ReactComposerAttachmentStore').getIsAttachmentSelected(l,c('ReactComposerAttachmentType').MEDIA),o=c('ReactComposerMediaUploadStore').getUploadsOfType(l,c('ReactComposerMediaUploadType').PHOTO),p=!c('ReactComposerVideoUploadStore').getVideo(l)&&!c('ReactComposerScrapedAttachmentStore').hasAttachment(l)&&o.size<m.photoLimit,q=!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').MULTIMEDIA_ATTACHMENTS_NUX)&&c('VideoUploadConfig').showMultimediaNUX;return {hasData:!!o.size&&n,shown:p,uploadSize:o.size,multimediaNuxShown:q};}},render:function k(){if(!this.state.shown)return null;if(this.props.customPhotoTaggerButton){var l=this.props.customPhotoTaggerButton;return (c('React').createElement(l,babelHelpers['extends']({},this.props,this.state,{onClick:this._onClick})));}else return (c('React').createElement(c('ReactComposerMediaFilePickerController.react'),babelHelpers['extends']({},this.props,{loggingName:c('ReactComposerLoggingName').MEDIA_TAGGER,containerClassName:"_3xem _3xen",onClick:this._onClick}),c('React').createElement(c('ReactComposerPhotoTaggerButton.react'),{photoLimit:this.props.photoLimit,hasData:this.state.hasData,targetData:this.props.targetData,multimediaNuxShown:this.state.multimediaNuxShown,onNUXCloseButtonClick:this._onNUXCloseButtonClick})));},_onNUXCloseButtonClick:function k(){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').MULTIMEDIA_ATTACHMENTS_NUX);this.setState({multimediaNuxShown:false});},_onClick:function k(){this._onNUXCloseButtonClick();if(this.context.composerType===c('ComposerEntryPointRef').TIMELINE&&this.context.actorID!==this.context.targetID){c('QE').logExposure('entdirectedpost_multi_photos_universe');c('QE').logExposure('www_entdirectedphoto_with_multimedia');}}});f.exports=j;}),null);
__d('ReactComposerTaggerButtons.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_47gt"},this.props.children));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('ReactComposerTaggers.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_5f24"},this.props.children));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('ReactComposerStatusFooter.react',['cx','ReactComposerActivityTaggerButton.react','ReactComposerActivityTaggerContainer.react','ReactComposerAttachmentType','ReactComposerAudienceSelectorContainer.react','ReactComposerBootloaderPropTypes','ReactComposerConfig','ReactComposerContextMixin','ReactComposerDraftAutosaveContainer.react','ReactComposerDraftClearButtonContainer.react','ReactComposerDraftSaveButtonContainer.react','ReactComposerDraftToggleContainer.react','ReactComposerFooter.react','ReactComposerFooterActions.react','ReactComposerImplicitLocationContainer.react','ReactComposerLocationTaggerButton.react','ReactComposerLocationTaggerContainer.react','ReactComposerPeopleTaggerButton.react','ReactComposerPeopleTaggerContainer.react','ReactComposerPostButtonContainer.react','ReactComposerPhotoTaggerButtonContainer.react','ReactComposerTaggerButtons.react','ReactComposerTaggers.react','ReactComposerTaggerType','ReactComposerTaggerViewStyles','BasicTypeaheadLoggerJSConstants','BootloadedComponent.react','ComposerEntryPointRef','ComposerTargetData','JSResource','LeftRight.react','PlaceSearchConstants','React','ReactComponentWithPureRenderMixin','XUISpinner.react'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('BasicTypeaheadLoggerJSConstants').EventNames,j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerStatusFooter',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{additionalTaggers:j.arrayOf(j.shape({button:j.element.isRequired,container:j.element.isRequired})),additionalFooterActions:j.arrayOf(j.element),audienceXHP:j.instanceOf(HTMLElement),attachmentsConfig:j.object.isRequired,bootloader:c('ReactComposerBootloaderPropTypes'),config:c('ReactComposerConfig').isRequired,hasImplicitLocation:j.bool,isActive:j.bool.isRequired,isCameraIconEnabled:j.bool,locationTaggerPlaceholder:j.string,mediaAcceptParam:j.shape({photos:j.string,both:j.string}),mediaLocation:j.shape({latitude:j.number.isRequired,longitude:j.number.isRequired}),peopleTaggerPlaceholder:j.string,placeID:j.string,postButtonModule:j.func,taggersConfig:j.object,targetData:j.instanceOf(c('ComposerTargetData')).isRequired},getDefaultProps:function l(){return {isCameraIconEnabled:true};},render:function l(){var m=this.context.gks&&this.context.gks.isSproutsComposer,n=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],o=this.props.hasImplicitLocation?"_icv":'',p=n.footerBackground?n.footerBackground:this.props.config.showExpandedComposer?'white':'light-wash',q=m?this._renderSproutsList():null,r=this.props.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].feedOnlyPost,s=this.props.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].feedOnlyPost?c('React').createElement(r,null):null,t=!m&&this.props.isActive?this._getButtons():null;return (c('React').createElement('div',null,s,this._getTaggers(),q,c('React').createElement(c('ReactComposerFooter.react'),{background:p,className:o},c('React').createElement(c('LeftRight.react'),null,t,this._getFooterActions()))));},_getTaggers:function l(){var m=this.props.taggersConfig;if(!m)return null;var n=m[c('ReactComposerTaggerType').PEOPLE]&&m[c('ReactComposerTaggerType').PEOPLE].enabled?c('React').createElement(c('ReactComposerPeopleTaggerContainer.react'),{placeholder:this.props.peopleTaggerPlaceholder,showEntriesOnFocus:false,actorID:this.context.actorID,taggerConfig:m[c('ReactComposerTaggerType').PEOPLE]}):null,o=m[c('ReactComposerTaggerType').LOCATION]&&m[c('ReactComposerTaggerType').LOCATION].enabled?c('React').createElement(c('ReactComposerLocationTaggerContainer.react'),{implicitLocationEnabled:m[c('ReactComposerTaggerType').LOCATION].implicitLocationEnabled,mediaLocation:this.props.mediaLocation,placeholder:this.props.locationTaggerPlaceholder,taggerConfig:m[c('ReactComposerTaggerType').LOCATION],taggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE,typeaheadLoggerEventName:i.REACT_COMPOSER_LOCATION_TAGGER,typeaheadSearchSource:c('PlaceSearchConstants').SOURCE_W_COMPOSER}):null,p=this.context.composerType===c('ComposerEntryPointRef').TIMELINE,q=m[c('ReactComposerTaggerType').OG]&&m[c('ReactComposerTaggerType').OG].enabled?c('React').createElement(c('ReactComposerActivityTaggerContainer.react'),{actionTypeIDsWithNoFreeForm:m[c('ReactComposerTaggerType').OG].actionTypeIDsWithNoFreeForm,actorID:this.context.actorID,isPersonalTimeline:p,actionTaggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE,objectTaggerViewStyle:c('ReactComposerTaggerViewStyles').SCROLLABLE,placeID:this.props.placeID,actionTypeIDsToPrefetch:m[c('ReactComposerTaggerType').OG].actionTypeIDsToPrefetch,rankVerbs:m[c('ReactComposerTaggerType').OG].rankVerbs,typeaheadLoggerEventName:i.OGCOMPOSER_TAGGER}):null,r=m[c('ReactComposerTaggerType').BACKDATE]&&m[c('ReactComposerTaggerType').BACKDATE].enabled?c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerBackdateTaggerContainer.react').__setRef('ReactComposerStatusFooter.react'),bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),null)}):null,s=this._getSponsorTagger(),t=this.props.additionalTaggers?this.props.additionalTaggers.map(function(u){return u.container;}):null;return (c('React').createElement(c('ReactComposerTaggers.react'),null,n,o,q,r,s,t));},_renderSproutsList:function l(){var m=this.context.jsModules&&this.context.jsModules.ComposerSproutsListContainer;return (c('React').createElement(m,{config:this.props.config}));},_getButtons:function l(){var m=this.props.taggersConfig;if(!m)return null;var n=this.props.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],o=this.props.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],p=m[c('ReactComposerTaggerType').CAMERA]&&m[c('ReactComposerTaggerType').CAMERA].enabled&&this.props.isCameraIconEnabled?c('React').createElement(c('ReactComposerPhotoTaggerButtonContainer.react'),{customPhotoTaggerButton:n.customPhotoTaggerButton,disableFaceRecognition:o.disableFaceboxTagger,photoLimit:o.photoLimit,mediaAcceptParam:this.props.mediaAcceptParam,targetData:this.props.targetData,mediaConfig:o}):null,q=m[c('ReactComposerTaggerType').PEOPLE]&&m[c('ReactComposerTaggerType').PEOPLE].enabled?c('React').createElement(c('ReactComposerPeopleTaggerButton.react'),null):null,r=m[c('ReactComposerTaggerType').OG]&&m[c('ReactComposerTaggerType').OG].enabled?c('React').createElement(c('ReactComposerActivityTaggerButton.react'),null):null,s=m[c('ReactComposerTaggerType').LOCATION]&&m[c('ReactComposerTaggerType').LOCATION].enabled?c('React').createElement(c('ReactComposerLocationTaggerButton.react'),null,c('React').createElement(c('ReactComposerImplicitLocationContainer.react'),null)):null,t=m[c('ReactComposerTaggerType').BACKDATE]&&m[c('ReactComposerTaggerType').BACKDATE].enabled?c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerBackdateTaggerButton.react').__setRef('ReactComposerStatusFooter.react'),bootloadPlaceholder:c('React').createElement(c('XUISpinner.react'),null)}):null,u=this._getSponsorTaggerButton(),v=this.props.additionalTaggers?this.props.additionalTaggers.map(function(w){return w.button;}):null;return (c('React').createElement(c('ReactComposerTaggerButtons.react'),null,p,q,r,s,t,u,v));},_getFooterActions:function l(){var m=this.props.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],n=m.showClearDraftButton?c('React').createElement(c('ReactComposerDraftClearButtonContainer.react'),null):null,o=m.showSaveDraftButton?c('React').createElement(c('ReactComposerDraftSaveButtonContainer.react'),null):null,p=m.showToggleButton?c('React').createElement(c('ReactComposerDraftToggleContainer.react'),null):null,q=m.enableAutosave?c('React').createElement(c('ReactComposerDraftAutosaveContainer.react'),null):null,r=this.props.audienceXHP?c('React').createElement(c('ReactComposerAudienceSelectorContainer.react'),{audienceXHP:this.props.audienceXHP,viewerIsTarget:this.props.targetData.viewerIsTarget}):null,s=this.props.postButtonModule||c('ReactComposerPostButtonContainer.react'),t=c('React').createElement(s,{config:this.props.config});return (c('React').createElement(c('ReactComposerFooterActions.react'),null,n,o,p,q,this.props.additionalFooterActions,r,t));},_getSponsorTaggerButton:function l(){var m=this.props.taggersConfig;if(!m||!m[c('ReactComposerTaggerType').SPONSOR]||!m[c('ReactComposerTaggerType').SPONSOR].enabled)return null;var n=m[c('ReactComposerTaggerType').SPONSOR].button,o=m[c('ReactComposerTaggerType').SPONSOR].button?c('React').createElement(n,{key:'sponsor_button'}):null;return o;},_getSponsorTagger:function l(){var m=this.props.taggersConfig;if(!m||!m[c('ReactComposerTaggerType').SPONSOR]||!m[c('ReactComposerTaggerType').SPONSOR].enabled)return null;var n=m[c('ReactComposerTaggerType').SPONSOR].container,o=m[c('ReactComposerTaggerType').SPONSOR].container?c('React').createElement(n,{key:'sponsor_container',viewer:m[c('ReactComposerTaggerType').SPONSOR].viewer}):null;return o;}});f.exports=k;}),null);
__d('ReactComposerStatusFooterContainer.react',['ReactComposerAttachmentStore','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusFooter.react','ReactComposerTaggerStore','ReactComposerTaggerType','React','ReactComponentWithPureRenderMixin','SphericalPhotoConfig'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerStatusFooterContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'),c('ReactComposerTaggerStore'))],statics:{calculateState:function i(j,k){var l=c('ReactComposerAttachmentStore').isSelectedAttachmentActive(j),m=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').LOCATION),n=m&&m.implicitLocation&&!!m.implicitLocation.citystring,o=m&&m.place&&m.place.getUniqueID(),p=c('ReactComposerMediaUploadStore').getUploadsOfType(j,c('ReactComposerMediaUploadType').PHOTO),q=p.filter(function(r){return r.isSpherical!==false;}).size;return {isActive:l,hasImplicitLocation:n,mediaLocation:m?m.mediaLocation:null,placeID:o,sphericalPhotoUploadsCount:q};}},render:function i(){return (c('React').createElement(c('ReactComposerStatusFooter.react'),babelHelpers['extends']({},this.props,{isActive:this.state.isActive,hasImplicitLocation:this.state.hasImplicitLocation,mediaLocation:this.state.mediaLocation,placeID:this.state.placeID,sphericalPhotoUploadsCount:this.state.sphericalPhotoUploadsCount,isCameraIconEnabled:this.props.isCameraIconEnabled&&(c('SphericalPhotoConfig').www_spherical_photo_mmp||this.state.sphericalPhotoUploadsCount<1)})));}});f.exports=h;}),null);
__d('ShareDialogTagSummary.react',['cx','Arbiter','AsyncRequest','immutable','Parent','React','emptyFunction','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=true;i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={socialText:null},this.$ShareDialogTagSummary1=undefined,this.$ShareDialogTagSummary2=undefined,this.$ShareDialogTagSummary4=function(s){this.setState({socialText:s.getPayload().rendered});}.bind(this),this.$ShareDialogTagSummary5=function(s){var t=s.target;if(c('Parent').byClass(t,'withToken')){this.props.withTokenClick();}else if(c('Parent').byClass(t,'placeToken')){this.props.placeTokenClick();}else if(c('Parent').byClass(t,'og_composer_object')){this.props.ogObjectClick();}else if(!(c('Parent').byClass(t,'ogPickerIcon')))this.props.onTagSummaryClick();}.bind(this),this.$ShareDialogTagSummary3=function(s){if(this.$ShareDialogTagSummary2)this.$ShareDialogTagSummary2.abort();var t=s.taggerData,u=t.get('people'),v=t.get('place'),w=t.get('action'),x=t.get('actionIconID'),y=t.get('object'),z=t.get('products'),aa=u.filter(function(ea){return !this.props.peopleToExclude.has(ea.getUniqueID());}.bind(this));if(!(aa&&aa.length>0)&&!v&&!(w&&y)&&!(z&&z.length>0)){if(this.state.socialText)this.setState({socialText:null});return;}var ba={};if(aa)ba.people=aa.map(function(ea){return ea.getUniqueID();});if(v){ba.place=v.getTitle();ba.placeID=v.getUniqueID();}if(z)ba.productIDs=z.map(function(ea){return ea.getUniqueID();});if(w&&y){ba.actionID=w.getUniqueID();var ca=y.getUniqueID(),da=y.getTitle();if(!ca||ca===da){ba.objectStr=da;}else ba.objectID=ca;}if(x)ba.actionIconID=x;ba.iconPickerOpened=l!==true;this.$ShareDialogTagSummary2=new (c('AsyncRequest'))();this.$ShareDialogTagSummary2&&this.$ShareDialogTagSummary2.setURI('/ajax/metacomposer/social_text.php').setData(ba).setHandler(this.$ShareDialogTagSummary4).send();}.bind(this),o;}m.prototype.componentWillMount=function(){'use strict';this.$ShareDialogTagSummary1=c('Arbiter').subscribe('composer/ogIconPickerOpened',function(event,n){l=false;});this.$ShareDialogTagSummary3(this.props);};m.prototype.componentWillUnmount=function(){'use strict';if(this.$ShareDialogTagSummary2)this.$ShareDialogTagSummary2.abort();};m.prototype.componentWillReceiveProps=function(n){'use strict';if(!this.props.taggerData.equals(n.taggerData))this.$ShareDialogTagSummary3(n);};m.prototype.render=function(){'use strict';var n=c('joinClasses')(this.props.className,"_3qg0");return c('React').createElement('div',{className:n,onMouseDown:this.$ShareDialogTagSummary5,dangerouslySetInnerHTML:this.state.socialText});};m.propTypes={ogObjectClick:k.func.isRequired,onTagSummaryClick:k.func.isRequired,peopleToExclude:k.instanceOf(c('immutable').Set).isRequired,placeTokenClick:k.func.isRequired,taggerData:k.instanceOf(c('immutable').Map).isRequired,withTokenClick:k.func.isRequired};m.defaultProps={peopleToExclude:c('immutable').Set(),ogObjectClick:c('emptyFunction'),onTagSummaryClick:c('emptyFunction'),placeTokenClick:c('emptyFunction'),withTokenClick:c('emptyFunction')};f.exports=m;}),null);
__d('ReactComposerTaggerSummaryContainer.react',['ReactComposerContextMixin','ReactComposerLoggingName','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerPropsAndStoreBasedStateMixin','ShareDialogTagSummary.react','Arbiter','immutable','React','ReactDOM','containsNode'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'ReactComposerTaggerSummaryContainer',_ogSubscription:undefined,mixins:[c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],statics:{calculateState:function i(j,k){var l=c('ReactComposerTaggerStore').getTaggersData(j),m=l[c('ReactComposerTaggerType').PEOPLE],n=l[c('ReactComposerTaggerType').LOCATION],o=l[c('ReactComposerTaggerType').ACTIVITY],p=n?n.place:null,q=l[c('ReactComposerTaggerType').PRODUCT];return {people:m,place:p,activity:o,products:q};}},componentWillMount:function i(){this._ogSubscription=c('Arbiter').subscribe('composer/ogCustomIconSelected',function(event,j){if(!c('containsNode')(c('ReactDOM').findDOMNode(this.refs.taggerSummary),j.triggerElement))return;var k=c('ReactComposerTaggerStore').getTaggerData(this.context.composerID,c('ReactComposerTaggerType').ACTIVITY)||{};k.actionIconID=j.icon_id;k.actionIconURI=j.iconURI;c('ReactComposerTaggerActions').setTaggerDataWithoutLogging(this.context.composerID,c('ReactComposerTaggerType').ACTIVITY,k);}.bind(this));},componentWillUnmount:function i(){if(this._ogSubscription){this._ogSubscription.unsubscribe&&this._ogSubscription.unsubscribe();this._ogSubscription=null;}},render:function i(){return (c('React').createElement(c('ShareDialogTagSummary.react'),{ogObjectClick:this._ogObjectClick,onTagSummaryClick:this._onTagSummaryClick,peopleToExclude:c('immutable').Set([this.context.actorID]),placeTokenClick:this._placeTokenClick,ref:'taggerSummary',taggerData:c('immutable').Map({action:this.state.activity.action,actionIconID:this.state.activity.actionIconID,object:this.state.activity.object,people:this.state.people,place:this.state.place,products:this.state.products}),withTokenClick:this._withTokenClick}));},_withTokenClick:function i(){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,c('ReactComposerLoggingName').TAGGER_SUMMARY_PEOPLE,c('ReactComposerTaggerType').PEOPLE);},_placeTokenClick:function i(){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,c('ReactComposerLoggingName').TAGGER_SUMMARY_LOCATION,c('ReactComposerTaggerType').LOCATION);},_ogObjectClick:function i(){c('ReactComposerTaggerActions').selectTagger(this.context.composerID,c('ReactComposerLoggingName').TAGGER_SUMMARY_MINUTIAE,c('ReactComposerTaggerType').ACTIVITY);},_onTagSummaryClick:function i(){c('ReactComposerTaggerActions').deselectCurrentTagger(this.context.composerID,c('ReactComposerLoggingName').TAGGER_SUMMARY_ROW);}});f.exports=h;}),null);