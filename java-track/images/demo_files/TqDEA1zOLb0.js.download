if (self.CavalryLogger) { CavalryLogger.start_js(["wFpbm"]); }

__d('EgoAdsObjectSet',['csx','DataAttributeUtils','DOM'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=void 0;function j(l){'use strict';i=l;this._allEgoUnits=[];this._egoUnits=[];}j.prototype.init=function(l){'use strict';this._allEgoUnits=l;this._egoUnits=[];this._allEgoUnits.forEach(function(m){var n=k(m);if(!n||!n.holdout)this._egoUnits.push(m);},this);};j.prototype.getCount=function(){'use strict';return this._egoUnits.length;};j.prototype.forEach=function(l,m){'use strict';this._egoUnits.forEach(l,m);};j.prototype.getUnit=function(l){'use strict';return this._egoUnits[l];};j.prototype.getHoldoutAdIDsForSpace=function(l,m){'use strict';if(!l||!m)return [];var n=[];for(var o=0;l>0&&o<this._allEgoUnits.length;o++){var p=this._allEgoUnits[o],q=m(p),r=k(p);if(l>=q&&r&&r.holdout)n.push(r.adid);l-=q;}return n;};j.prototype.getHoldoutAdIDsForNumAds=function(l){'use strict';l=Math.min(l,this._allEgoUnits.length);var m=[];for(var n=0;n<l;n++){var o=this._allEgoUnits[n],p=k(o);if(p&&p.holdout)m.push(p.adid);}return m;};function k(l){var m=c('DOM').scry(l,i||"div._4u8")[0],n=m&&c('DataAttributeUtils').getDataAttribute(m,'data-ad');return n&&JSON.parse(n)||undefined;}f.exports=j;}),null);
__d('rayInterceptsBox',['invariant'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k,l){var m=Object.keys(k);l.forEach(function(n){!(m.indexOf(n)!==-1)?h(0):void 0;!(typeof k[n]==='number')?h(0):void 0;});}var j={check:function k(l,m){i(l,['minX','maxX','minY','maxY']);i(m,['x','y','dx','dy']);!(l.maxX>l.minX&&l.maxY>l.minY)?h(0):void 0;if(m.dx===0&&m.dy===0)return false;if(m.x>=l.minX&&m.x<=l.maxX&&m.y>=l.minY&&m.y<=l.maxY)return true;var n=(l.minX-m.x)/m.dx,o=(l.maxX-m.x)/m.dx,p=(l.minY-m.y)/m.dy,q=(l.maxY-m.y)/m.dy,r=Math.max(Math.min(n,o),Math.min(p,q)),s=Math.min(Math.max(n,o),Math.max(p,q));if(r<0)return false;if(r>s)return false;return true;}};f.exports=j;}),null);
__d('AdsMouseStateStore',['invariant','Arbiter','DOM','Event','Vector','$','keyMirrorRecursive','rayInterceptsBox','throttle'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=30,j=500,k=c('keyMirrorRecursive')({STATIONARY:'',INTENT:'',HOVER:'',NO_INTENT:''}),l=void 0,m=void 0,n=void 0,o=void 0,p=void 0;function q(){l=k.STATIONARY;m=0;n=0;o=Date.now();p='pagelet_ego_pane';}q();function r(event){try{return {x:event.clientX||event.x,y:event.clientY||event.y};}catch(t){var u=Math.random()*1000;return {x:u,y:u};}}var s=Object.assign(new (c('Arbiter'))(),{getState:function t(){return l;},updateRhcID:function t(u){!c('$')(u)?h(0):void 0;p=u;},getRhcID:function t(){return p;},onPageTransition:function t(event){q();},onMouseMove:function t(event){this.calculateState(r(event));},__updateMousePos:function t(u){m=u.x;n=u.y;},isRhcPresent:function t(){if(!c('DOM').scry(document.body,'#'+p).length)return false;var u=this.getRhcDimensions();return u.y>0&&u.x>0;},getRhc:function t(){return c('$')(p);},getRhcPosition:function t(){return c('Vector').getElementPosition(this.getRhc());},getRhcScreenPos:function t(){var u=c('Vector').getScrollPosition(),v=this.getRhcPosition();return {x:v.x-u.x,y:v.y-u.y};},getRhcDimensions:function t(){return c('Vector').getElementDimensions(this.getRhc());},getRhcBoundingBox:function t(){var u=this.getRhcDimensions(),v=this.getRhcScreenPos();return {minX:v.x,maxX:v.x+u.x,minY:v.y,maxY:v.y+u.y};},isPosContainedInRhc:function t(u){var v=this.getRhcBoundingBox();return (u.x>=v.minX&&u.x<=v.maxX&&u.y>=v.minY&&u.y<=v.maxY);},hasMovedMinDistance:function t(u){var v=u.x-m,w=u.y-n;return v*v+w*w>=i*i;},tooSoon:function t(){return Date.now()-o<j;},_updateTime:function t(){o=Date.now();},calculateState:function t(u){if(this.tooSoon())return;this._updateTime();if(!this.isRhcPresent())return;if(this.isPosContainedInRhc(u)){this.transitionToState(k.HOVER);this.__updateMousePos(u);this.scheduleCheckup();return;}else if(!this.hasMovedMinDistance(u)){this.transitionToState(k.STATIONARY);return;}var v=this.isMovingTowardsRhc(u)?k.INTENT:k.NO_INTENT;this.transitionToState(v);this.__updateMousePos(u);this.scheduleCheckup();},isMovingTowardsRhc:function t(u){var v={x:m,y:n};if(this.isPosContainedInRhc(v))return true;var w=this.getRhcBoundingBox(),x={x:m,y:n,dx:u.x-m,dy:u.y-n};return c('rayInterceptsBox').check(w,x);},scheduleCheckup:function t(){var u={x:m,y:n};setTimeout(function(){this.calculateState(u);}.bind(this),j*1.5);},transitionToState:function t(u){if(u===l)return;l=u;s.inform('change');}});c('Event').listen(document,'mousemove',c('throttle')(s.onMouseMove.bind(s),j));c('Arbiter').subscribe('page_transition',s.onPageTransition);s.STATES=k;s.MIN_MOVE_DISTANCE=i;s.THROTTLE_TIME=j;f.exports=s;}),null);
__d('BrowseClientEventLogger',['Banzai','SearchLoggingOptions'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='browse_client_event_session',i='search_www_click_error',j='21.',k={logData:function l(event,m,n,o){if(!event||!m)return;o=o||{};o.event=event;o.client_time=Math.floor(Date.now());o.session_id=m;o.vertical=n;this.processedSessions=this.processedSessions||[];if(this.processedSessions.indexOf(m)!==-1)return;var p=o.event==='click'&&o.clicked_href!==undefined&&c('SearchLoggingOptions').signalLinkClicks;c('Banzai').post(h,[o],{delay:0,retry:true,signal:p});},logClick:function l(m){m.gt.event='click';this.maybeLogVisiblityEvent(m,true);},maybeLogClientViewEvent:function l(m){m.event='client_view';this.maybeLogVisiblityEvent(m);},maybeLogVisiblityEvent:function l(m,n){var o=null;if(n){o=m;m=m.gt;}if(!m||!m.xt||m.xt.indexOf(j)!==0){if(n)c('Banzai').post(i,[o],{delay:0,retry:true});return;}var p=JSON.parse(m.xt.substring(3));if(n){p.click_type=m.click_type;p.tn=m.tn;p.clicked_href=m.clicked_href;}var event=m.event;if(event==='vpvd'){if(!m.ft)return;p.vpvd_time=m.ft.vpvd_time_delta;}this.logData(event,p.session_id,p.vertical,p);},logImpression:function l(m){m.event='impression';this.maybeLogVisiblityEvent(m);}};f.exports=k;}),null);
__d("GamesGogglesSwitch",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=false,i={enable:function j(){h=true;},isEnabled:function j(){return h;}};f.exports=i;}),null);
__d('VisibilityTrackingHelper',['Arbiter','DesktopHscrollUnitEventConstants','getViewportDimensions','Event'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getEventListeners:function i(j){return [c('Event').listen(document,'DOMContentLoaded',j),c('Event').listen(window,'scroll',j),c('Event').listen(window,'resize',j),c('Arbiter').subscribe(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_SHOWN_EVENT,j)];},getViewportInfo:function i(){return c('getViewportDimensions')();}};f.exports=h;}),null);
__d('VisibilityTracking',['Banzai','BrowseClientEventLogger','DataAttributeUtils','ErrorUtils','ScriptPath','SubscriptionsHandler','Visibility','VisibilityTrackingHelper','collectDataAttributes','getElementPosition','pageID','throttle'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='visibility_tracking',i='[data-vistracking]',j=500,k=50,l=50,m=50,n=50,o={VISIBLE:'visible',HIDDEN:'hidden'},p={DEFAULT:'default',REMOVED:'removed'},q={name:o.VISIBLE,cause:p.DEFAULT},r={name:o.HIDDEN,cause:p.DEFAULT},s={name:o.HIDDEN,cause:p.REMOVED},t=0;function u(v){'use strict';v=v||{};if(!v.bypass_banzai_check&&!c('Banzai').isEnabled(h))return;this.visibleElementInfo={};this.getDataFromConfig(v);c('Visibility').addListener(c('Visibility').VISIBLE,c('ErrorUtils').guard(this.fireEvent,'VisibilityTracking:visible',this));if(!this.skipVisibilityHiddenEvents)c('Visibility').addListener(c('Visibility').HIDDEN,c('ErrorUtils').guard(this.clearAllVisibleElements,'VisibilityTracking:hidden',this));c('ScriptPath').subscribe(c('ErrorUtils').guard(this.updateVisibleElements,'VisibilityTracking:scriptPath',this));c('Banzai').subscribe(c('Banzai').SHUTDOWN,c('ErrorUtils').guard(this.onUnload,'VisibilityTracking:banzaiShutdown',this));this.fireEventCallback=c('throttle').acrossTransitions(c('ErrorUtils').guard(this.fireEvent,'VisibilityTracking:fireEventCallback',this),this.timeout,this);this.listeners=new (c('SubscriptionsHandler'))();c('VisibilityTrackingHelper').getEventListeners(this.fireEventCallback).forEach(function(w){this.listeners.addSubscriptions(w);},this);if(this.extraInit)c('ErrorUtils').applyWithGuard(this.extraInit.bind(this));}u.prototype.getDataFromConfig=function(v){'use strict';this.config=v;this.root=v.root||document.documentElement;this.selector=v.selector||i;this.timeout=typeof v.timeout!=='undefined'?v.timeout:j;this.minOffsetVisibleFromBottom=typeof v.minOffsetVisibleFromBottom!=='undefined'?v.minOffsetVisibleFromBottom:k;this.minOffsetVisibleFromTop=typeof v.minOffsetVisibleFromTop!=='undefined'?v.minOffsetVisibleFromTop:l;this.minOffsetVisibleFromLeft=typeof v.minOffsetVisibleFromLeft!=='undefined'?v.minOffsetVisibleFromLeft:m;this.minOffsetVisibleFromRight=typeof v.minOffsetVisibleFromRight!=='undefined'?v.minOffsetVisibleFromRight:n;this.handleAllHiddenEvents=typeof v.handleAllHiddenEvents!=='undefined'?v.handleAllHiddenEvents:false;this.handleAllVisibleEvents=typeof v.handleAllVisibleEvents!=='undefined'?v.handleAllVisibleEvents:false;this.skipVisibilityHiddenEvents=typeof v.skipVisibilityHiddenEvents!=='undefined'?v.skipVisibilityHiddenEvents:false;this.cacheTrackedElements=typeof v.cacheTrackedElements!=='undefined'?v.cacheTrackedElements:false;};u.prototype.getAllTrackedElements=function(){'use strict';if(!this.allTrackedElements){this.allTrackedElements={};var v=[];if(this.config.is_xtrackable){v=c('DataAttributeUtils').getXTrackableElements();}else if(this.root.querySelectorAll)v=this.root.querySelectorAll(this.selector);for(var w=0;w<v.length;w++){var x=this.getElementID(v[w]);this.allTrackedElements[x]=v[w];}}return this.allTrackedElements;};u.prototype.refreshAllTrackedElements=function(){'use strict';delete this.allTrackedElements;return this.getAllTrackedElements();};u.prototype.getDataToLog=function(v){'use strict';var w=Object.assign(c('collectDataAttributes')(v,['gt']).gt,{client_time:Date.now()/1000,time_spent_id:c('pageID'),script_path:c('ScriptPath').getScriptPath()});return w;};u.prototype.getElementID=function(v){'use strict';var w=v.$VisibilityTracking1;if(w)return w;v.$VisibilityTracking1=++t;return t;};u.prototype.sendDataToLog=function(v){'use strict';c('BrowseClientEventLogger').maybeLogVisiblityEvent(v);c('Banzai').post(h,v);};u.prototype.fireEvent=function(){'use strict';var v=this.cacheTrackedElements?this.allTrackedElements:this.refreshAllTrackedElements();for(var w in v){var x=v[w],y=c('VisibilityTrackingHelper').getViewportInfo(),z=this.isVisible(x,y);if(!z&&(w in this.visibleElementInfo||this.handleAllHiddenEvents)){this.handleEvent(x,r);}else if(z&&(!(w in this.visibleElementInfo)||this.handleAllVisibleEvents))this.handleEvent(x,q);}this.clearUntrackedVisibleElements();};u.prototype.isVisible=function(v,w){'use strict';var x=c('getElementPosition')(v);return (x.x||x.y||x.width||x.height)&&x.y+x.height>=this.minOffsetVisibleFromTop&&x.y<=w.height-this.minOffsetVisibleFromBottom&&x.x+x.width>=this.minOffsetVisibleFromLeft&&x.x<=w.width-this.minOffsetVisibleFromRight;};u.prototype.handleEvent=function(v,event){'use strict';var w=this.getElementID(v),x=this.getDataToLog(v),y;if(event.name===o.VISIBLE){var z=Math.floor(Date.now()/1000);y=c('pageID').concat(":",z.toString(),":",this.getElementID(v).toString());this.visibleElementInfo[w]={visibility_id:y,elem:v};}else if(event.name===o.HIDDEN)if(w in this.visibleElementInfo){y=this.visibleElementInfo[w].visibility_id;delete this.visibleElementInfo[w];}this.sendDataToLog(Object.assign(x,{event:event.name,visibility_id:y}));};u.prototype.clearUntrackedVisibleElements=function(){'use strict';var v=this.getAllTrackedElements();for(var w in this.visibleElementInfo)if(!(w in v)){var x=this.visibleElementInfo[w];if(x.elem)this.handleEvent(x.elem,s);}};u.prototype.clearAllVisibleElements=function(){'use strict';var v=this.getAllTrackedElements();for(var w in v)if(w in this.visibleElementInfo)this.handleEvent(v[w],r);this.clearUntrackedVisibleElements();};u.prototype.updateVisibleElements=function(){'use strict';this.clearAllVisibleElements();this.fireEvent();};u.prototype.refreshAndFireEvent=function(){'use strict';this.refreshAllTrackedElements();this.fireEventCallback();};u.prototype.onUnload=function(){'use strict';this.clearAllVisibleElements();if(this.listeners){this.listeners.release();this.listeners=null;}if(this.extraCleanup)c('ErrorUtils').applyWithGuard(this.extraCleanup.bind(this));};u.init=function(v){'use strict';new u(v);};u.EVENT=o;u.CAUSE=p;f.exports=u;}),null);
__d('GamesImpressionTracker',['cx','Arbiter','Banzai','Event','GamesGogglesSwitch','VisibilityTracking','throttle'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k='data-gamesegoimp',l='data-gamesrankedimp',m=1000;function n(s){if(c('GamesGogglesSwitch').isEnabled())s.className=s.className+' '+"_1z5y";}function o(s){return function(){if(s){s();s=null;}};}i=babelHelpers.inherits(p,c('VisibilityTracking'));j=i&&i.prototype;p.prototype.handleEvent=function(s,event){'use strict';if(event.name===c('VisibilityTracking').EVENT.VISIBLE){var t=s.getAttribute(l);s.removeAttribute(l);if(t){n(s);t&&c('Banzai').post('games_ranked_imp',{data:t});}c('Event').listen(s,'mouseover',o(function(){c('Banzai').post('games_mouseover',{data:t});c('Event').listen(s,'mouseout',o(function(){c('Banzai').post('games_mouseout',{data:t});}));}));}};function p(){'use strict';i.apply(this,arguments);}var q=new p({selector:'[data-gamesrankedimp]',handleAllVisibleEvents:true,skipVisibilityHiddenEvents:true,cacheTrackedElements:true}),r=c('throttle').acrossTransitions(function(){return q.fireEventCallback();},m,null);q.listeners.addSubscriptions(c('Event').listen(document,'mousemove',r),c('Event').listen(document,'click',r),c('Arbiter').subscribe('games_unit_loaded',function(){return q.refreshAllTrackedElements();}));}),null);
__d('BookmarkFeedSorter',['Run'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h,i={init:function j(k){h=k;c('Run').onLeave(function(){h=null;});},setChecked:function j(k){if(h)h.setValue(k);}};f.exports=i;}),null);
__d('legacy:async-signal',['AsyncSignal'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();b.AsyncSignal=c('AsyncSignal');}),3);
__d('LitestandColumnManager',['Arbiter','BlueBar','Event','NavigationMessage','Run','SubscriptionsHandler','clamp','ge','getScrollPosition'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=0,i=null;function j(){if(i)return;i=new (c('SubscriptionsHandler'))();i.addSubscriptions(c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,function(){m(0);k();}),c('Event').listen(window,'resize',function(){if(!c('BlueBar').hasFixedBlueBar()){m(0);k();}}),c('Event').listen(window,'scroll',function(){if(!l())k();}));c('Run').onLeave(function(){return i&&i.release();});}function k(){i.release();i=null;}function l(){if(h<=0)return false;m(c('clamp')(c('getScrollPosition')(window).y,0,h));return h>0;}function m(p){if(p===h)return;n('leftCol',p);n('rightCol',p);h=p;}function n(p,q){var r=c('ge')(p);if(r)r.style.marginTop=q?q+'px':'';}var o={adjustVerticalWindowPosition:function p(q,r){j();m(r);window.scrollTo(q.x,q.y+h);}};f.exports=o;}),null);
__d('LitestandStream',['csx','Arbiter','CSS','LitestandColumnManager','LitestandStoryInsertionStatus','Run','ViewportBounds','getElementPosition','getScrollPosition','nullthrows'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=void 0,j=void 0,k=void 0,l=void 0,m={init:function n(o,p,q,r){i=q;k=o;j=r;if(!l)l=c('Arbiter').subscribe('ufi/didUpdate',function(s,t){if(t.offsetY)c('LitestandColumnManager').adjustVerticalWindowPosition(c('getScrollPosition')(window),t.offsetY);});c('Run').onLeave(function(){l&&l.unsubscribe();l=null;});},getStoriesSelector:function n(){return "._5jmm";},getStreamRoot:function n(){return k;},getSectionID:function n(){return i;},getStoryID:function n(){return j;},isStory:function n(o){return c('CSS').matchesSelector(o,"._5jmm");},canInsertNewerStories:function n(){if(c('ViewportBounds').getTop()>c('getElementPosition')(m.getStreamRoot()).y)return false;return c('LitestandStoryInsertionStatus').canInsert();},getFeedStreamID:function n(){return parseInt(c('nullthrows')(k).id.split('feed_stream_')[1],16)%1e+08;}};f.exports=m;}),null);
__d("Ease",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={makePowerOut:function i(j){var k=h.makePowerIn(j);return function(l){return 1-k(1-l);};},makePowerIn:function i(j){return function(k){var l=Math.pow(k,j);return (l*10000|0)/10000;};},makePowerInOut:function i(j){var k=h.makePowerIn(j),l=h.makePowerOut(j);return function(m){return m<.5?.5*k(m*2):.5*l(m*2-1)+.5;};},expoOut:function i(j){return 1-Math.pow(2,-10*j);},expoIn:function i(j){return 1-h.expoOut(1-j);},expoInOut:function i(j){return j<.5?.5*h.expoIn(j*2):.5*h.expoOut(j*2-1)+.5;},sineOut:function i(j){return Math.sin(j*Math.PI*.5);},sineIn:function i(j){return 1-Math.cos(j*Math.PI*.5);},sineInOut:function i(j){return -.5*(Math.cos(Math.PI*j)-1);},circOut:function i(j){j--;return Math.sqrt(1-j*j);},circIn:function i(j){return 1-h.circOut(1-j);},circInOut:function i(j){return j<.5?.5*h.circIn(j*2):.5*h.circOut(j*2-1)+.5;},bounceOut:function i(j){if(j<1/2.75){return 7.5625*j*j;}else if(j<2/2.75){return 7.5625*(j-=1.5/2.75)*j+.75;}else if(j<2.5/2.75){return 7.5625*(j-=2.25/2.75)*j+.9375;}else return 7.5625*(j-=2.625/2.75)*j+.984375;},bounceIn:function i(j){return 1-h.bounceOut(1-j);},bounceInOut:function i(j){return j<.5?.5*h.bounceIn(j*2):.5*h.bounceOut(j*2-1)+.5;},makeBounceOut:function i(j){j=j||1;return function(k){k=(1-Math.cos(k*Math.PI*j))*(1-k)+k;return 1-Math.abs(1-k);};},makeBounceIn:function i(j){var k=h.makeBounceOut(j);return function(l){return 1-k(1-l);};},makeElasticOut:function i(j,k){j<1&&(j=1);var l=Math.PI*2;return function(m){if(m===0||m===1)return m;var n=k/l*Math.asin(1/j);return j*Math.pow(2,-10*m)*Math.sin((m-n)*l/k)+1;};},makeElasticIn:function i(j,k){var l=h.makeElasticOut(j,k);return function(m){return 1-l(1-m);};},makeElasticInOut:function i(j,k){k*=1.5;var l=h.makeElasticIn(j,k),m=h.makeElasticOut(j,k);return function(n){return n<.5?.5*l(n*2):.5*m(n*2-1)+.5;};},makeBackOut:function i(j){var k=h.makeBackIn(j);return function(l){return 1-k(1-l);};},makeBackIn:function i(j){return function(k){return k*k*((j+1)*k-j);};},makeBackInOut:function i(j){j*=1.525;var k=h.makeBackIn(j),l=h.makeBackOut(j);return function(m){return m<.5?.5*k(m*2):.5*l(m*2-1)+.5;};}};h.elasticOut=h.makeElasticOut(1,.3);h.elasticIn=h.makeElasticIn(1,.3);h.elasticInOut=h.makeElasticInOut(1,.3);h.backOut=h.makeBackOut(1.7);h.backIn=h.makeBackIn(1.7);h.backInOut=h.makeBackInOut(1.7);f.exports=h;}),null);
__d('EgoUnitSlideInsert',['csx','cx','Animation','CSS','DataStore','DOM','Ease','Event','Parent','TidyArbiterMixin','tidyEvent'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j='sliding',k="EgoSlider/End",l=babelHelpers['extends']({isSliding:function m(n){return c('DataStore').get(n,j);},runAfterSlide:function m(n,o){var p=c('tidyEvent')(l.subscribe(k,function(q,r){if(r===n){p&&p.unsubscribe();o();}}));},registerSlide:function m(n,o){c('Event').listen(n,'click',function(p){var q=c('Parent').bySelector(p.getTarget(),"._5cl_");if(!q)return;var r=c('Parent').byClass(n,'ego_unit'),s=0,t=c('Parent').byClass(r,'ego_unit_container'),u=c('DOM').scry(t,'.ego_unit')[0];if(u===r)if(r.nextSibling){r.nextSibling.style.paddingTop='0px';r.nextSibling.style.borderTop='0px';}c('CSS').addClass(r,"_5cl-");c('DataStore').set(r,j,true);new (c('Animation'))(r).to('height',0).to('padding-top',s).to('padding-bottom',0).to('margin',0).from('opacity',1).to('opacity',0).ease(c('Ease').circOut).duration(300).checkpoint(1,function(){c('DOM').appendContent(t,r);c('DOM').prependContent(r,o);c('DataStore').remove(r,j);}).to('height',12).to('opacity',1).to('margin-bottom',10).duration(0).checkpoint(2,function(){l.inform(k,r);}).go();});}},c('TidyArbiterMixin'));f.exports=l;}),null);
__d('NetEgo',['csx','Animation','Arbiter','CSS','DOM','EgoUnitSlideInsert','PageLikeConstants','Parent','URI','ge'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={setup:function j(k){c('Arbiter').subscribe([c('PageLikeConstants').LIKED,'FriendRequest/sending'],function(l,m){if(k==m.profile_id&&m.origin=='hovercard'||k==m.uid){var n=c('ge')(document.body,'.ego_unit_container');if(n){var o=c('DOM').scry(n,'.ego_unit'),p=o.length;for(var q=0;q<p;q++){var r=o[q].getAttribute('data-ego-fbid');if(r==k){var s=c('DOM').scry(o[q],'.ego_action a')[0];if(s)s.click();break;}}}}});},updateXids:function j(k,l){if(k.length==0&&l.length==0)return;var m=function w(x){return function(y){var z=y.getAttribute(x);if(!z)return false;var aa=new (c('URI'))(z).getQueryData();return !!aa.xids;};},n=c('DOM').scry(document.body,'.ego_section a');n=n.filter(m('ajaxify'));if(n.length==0)return;var o=new (c('URI'))(n[0].getAttribute('ajaxify')),p=o.getQueryData();if(!p.xids)return;var q=null;try{q=JSON.parse(p.xids);}catch(r){return;}for(var s=0;s<l.length;++s)q[l[s]]=1;var t=JSON.stringify(q),u=function w(x,y){o=new (c('URI'))(x.getAttribute(y));p=o.getQueryData();p.xids=t;o.setQueryData(p);x.setAttribute(y,o.toString());};for(s=0;s<n.length;++s)u(n[s],'ajaxify');var v=c('DOM').scry(document.body,'.ego_unit form');v=v.filter(m('action'));for(s=0;s<v.length;++s)u(v[s],'action');},replaceUnit:function j(k,l,m,n){i.replaceUnitCheckParent(k,l,m,n,'');},replaceUnitCheckParent:function j(k,l,m,n,o){var p=c('Parent').byClass(k,'ego_unit_container');if(p&&c('EgoUnitSlideInsert').isSliding(k)){var q=c('DOM').appendContent(p,l);q.forEach(c('CSS').hide);c('EgoUnitSlideInsert').runAfterSlide(k,i._replaceUnitElement.bind(null,k,q,o));}else i._replaceUnit(k,l,m,n,o);},_replaceUnit:function j(k,l,m,n,o){var p=c('DOM').insertAfter(k,l);p.forEach(c('CSS').hide);if(n!==undefined&&n!==null){setTimeout(function(){i._replaceUnitFadeout(k,p,m,o);},n);}else i._replaceUnitFadeout(k,p,m,o);},_replaceUnitFadeout:function j(k,l,m,n){if(m){new (c('Animation'))(k).from('opacity',1).to('opacity',0).duration(m).checkpoint(1,function(){i._replaceUnitElement(k,l,n);}).go();}else i._replaceUnitElement(k,l,n);},_replaceUnitElement:function j(k,l,m){var n=c('CSS').hasClass(k,'ego_unit')?k.parentNode:null;if(n&&n.tagName==='LI')n=c('DOM').scry(k.parentNode,'^ul')[0];c('DOM').remove(k);if(l.length)l.forEach(c('CSS').show);c('Arbiter').inform('netego_replacedUnit',{serializedData:m,numUnitsRemained:n.childNodes.length});i.clearHeader();},clearHeader:function j(){var k=c('DOM').scry(document.body,'.ego_column'),l=[];for(var m=0;m<k.length;++m)l=l.concat(c('DOM').scry(k[m],'.uiHeader'));for(m=0;m<l.length;++m){var n=l[m].nextSibling,o=c('DOM').find(n,"._2xq");if(!o)o=n;if(!o||o.childNodes.length===0){c('DOM').remove(l[m]);}else if(o.childNodes.length===1){var p=o.childNodes[0];if(c('CSS').hasClass(p,'ego_appended_units')&&p.childNodes.length===0)c('DOM').remove(l[m]);}}}};f.exports=i;}),null);
__d("XFeedEgoImpressionLoggingController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ego\/feed\/logging\/impression\/",{ego_id:{type:"Int",required:true},qid:{type:"Int",required:true},mf_story_key:{type:"Int",required:true},uid:{type:"Int"}});}),null);